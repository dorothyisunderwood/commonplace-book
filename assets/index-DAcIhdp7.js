(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wu={exports:{}},Ko={},ku={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=Symbol.for("react.element"),hf=Symbol.for("react.portal"),xf=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),wf=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),jf=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),Jl=Symbol.iterator;function Nf(e){return e===null||typeof e!="object"?null:(e=Jl&&e[Jl]||e["@@iterator"],typeof e=="function"?e:null)}var Su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ju=Object.assign,Cu={};function On(e,t,n){this.props=e,this.context=t,this.refs=Cu,this.updater=n||Su}On.prototype.isReactComponent={};On.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};On.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nu(){}Nu.prototype=On.prototype;function Qa(e,t,n){this.props=e,this.context=t,this.refs=Cu,this.updater=n||Su}var Ga=Qa.prototype=new Nu;Ga.constructor=Qa;ju(Ga,On.prototype);Ga.isPureReactComponent=!0;var Xl=Array.isArray,_u=Object.prototype.hasOwnProperty,Ya={current:null},Eu={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var r,o={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)_u.call(t,r)&&!Eu.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var u=Array(s),p=0;p<s;p++)u[p]=arguments[p+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Tr,type:e,key:a,ref:l,props:o,_owner:Ya.current}}function _f(e,t){return{$$typeof:Tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tr}function Ef(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zl=/\/+/g;function mi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ef(""+e.key):t.toString(36)}function lo(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Tr:case hf:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+mi(l,0):r,Xl(o)?(n="",e!=null&&(n=e.replace(Zl,"$&/")+"/"),lo(o,t,n,"",function(p){return p})):o!=null&&(qa(o)&&(o=_f(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Zl,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Xl(e))for(var s=0;s<e.length;s++){a=e[s];var u=r+mi(a,s);l+=lo(a,t,n,u,o)}else if(u=Nf(e),typeof u=="function")for(e=u.call(e),s=0;!(a=e.next()).done;)a=a.value,u=r+mi(a,s++),l+=lo(a,t,n,u,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Br(e,t,n){if(e==null)return e;var r=[],o=0;return lo(e,r,"","",function(a){return t.call(n,a,o++)}),r}function zf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},so={transition:null},Pf={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:so,ReactCurrentOwner:Ya};function Pu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Br,forEach:function(e,t,n){Br(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Br(e,function(){t++}),t},toArray:function(e){return Br(e,function(t){return t})||[]},only:function(e){if(!qa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=On;$.Fragment=xf;$.Profiler=vf;$.PureComponent=Qa;$.StrictMode=yf;$.Suspense=Sf;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pf;$.act=Pu;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ju({},e.props),o=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Ya.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)_u.call(t,u)&&!Eu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var p=0;p<u;p++)s[p]=arguments[p+2];r.children=s}return{$$typeof:Tr,type:e.type,key:o,ref:a,props:r,_owner:l}};$.createContext=function(e){return e={$$typeof:wf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bf,_context:e},e.Consumer=e};$.createElement=zu;$.createFactory=function(e){var t=zu.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:kf,render:e}};$.isValidElement=qa;$.lazy=function(e){return{$$typeof:Cf,_payload:{_status:-1,_result:e},_init:zf}};$.memo=function(e,t){return{$$typeof:jf,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=so.transition;so.transition={};try{e()}finally{so.transition=t}};$.unstable_act=Pu;$.useCallback=function(e,t){return _e.current.useCallback(e,t)};$.useContext=function(e){return _e.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};$.useEffect=function(e,t){return _e.current.useEffect(e,t)};$.useId=function(){return _e.current.useId()};$.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return _e.current.useMemo(e,t)};$.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};$.useRef=function(e){return _e.current.useRef(e)};$.useState=function(e){return _e.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return _e.current.useTransition()};$.version="18.3.1";ku.exports=$;var S=ku.exports;const Tf=mf(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=S,Lf=Symbol.for("react.element"),If=Symbol.for("react.fragment"),Mf=Object.prototype.hasOwnProperty,Ff=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Df={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,o={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Mf.call(t,r)&&!Df.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Lf,type:e,key:a,ref:l,props:o,_owner:Ff.current}}Ko.Fragment=If;Ko.jsx=Tu;Ko.jsxs=Tu;wu.exports=Ko;var i=wu.exports,Yi={},Ru={exports:{}},Oe={},Lu={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,M){var L=z.length;z.push(M);e:for(;0<L;){var Y=L-1>>>1,K=z[Y];if(0<o(K,M))z[Y]=M,z[L]=K,L=Y;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var M=z[0],L=z.pop();if(L!==M){z[0]=L;e:for(var Y=0,K=z.length,Ye=K>>>1;Y<Ye;){var je=2*(Y+1)-1,G=z[je],de=je+1,ye=z[de];if(0>o(G,L))de<K&&0>o(ye,G)?(z[Y]=ye,z[de]=L,Y=de):(z[Y]=G,z[je]=L,Y=je);else if(de<K&&0>o(ye,L))z[Y]=ye,z[de]=L,Y=de;else break e}}return M}function o(z,M){var L=z.sortIndex-M.sortIndex;return L!==0?L:z.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var u=[],p=[],g=1,m=null,x=3,w=!1,k=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(z){for(var M=n(p);M!==null;){if(M.callback===null)r(p);else if(M.startTime<=z)r(p),M.sortIndex=M.expirationTime,t(u,M);else break;M=n(p)}}function h(z){if(j=!1,f(z),!k)if(n(u)!==null)k=!0,$e(v);else{var M=n(p);M!==null&&D(h,M.startTime-z)}}function v(z,M){k=!1,j&&(j=!1,c(P),P=-1),w=!0;var L=x;try{for(f(M),m=n(u);m!==null&&(!(m.expirationTime>M)||z&&!O());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,x=m.priorityLevel;var K=Y(m.expirationTime<=M);M=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(u)&&r(u),f(M)}else r(u);m=n(u)}if(m!==null)var Ye=!0;else{var je=n(p);je!==null&&D(h,je.startTime-M),Ye=!1}return Ye}finally{m=null,x=L,w=!1}}var C=!1,N=null,P=-1,F=5,I=-1;function O(){return!(e.unstable_now()-I<F)}function J(){if(N!==null){var z=e.unstable_now();I=z;var M=!0;try{M=N(!0,z)}finally{M?V():(C=!1,N=null)}}else C=!1}var V;if(typeof d=="function")V=function(){d(J)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ot=Ge.port2;Ge.port1.onmessage=J,V=function(){ot.postMessage(null)}}else V=function(){b(J,0)};function $e(z){N=z,C||(C=!0,V())}function D(z,M){P=b(function(){z(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,$e(v))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var L=x;x=M;try{return z()}finally{x=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,M){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var L=x;x=z;try{return M()}finally{x=L}},e.unstable_scheduleCallback=function(z,M,L){var Y=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Y+L:Y):L=Y,z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,z={id:g++,callback:M,priorityLevel:z,startTime:L,expirationTime:K,sortIndex:-1},L>Y?(z.sortIndex=L,t(p,z),n(u)===null&&z===n(p)&&(j?(c(P),P=-1):j=!0,D(h,L-Y))):(z.sortIndex=K,t(u,z),k||w||(k=!0,$e(v))),z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(z){var M=x;return function(){var L=x;x=M;try{return z.apply(this,arguments)}finally{x=L}}}})(Iu);Lu.exports=Iu;var Bf=Lu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=S,Be=Bf;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mu=new Set,gr={};function rn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(gr[e]=t,e=0;e<t.length;e++)Mu.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qi=Object.prototype.hasOwnProperty,Af=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,es={},ts={};function $f(e){return qi.call(ts,e)?!0:qi.call(es,e)?!1:Af.test(e)?ts[e]=!0:(es[e]=!0,!1)}function Wf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hf(e,t,n,r){if(t===null||typeof t>"u"||Wf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,r,o,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Xa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ja,Xa);xe[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ja,Xa);xe[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ja,Xa);xe[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function Za(e,t,n,r){var o=xe.hasOwnProperty(t)?xe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hf(t,n,o,r)&&(n=null),r||o===null?$f(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bt=Of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Or=Symbol.for("react.element"),pn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),Ji=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Du=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Xi=Symbol.for("react.suspense"),Zi=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Bu=Symbol.for("react.offscreen"),ns=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=ns&&e[ns]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,hi;function Zn(e){if(hi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hi=t&&t[1]||""}return`
`+hi+e}var xi=!1;function yi(e,t){if(!e||xi)return"";xi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),l=o.length-1,s=a.length-1;1<=l&&0<=s&&o[l]!==a[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==a[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==a[s]){var u=`
`+o[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=s);break}}}finally{xi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zn(e):""}function Uf(e){switch(e.tag){case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return e=yi(e.type,!1),e;case 11:return e=yi(e.type.render,!1),e;case 1:return e=yi(e.type,!0),e;default:return""}}function ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case pn:return"Portal";case Ji:return"Profiler";case el:return"StrictMode";case Xi:return"Suspense";case Zi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Du:return(e.displayName||"Context")+".Consumer";case Fu:return(e._context.displayName||"Context")+".Provider";case tl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nl:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}function Vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(t);case 8:return t===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kf(e){var t=Ou(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){e._valueTracker||(e._valueTracker=Kf(e))}function Au(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ou(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rs(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $u(e,t){t=t.checked,t!=null&&Za(e,"checked",t,!1)}function na(e,t){$u(e,t);var n=Bt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,Bt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function os(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function is(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(er(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bt(n)}}function Wu(e,t){var n=Bt(t.value),r=Bt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function as(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $r,Uu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qf=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(e){Qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});function Vu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function Ku(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Vu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Gf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,t){if(t){if(Gf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Nn=null,_n=null;function ls(e){if(e=Ir(e)){if(typeof ua!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Jo(t),ua(e.stateNode,e.type,t))}}function Qu(e){Nn?_n?_n.push(e):_n=[e]:Nn=e}function Gu(){if(Nn){var e=Nn,t=_n;if(_n=Nn=null,ls(e),t)for(e=0;e<t.length;e++)ls(t[e])}}function Yu(e,t){return e(t)}function qu(){}var vi=!1;function Ju(e,t,n){if(vi)return e(t,n);vi=!0;try{return Yu(e,t,n)}finally{vi=!1,(Nn!==null||_n!==null)&&(qu(),Gu())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=Jo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var da=!1;if(ht)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){da=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{da=!1}function Yf(e,t,n,r,o,a,l,s,u){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var ir=!1,ko=null,So=!1,ca=null,qf={onError:function(e){ir=!0,ko=e}};function Jf(e,t,n,r,o,a,l,s,u){ir=!1,ko=null,Yf.apply(qf,arguments)}function Xf(e,t,n,r,o,a,l,s,u){if(Jf.apply(this,arguments),ir){if(ir){var p=ko;ir=!1,ko=null}else throw Error(E(198));So||(So=!0,ca=p)}}function on(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ss(e){if(on(e)!==e)throw Error(E(188))}function Zf(e){var t=e.alternate;if(!t){if(t=on(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ss(o),e;if(a===r)return ss(o),t;a=a.sibling}throw Error(E(188))}if(n.return!==r.return)n=o,r=a;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=a;break}if(s===r){l=!0,r=o,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=o;break}if(s===r){l=!0,r=a,n=o;break}s=s.sibling}if(!l)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Zu(e){return e=Zf(e),e!==null?ed(e):null}function ed(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ed(e);if(t!==null)return t;e=e.sibling}return null}var td=Be.unstable_scheduleCallback,us=Be.unstable_cancelCallback,ep=Be.unstable_shouldYield,tp=Be.unstable_requestPaint,ae=Be.unstable_now,np=Be.unstable_getCurrentPriorityLevel,ol=Be.unstable_ImmediatePriority,nd=Be.unstable_UserBlockingPriority,jo=Be.unstable_NormalPriority,rp=Be.unstable_LowPriority,rd=Be.unstable_IdlePriority,Qo=null,st=null;function op(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Qo,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:lp,ip=Math.log,ap=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(ip(e)/ap|0)|0}var Wr=64,Hr=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Co(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~o;s!==0?r=tr(s):(a&=l,a!==0&&(r=tr(a)))}else l=n&~o,l!==0?r=tr(l):a!==0&&(r=tr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),o=1<<n,r|=e[n],t&=~o;return r}function sp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-et(a),s=1<<l,u=o[l];u===-1?(!(s&n)||s&r)&&(o[l]=sp(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}function fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function od(){var e=Wr;return Wr<<=1,!(Wr&4194240)&&(Wr=64),e}function bi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function dp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-et(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function il(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Q=0;function id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ad,al,ld,sd,ud,pa=!1,Ur=[],Pt=null,Tt=null,Rt=null,xr=new Map,yr=new Map,Nt=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ds(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(t.pointerId)}}function Kn(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Ir(t),t!==null&&al(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fp(e,t,n,r,o){switch(t){case"focusin":return Pt=Kn(Pt,e,t,n,r,o),!0;case"dragenter":return Tt=Kn(Tt,e,t,n,r,o),!0;case"mouseover":return Rt=Kn(Rt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return xr.set(a,Kn(xr.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,yr.set(a,Kn(yr.get(a)||null,e,t,n,r,o)),!0}return!1}function dd(e){var t=Qt(e.target);if(t!==null){var n=on(t);if(n!==null){if(t=n.tag,t===13){if(t=Xu(n),t!==null){e.blockedOn=t,ud(e.priority,function(){ld(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sa=r,n.target.dispatchEvent(r),sa=null}else return t=Ir(n),t!==null&&al(t),e.blockedOn=n,!1;t.shift()}return!0}function cs(e,t,n){uo(e)&&n.delete(t)}function pp(){pa=!1,Pt!==null&&uo(Pt)&&(Pt=null),Tt!==null&&uo(Tt)&&(Tt=null),Rt!==null&&uo(Rt)&&(Rt=null),xr.forEach(cs),yr.forEach(cs)}function Qn(e,t){e.blockedOn===t&&(e.blockedOn=null,pa||(pa=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,pp)))}function vr(e){function t(o){return Qn(o,e)}if(0<Ur.length){Qn(Ur[0],e);for(var n=1;n<Ur.length;n++){var r=Ur[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&Qn(Pt,e),Tt!==null&&Qn(Tt,e),Rt!==null&&Qn(Rt,e),xr.forEach(t),yr.forEach(t),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)dd(n),n.blockedOn===null&&Nt.shift()}var En=bt.ReactCurrentBatchConfig,No=!0;function gp(e,t,n,r){var o=Q,a=En.transition;En.transition=null;try{Q=1,ll(e,t,n,r)}finally{Q=o,En.transition=a}}function mp(e,t,n,r){var o=Q,a=En.transition;En.transition=null;try{Q=4,ll(e,t,n,r)}finally{Q=o,En.transition=a}}function ll(e,t,n,r){if(No){var o=ga(e,t,n,r);if(o===null)Pi(e,t,r,_o,n),ds(e,r);else if(fp(o,e,t,n,r))r.stopPropagation();else if(ds(e,r),t&4&&-1<cp.indexOf(e)){for(;o!==null;){var a=Ir(o);if(a!==null&&ad(a),a=ga(e,t,n,r),a===null&&Pi(e,t,r,_o,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Pi(e,t,r,null,n)}}var _o=null;function ga(e,t,n,r){if(_o=null,e=rl(r),e=Qt(e),e!==null)if(t=on(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _o=e,null}function cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(np()){case ol:return 1;case nd:return 4;case jo:case rp:return 16;case rd:return 536870912;default:return 16}default:return 16}}var Et=null,sl=null,co=null;function fd(){if(co)return co;var e,t=sl,n=t.length,r,o="value"in Et?Et.value:Et.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[a-r];r++);return co=o.slice(e,1<r?1-r:void 0)}function fo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function fs(){return!1}function Ae(e){function t(n,r,o,a,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vr:fs,this.isPropagationStopped=fs,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Ae(An),Lr=oe({},An,{view:0,detail:0}),hp=Ae(Lr),wi,ki,Gn,Go=oe({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(wi=e.screenX-Gn.screenX,ki=e.screenY-Gn.screenY):ki=wi=0,Gn=e),wi)},movementY:function(e){return"movementY"in e?e.movementY:ki}}),ps=Ae(Go),xp=oe({},Go,{dataTransfer:0}),yp=Ae(xp),vp=oe({},Lr,{relatedTarget:0}),Si=Ae(vp),bp=oe({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=Ae(bp),kp=oe({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=Ae(kp),jp=oe({},An,{data:0}),gs=Ae(jp),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_p[e])?!!t[e]:!1}function dl(){return Ep}var zp=oe({},Lr,{key:function(e){if(e.key){var t=Cp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(e){return e.type==="keypress"?fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pp=Ae(zp),Tp=oe({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=Ae(Tp),Rp=oe({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Lp=Ae(Rp),Ip=oe({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mp=Ae(Ip),Fp=oe({},Go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=Ae(Fp),Bp=[9,13,27,32],cl=ht&&"CompositionEvent"in window,ar=null;ht&&"documentMode"in document&&(ar=document.documentMode);var Op=ht&&"TextEvent"in window&&!ar,pd=ht&&(!cl||ar&&8<ar&&11>=ar),hs=" ",xs=!1;function gd(e,t){switch(e){case"keyup":return Bp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function Ap(e,t){switch(e){case"compositionend":return md(t);case"keypress":return t.which!==32?null:(xs=!0,hs);case"textInput":return e=t.data,e===hs&&xs?null:e;default:return null}}function $p(e,t){if(mn)return e==="compositionend"||!cl&&gd(e,t)?(e=fd(),co=sl=Et=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pd&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ys(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function hd(e,t,n,r){Qu(r),t=Eo(t,"onChange"),0<t.length&&(n=new ul("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lr=null,br=null;function Hp(e){_d(e,0)}function Yo(e){var t=yn(e);if(Au(t))return e}function Up(e,t){if(e==="change")return t}var xd=!1;if(ht){var ji;if(ht){var Ci="oninput"in document;if(!Ci){var vs=document.createElement("div");vs.setAttribute("oninput","return;"),Ci=typeof vs.oninput=="function"}ji=Ci}else ji=!1;xd=ji&&(!document.documentMode||9<document.documentMode)}function bs(){lr&&(lr.detachEvent("onpropertychange",yd),br=lr=null)}function yd(e){if(e.propertyName==="value"&&Yo(br)){var t=[];hd(t,br,e,rl(e)),Ju(Hp,t)}}function Vp(e,t,n){e==="focusin"?(bs(),lr=t,br=n,lr.attachEvent("onpropertychange",yd)):e==="focusout"&&bs()}function Kp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(br)}function Qp(e,t){if(e==="click")return Yo(t)}function Gp(e,t){if(e==="input"||e==="change")return Yo(t)}function Yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:Yp;function wr(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!qi.call(t,o)||!nt(e[o],t[o]))return!1}return!0}function ws(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ks(e,t){var n=ws(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ws(n)}}function vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(){for(var e=window,t=wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wo(e.document)}return t}function fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qp(e){var t=bd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vd(n.ownerDocument.documentElement,n)){if(r!==null&&fl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ks(n,a);var l=ks(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jp=ht&&"documentMode"in document&&11>=document.documentMode,hn=null,ma=null,sr=null,ha=!1;function Ss(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ha||hn==null||hn!==wo(r)||(r=hn,"selectionStart"in r&&fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sr&&wr(sr,r)||(sr=r,r=Eo(ma,"onSelect"),0<r.length&&(t=new ul("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hn)))}function Kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xn={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionend:Kr("Transition","TransitionEnd")},Ni={},wd={};ht&&(wd=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function qo(e){if(Ni[e])return Ni[e];if(!xn[e])return e;var t=xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wd)return Ni[e]=t[n];return e}var kd=qo("animationend"),Sd=qo("animationiteration"),jd=qo("animationstart"),Cd=qo("transitionend"),Nd=new Map,js="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){Nd.set(e,t),rn(t,[e])}for(var _i=0;_i<js.length;_i++){var Ei=js[_i],Xp=Ei.toLowerCase(),Zp=Ei[0].toUpperCase()+Ei.slice(1);At(Xp,"on"+Zp)}At(kd,"onAnimationEnd");At(Sd,"onAnimationIteration");At(jd,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(Cd,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function Cs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xf(r,t,void 0,e),e.currentTarget=null}function _d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],u=s.instance,p=s.currentTarget;if(s=s.listener,u!==a&&o.isPropagationStopped())break e;Cs(o,s,p),a=u}else for(l=0;l<r.length;l++){if(s=r[l],u=s.instance,p=s.currentTarget,s=s.listener,u!==a&&o.isPropagationStopped())break e;Cs(o,s,p),a=u}}}if(So)throw e=ca,So=!1,ca=null,e}function X(e,t){var n=t[wa];n===void 0&&(n=t[wa]=new Set);var r=e+"__bubble";n.has(r)||(Ed(t,e,2,!1),n.add(r))}function zi(e,t,n){var r=0;t&&(r|=4),Ed(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[Qr]){e[Qr]=!0,Mu.forEach(function(n){n!=="selectionchange"&&(eg.has(n)||zi(n,!1,e),zi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,zi("selectionchange",!1,t))}}function Ed(e,t,n,r){switch(cd(t)){case 1:var o=gp;break;case 4:o=mp;break;default:o=ll}n=o.bind(null,t,n,e),o=void 0,!da||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Pi(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;l=l.return}for(;s!==null;){if(l=Qt(s),l===null)return;if(u=l.tag,u===5||u===6){r=a=l;continue e}s=s.parentNode}}r=r.return}Ju(function(){var p=a,g=rl(n),m=[];e:{var x=Nd.get(e);if(x!==void 0){var w=ul,k=e;switch(e){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":w=Pp;break;case"focusin":k="focus",w=Si;break;case"focusout":k="blur",w=Si;break;case"beforeblur":case"afterblur":w=Si;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Lp;break;case kd:case Sd:case jd:w=wp;break;case Cd:w=Mp;break;case"scroll":w=hp;break;case"wheel":w=Dp;break;case"copy":case"cut":case"paste":w=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ms}var j=(t&4)!==0,b=!j&&e==="scroll",c=j?x!==null?x+"Capture":null:x;j=[];for(var d=p,f;d!==null;){f=d;var h=f.stateNode;if(f.tag===5&&h!==null&&(f=h,c!==null&&(h=hr(d,c),h!=null&&j.push(Sr(d,h,f)))),b)break;d=d.return}0<j.length&&(x=new w(x,k,null,n,g),m.push({event:x,listeners:j}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",x&&n!==sa&&(k=n.relatedTarget||n.fromElement)&&(Qt(k)||k[xt]))break e;if((w||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=p,k=k?Qt(k):null,k!==null&&(b=on(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=p),w!==k)){if(j=ps,h="onMouseLeave",c="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(j=ms,h="onPointerLeave",c="onPointerEnter",d="pointer"),b=w==null?x:yn(w),f=k==null?x:yn(k),x=new j(h,d+"leave",w,n,g),x.target=b,x.relatedTarget=f,h=null,Qt(g)===p&&(j=new j(c,d+"enter",k,n,g),j.target=f,j.relatedTarget=b,h=j),b=h,w&&k)t:{for(j=w,c=k,d=0,f=j;f;f=sn(f))d++;for(f=0,h=c;h;h=sn(h))f++;for(;0<d-f;)j=sn(j),d--;for(;0<f-d;)c=sn(c),f--;for(;d--;){if(j===c||c!==null&&j===c.alternate)break t;j=sn(j),c=sn(c)}j=null}else j=null;w!==null&&Ns(m,x,w,j,!1),k!==null&&b!==null&&Ns(m,b,k,j,!0)}}e:{if(x=p?yn(p):window,w=x.nodeName&&x.nodeName.toLowerCase(),w==="select"||w==="input"&&x.type==="file")var v=Up;else if(ys(x))if(xd)v=Gp;else{v=Kp;var C=Vp}else(w=x.nodeName)&&w.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(v=Qp);if(v&&(v=v(e,p))){hd(m,v,n,g);break e}C&&C(e,x,p),e==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&ra(x,"number",x.value)}switch(C=p?yn(p):window,e){case"focusin":(ys(C)||C.contentEditable==="true")&&(hn=C,ma=p,sr=null);break;case"focusout":sr=ma=hn=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Ss(m,n,g);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":Ss(m,n,g)}var N;if(cl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mn?gd(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(pd&&n.locale!=="ko"&&(mn||P!=="onCompositionStart"?P==="onCompositionEnd"&&mn&&(N=fd()):(Et=g,sl="value"in Et?Et.value:Et.textContent,mn=!0)),C=Eo(p,P),0<C.length&&(P=new gs(P,e,null,n,g),m.push({event:P,listeners:C}),N?P.data=N:(N=md(n),N!==null&&(P.data=N)))),(N=Op?Ap(e,n):$p(e,n))&&(p=Eo(p,"onBeforeInput"),0<p.length&&(g=new gs("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:p}),g.data=N))}_d(m,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=hr(e,n),a!=null&&r.unshift(Sr(e,a,o)),a=hr(e,t),a!=null&&r.push(Sr(e,a,o))),e=e.return}return r}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ns(e,t,n,r,o){for(var a=t._reactName,l=[];n!==null&&n!==r;){var s=n,u=s.alternate,p=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&p!==null&&(s=p,o?(u=hr(n,a),u!=null&&l.unshift(Sr(n,u,s))):o||(u=hr(n,a),u!=null&&l.push(Sr(n,u,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var tg=/\r\n?/g,ng=/\u0000|\uFFFD/g;function _s(e){return(typeof e=="string"?e:""+e).replace(tg,`
`).replace(ng,"")}function Gr(e,t,n){if(t=_s(t),_s(e)!==t&&n)throw Error(E(425))}function zo(){}var xa=null,ya=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ba=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,Es=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof Es<"u"?function(e){return Es.resolve(null).then(e).catch(ig)}:ba;function ig(e){setTimeout(function(){throw e})}function Ti(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),vr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);vr(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zs(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $n=Math.random().toString(36).slice(2),lt="__reactFiber$"+$n,jr="__reactProps$"+$n,xt="__reactContainer$"+$n,wa="__reactEvents$"+$n,ag="__reactListeners$"+$n,lg="__reactHandles$"+$n;function Qt(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zs(e);e!==null;){if(n=e[lt])return n;e=zs(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[lt]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Jo(e){return e[jr]||null}var ka=[],vn=-1;function $t(e){return{current:e}}function Z(e){0>vn||(e.current=ka[vn],ka[vn]=null,vn--)}function q(e,t){vn++,ka[vn]=e.current,e.current=t}var Ot={},Se=$t(Ot),Te=$t(!1),Xt=Ot;function Ln(e,t){var n=e.type.contextTypes;if(!n)return Ot;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Re(e){return e=e.childContextTypes,e!=null}function Po(){Z(Te),Z(Se)}function Ps(e,t,n){if(Se.current!==Ot)throw Error(E(168));q(Se,t),q(Te,n)}function zd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(E(108,Vf(e)||"Unknown",o));return oe({},n,r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ot,Xt=Se.current,q(Se,e),q(Te,Te.current),!0}function Ts(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=zd(e,t,Xt),r.__reactInternalMemoizedMergedChildContext=e,Z(Te),Z(Se),q(Se,e)):Z(Te),q(Te,n)}var ft=null,Xo=!1,Ri=!1;function Pd(e){ft===null?ft=[e]:ft.push(e)}function sg(e){Xo=!0,Pd(e)}function Wt(){if(!Ri&&ft!==null){Ri=!0;var e=0,t=Q;try{var n=ft;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,Xo=!1}catch(o){throw ft!==null&&(ft=ft.slice(e+1)),td(ol,Wt),o}finally{Q=t,Ri=!1}}return null}var bn=[],wn=0,Ro=null,Lo=0,We=[],He=0,Zt=null,pt=1,gt="";function Ht(e,t){bn[wn++]=Lo,bn[wn++]=Ro,Ro=e,Lo=t}function Td(e,t,n){We[He++]=pt,We[He++]=gt,We[He++]=Zt,Zt=e;var r=pt;e=gt;var o=32-et(r)-1;r&=~(1<<o),n+=1;var a=32-et(t)+o;if(30<a){var l=o-o%5;a=(r&(1<<l)-1).toString(32),r>>=l,o-=l,pt=1<<32-et(t)+o|n<<o|r,gt=a+e}else pt=1<<a|n<<o|r,gt=e}function pl(e){e.return!==null&&(Ht(e,1),Td(e,1,0))}function gl(e){for(;e===Ro;)Ro=bn[--wn],bn[wn]=null,Lo=bn[--wn],bn[wn]=null;for(;e===Zt;)Zt=We[--He],We[He]=null,gt=We[--He],We[He]=null,pt=We[--He],We[He]=null}var De=null,Fe=null,ee=!1,Ze=null;function Rd(e,t){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rs(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Fe=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zt!==null?{id:pt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Fe=null,!0):!1;default:return!1}}function Sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ja(e){if(ee){var t=Fe;if(t){var n=t;if(!Rs(e,t)){if(Sa(e))throw Error(E(418));t=Lt(n.nextSibling);var r=De;t&&Rs(e,t)?Rd(r,n):(e.flags=e.flags&-4097|2,ee=!1,De=e)}}else{if(Sa(e))throw Error(E(418));e.flags=e.flags&-4097|2,ee=!1,De=e}}}function Ls(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Yr(e){if(e!==De)return!1;if(!ee)return Ls(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=Fe)){if(Sa(e))throw Ld(),Error(E(418));for(;t;)Rd(e,t),t=Lt(t.nextSibling)}if(Ls(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fe=Lt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=De?Lt(e.stateNode.nextSibling):null;return!0}function Ld(){for(var e=Fe;e;)e=Lt(e.nextSibling)}function In(){Fe=De=null,ee=!1}function ml(e){Ze===null?Ze=[e]:Ze.push(e)}var ug=bt.ReactCurrentBatchConfig;function Yn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var s=o.refs;l===null?delete s[a]:s[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function qr(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Is(e){var t=e._init;return t(e._payload)}function Id(e){function t(c,d){if(e){var f=c.deletions;f===null?(c.deletions=[d],c.flags|=16):f.push(d)}}function n(c,d){if(!e)return null;for(;d!==null;)t(c,d),d=d.sibling;return null}function r(c,d){for(c=new Map;d!==null;)d.key!==null?c.set(d.key,d):c.set(d.index,d),d=d.sibling;return c}function o(c,d){return c=Dt(c,d),c.index=0,c.sibling=null,c}function a(c,d,f){return c.index=f,e?(f=c.alternate,f!==null?(f=f.index,f<d?(c.flags|=2,d):f):(c.flags|=2,d)):(c.flags|=1048576,d)}function l(c){return e&&c.alternate===null&&(c.flags|=2),c}function s(c,d,f,h){return d===null||d.tag!==6?(d=Oi(f,c.mode,h),d.return=c,d):(d=o(d,f),d.return=c,d)}function u(c,d,f,h){var v=f.type;return v===gn?g(c,d,f.props.children,h,f.key):d!==null&&(d.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===St&&Is(v)===d.type)?(h=o(d,f.props),h.ref=Yn(c,d,f),h.return=c,h):(h=vo(f.type,f.key,f.props,null,c.mode,h),h.ref=Yn(c,d,f),h.return=c,h)}function p(c,d,f,h){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=Ai(f,c.mode,h),d.return=c,d):(d=o(d,f.children||[]),d.return=c,d)}function g(c,d,f,h,v){return d===null||d.tag!==7?(d=Jt(f,c.mode,h,v),d.return=c,d):(d=o(d,f),d.return=c,d)}function m(c,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Oi(""+d,c.mode,f),d.return=c,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Or:return f=vo(d.type,d.key,d.props,null,c.mode,f),f.ref=Yn(c,null,d),f.return=c,f;case pn:return d=Ai(d,c.mode,f),d.return=c,d;case St:var h=d._init;return m(c,h(d._payload),f)}if(er(d)||Un(d))return d=Jt(d,c.mode,f,null),d.return=c,d;qr(c,d)}return null}function x(c,d,f,h){var v=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return v!==null?null:s(c,d,""+f,h);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Or:return f.key===v?u(c,d,f,h):null;case pn:return f.key===v?p(c,d,f,h):null;case St:return v=f._init,x(c,d,v(f._payload),h)}if(er(f)||Un(f))return v!==null?null:g(c,d,f,h,null);qr(c,f)}return null}function w(c,d,f,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return c=c.get(f)||null,s(d,c,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Or:return c=c.get(h.key===null?f:h.key)||null,u(d,c,h,v);case pn:return c=c.get(h.key===null?f:h.key)||null,p(d,c,h,v);case St:var C=h._init;return w(c,d,f,C(h._payload),v)}if(er(h)||Un(h))return c=c.get(f)||null,g(d,c,h,v,null);qr(d,h)}return null}function k(c,d,f,h){for(var v=null,C=null,N=d,P=d=0,F=null;N!==null&&P<f.length;P++){N.index>P?(F=N,N=null):F=N.sibling;var I=x(c,N,f[P],h);if(I===null){N===null&&(N=F);break}e&&N&&I.alternate===null&&t(c,N),d=a(I,d,P),C===null?v=I:C.sibling=I,C=I,N=F}if(P===f.length)return n(c,N),ee&&Ht(c,P),v;if(N===null){for(;P<f.length;P++)N=m(c,f[P],h),N!==null&&(d=a(N,d,P),C===null?v=N:C.sibling=N,C=N);return ee&&Ht(c,P),v}for(N=r(c,N);P<f.length;P++)F=w(N,c,P,f[P],h),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?P:F.key),d=a(F,d,P),C===null?v=F:C.sibling=F,C=F);return e&&N.forEach(function(O){return t(c,O)}),ee&&Ht(c,P),v}function j(c,d,f,h){var v=Un(f);if(typeof v!="function")throw Error(E(150));if(f=v.call(f),f==null)throw Error(E(151));for(var C=v=null,N=d,P=d=0,F=null,I=f.next();N!==null&&!I.done;P++,I=f.next()){N.index>P?(F=N,N=null):F=N.sibling;var O=x(c,N,I.value,h);if(O===null){N===null&&(N=F);break}e&&N&&O.alternate===null&&t(c,N),d=a(O,d,P),C===null?v=O:C.sibling=O,C=O,N=F}if(I.done)return n(c,N),ee&&Ht(c,P),v;if(N===null){for(;!I.done;P++,I=f.next())I=m(c,I.value,h),I!==null&&(d=a(I,d,P),C===null?v=I:C.sibling=I,C=I);return ee&&Ht(c,P),v}for(N=r(c,N);!I.done;P++,I=f.next())I=w(N,c,P,I.value,h),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?P:I.key),d=a(I,d,P),C===null?v=I:C.sibling=I,C=I);return e&&N.forEach(function(J){return t(c,J)}),ee&&Ht(c,P),v}function b(c,d,f,h){if(typeof f=="object"&&f!==null&&f.type===gn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Or:e:{for(var v=f.key,C=d;C!==null;){if(C.key===v){if(v=f.type,v===gn){if(C.tag===7){n(c,C.sibling),d=o(C,f.props.children),d.return=c,c=d;break e}}else if(C.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===St&&Is(v)===C.type){n(c,C.sibling),d=o(C,f.props),d.ref=Yn(c,C,f),d.return=c,c=d;break e}n(c,C);break}else t(c,C);C=C.sibling}f.type===gn?(d=Jt(f.props.children,c.mode,h,f.key),d.return=c,c=d):(h=vo(f.type,f.key,f.props,null,c.mode,h),h.ref=Yn(c,d,f),h.return=c,c=h)}return l(c);case pn:e:{for(C=f.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(c,d.sibling),d=o(d,f.children||[]),d.return=c,c=d;break e}else{n(c,d);break}else t(c,d);d=d.sibling}d=Ai(f,c.mode,h),d.return=c,c=d}return l(c);case St:return C=f._init,b(c,d,C(f._payload),h)}if(er(f))return k(c,d,f,h);if(Un(f))return j(c,d,f,h);qr(c,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(c,d.sibling),d=o(d,f),d.return=c,c=d):(n(c,d),d=Oi(f,c.mode,h),d.return=c,c=d),l(c)):n(c,d)}return b}var Mn=Id(!0),Md=Id(!1),Io=$t(null),Mo=null,kn=null,hl=null;function xl(){hl=kn=Mo=null}function yl(e){var t=Io.current;Z(Io),e._currentValue=t}function Ca(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){Mo=e,hl=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(hl!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Mo===null)throw Error(E(308));kn=e,Mo.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Gt=null;function vl(e){Gt===null?Gt=[e]:Gt.push(e)}function Fd(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,vl(t)):(n.next=o.next,o.next=n),t.interleaved=n,yt(e,r)}function yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jt=!1;function bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,yt(e,n)}return o=r.interleaved,o===null?(t.next=t,vl(r)):(t.next=o.next,o.next=t),r.interleaved=t,yt(e,n)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,il(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var o=e.updateQueue;jt=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,p=u.next;u.next=null,l===null?a=p:l.next=p,l=u;var g=e.alternate;g!==null&&(g=g.updateQueue,s=g.lastBaseUpdate,s!==l&&(s===null?g.firstBaseUpdate=p:s.next=p,g.lastBaseUpdate=u))}if(a!==null){var m=o.baseState;l=0,g=p=u=null,s=a;do{var x=s.lane,w=s.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var k=e,j=s;switch(x=t,w=n,j.tag){case 1:if(k=j.payload,typeof k=="function"){m=k.call(w,m,x);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=j.payload,x=typeof k=="function"?k.call(w,m,x):k,x==null)break e;m=oe({},m,x);break e;case 2:jt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,x=o.effects,x===null?o.effects=[s]:x.push(s))}else w={eventTime:w,lane:x,tag:s.tag,payload:s.payload,callback:s.callback,next:null},g===null?(p=g=w,u=m):g=g.next=w,l|=x;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;x=s,s=x.next,x.next=null,o.lastBaseUpdate=x,o.shared.pending=null}}while(!0);if(g===null&&(u=m),o.baseState=u,o.firstBaseUpdate=p,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);tn|=l,e.lanes=l,e.memoizedState=m}}function Fs(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(E(191,o));o.call(r)}}}var Mr={},ut=$t(Mr),Cr=$t(Mr),Nr=$t(Mr);function Yt(e){if(e===Mr)throw Error(E(174));return e}function wl(e,t){switch(q(Nr,t),q(Cr,e),q(ut,Mr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}Z(ut),q(ut,t)}function Fn(){Z(ut),Z(Cr),Z(Nr)}function Bd(e){Yt(Nr.current);var t=Yt(ut.current),n=ia(t,e.type);t!==n&&(q(Cr,e),q(ut,n))}function kl(e){Cr.current===e&&(Z(ut),Z(Cr))}var ne=$t(0);function Do(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Li=[];function Sl(){for(var e=0;e<Li.length;e++)Li[e]._workInProgressVersionPrimary=null;Li.length=0}var go=bt.ReactCurrentDispatcher,Ii=bt.ReactCurrentBatchConfig,en=0,re=null,se=null,fe=null,Bo=!1,ur=!1,_r=0,dg=0;function ve(){throw Error(E(321))}function jl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function Cl(e,t,n,r,o,a){if(en=a,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=e===null||e.memoizedState===null?gg:mg,e=n(r,o),ur){a=0;do{if(ur=!1,_r=0,25<=a)throw Error(E(301));a+=1,fe=se=null,t.updateQueue=null,go.current=hg,e=n(r,o)}while(ur)}if(go.current=Oo,t=se!==null&&se.next!==null,en=0,fe=se=re=null,Bo=!1,t)throw Error(E(300));return e}function Nl(){var e=_r!==0;return _r=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?re.memoizedState=fe=e:fe=fe.next=e,fe}function Qe(){if(se===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=fe===null?re.memoizedState:fe.next;if(t!==null)fe=t,se=e;else{if(e===null)throw Error(E(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},fe===null?re.memoizedState=fe=e:fe=fe.next=e}return fe}function Er(e,t){return typeof t=="function"?t(e):t}function Mi(e){var t=Qe(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=se,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var s=l=null,u=null,p=a;do{var g=p.lane;if((en&g)===g)u!==null&&(u=u.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var m={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};u===null?(s=u=m,l=r):u=u.next=m,re.lanes|=g,tn|=g}p=p.next}while(p!==null&&p!==a);u===null?l=r:u.next=s,nt(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,re.lanes|=a,tn|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fi(e){var t=Qe(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do a=e(a,l.action),l=l.next;while(l!==o);nt(a,t.memoizedState)||(Pe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Od(){}function Ad(e,t){var n=re,r=Qe(),o=t(),a=!nt(r.memoizedState,o);if(a&&(r.memoizedState=o,Pe=!0),r=r.queue,_l(Hd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,zr(9,Wd.bind(null,n,r,o,t),void 0,null),pe===null)throw Error(E(349));en&30||$d(n,t,o)}return o}function $d(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wd(e,t,n,r){t.value=n,t.getSnapshot=r,Ud(t)&&Vd(e)}function Hd(e,t,n){return n(function(){Ud(t)&&Vd(e)})}function Ud(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function Vd(e){var t=yt(e,1);t!==null&&tt(t,e,1,-1)}function Ds(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=pg.bind(null,re,e),[t.memoizedState,e]}function zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kd(){return Qe().memoizedState}function mo(e,t,n,r){var o=at();re.flags|=e,o.memoizedState=zr(1|t,n,void 0,r===void 0?null:r)}function Zo(e,t,n,r){var o=Qe();r=r===void 0?null:r;var a=void 0;if(se!==null){var l=se.memoizedState;if(a=l.destroy,r!==null&&jl(r,l.deps)){o.memoizedState=zr(t,n,a,r);return}}re.flags|=e,o.memoizedState=zr(1|t,n,a,r)}function Bs(e,t){return mo(8390656,8,e,t)}function _l(e,t){return Zo(2048,8,e,t)}function Qd(e,t){return Zo(4,2,e,t)}function Gd(e,t){return Zo(4,4,e,t)}function Yd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,n){return n=n!=null?n.concat([e]):null,Zo(4,4,Yd.bind(null,t,e),n)}function El(){}function Jd(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xd(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zd(e,t,n){return en&21?(nt(n,t)||(n=od(),re.lanes|=n,tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function cg(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Ii.transition;Ii.transition={};try{e(!1),t()}finally{Q=n,Ii.transition=r}}function ec(){return Qe().memoizedState}function fg(e,t,n){var r=Ft(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tc(e))nc(t,n);else if(n=Fd(e,t,n,r),n!==null){var o=Ne();tt(n,e,r,o),rc(n,t,r)}}function pg(e,t,n){var r=Ft(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tc(e))nc(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,s=a(l,n);if(o.hasEagerState=!0,o.eagerState=s,nt(s,l)){var u=t.interleaved;u===null?(o.next=o,vl(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Fd(e,t,o,r),n!==null&&(o=Ne(),tt(n,e,r,o),rc(n,t,r))}}function tc(e){var t=e.alternate;return e===re||t!==null&&t===re}function nc(e,t){ur=Bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,il(e,n)}}var Oo={readContext:Ke,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},gg={readContext:Ke,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Bs,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mo(4194308,4,Yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return mo(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fg.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Ds,useDebugValue:El,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=cg.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,o=at();if(ee){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),pe===null)throw Error(E(349));en&30||$d(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Bs(Hd.bind(null,r,a,e),[e]),r.flags|=2048,zr(9,Wd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=at(),t=pe.identifierPrefix;if(ee){var n=gt,r=pt;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mg={readContext:Ke,useCallback:Jd,useContext:Ke,useEffect:_l,useImperativeHandle:qd,useInsertionEffect:Qd,useLayoutEffect:Gd,useMemo:Xd,useReducer:Mi,useRef:Kd,useState:function(){return Mi(Er)},useDebugValue:El,useDeferredValue:function(e){var t=Qe();return Zd(t,se.memoizedState,e)},useTransition:function(){var e=Mi(Er)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Ad,useId:ec,unstable_isNewReconciler:!1},hg={readContext:Ke,useCallback:Jd,useContext:Ke,useEffect:_l,useImperativeHandle:qd,useInsertionEffect:Qd,useLayoutEffect:Gd,useMemo:Xd,useReducer:Fi,useRef:Kd,useState:function(){return Fi(Er)},useDebugValue:El,useDeferredValue:function(e){var t=Qe();return se===null?t.memoizedState=e:Zd(t,se.memoizedState,e)},useTransition:function(){var e=Fi(Er)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Ad,useId:ec,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Na(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ei={isMounted:function(e){return(e=e._reactInternals)?on(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),o=Ft(e),a=mt(r,o);a.payload=t,n!=null&&(a.callback=n),t=It(e,a,o),t!==null&&(tt(t,e,o,r),po(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),o=Ft(e),a=mt(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=It(e,a,o),t!==null&&(tt(t,e,o,r),po(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=Ft(e),o=mt(n,r);o.tag=2,t!=null&&(o.callback=t),t=It(e,o,r),t!==null&&(tt(t,e,r,n),po(t,e,r))}};function Os(e,t,n,r,o,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!wr(n,r)||!wr(o,a):!0}function oc(e,t,n){var r=!1,o=Ot,a=t.contextType;return typeof a=="object"&&a!==null?a=Ke(a):(o=Re(t)?Xt:Se.current,r=t.contextTypes,a=(r=r!=null)?Ln(e,o):Ot),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ei,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function As(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ei.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},bl(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Ke(a):(a=Re(t)?Xt:Se.current,o.context=Ln(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Na(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ei.enqueueReplaceState(o,o.state,null),Fo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Dn(e,t){try{var n="",r=t;do n+=Uf(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Di(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xg=typeof WeakMap=="function"?WeakMap:Map;function ic(e,t,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$o||($o=!0,Ba=r),Ea(e,t)},n}function ac(e,t,n){n=mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ea(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ea(e,t),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function $s(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tg.bind(null,e,t,n),t.then(e,e))}function Ws(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hs(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mt(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var yg=bt.ReactCurrentOwner,Pe=!1;function Ce(e,t,n,r){t.child=e===null?Md(t,null,n,r):Mn(t,e.child,n,r)}function Us(e,t,n,r,o){n=n.render;var a=t.ref;return zn(t,o),r=Cl(e,t,n,r,a,o),n=Nl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vt(e,t,o)):(ee&&n&&pl(t),t.flags|=1,Ce(e,t,r,o),t.child)}function Vs(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Fl(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,lc(e,t,a,r,o)):(e=vo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(l,r)&&e.ref===t.ref)return vt(e,t,o)}return t.flags|=1,e=Dt(a,r),e.ref=t.ref,e.return=t,t.child=e}function lc(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(wr(a,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,vt(e,t,o)}return za(e,t,n,r,o)}function sc(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(jn,Ie),Ie|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(jn,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,q(jn,Ie),Ie|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,q(jn,Ie),Ie|=r;return Ce(e,t,o,n),t.child}function uc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function za(e,t,n,r,o){var a=Re(n)?Xt:Se.current;return a=Ln(t,a),zn(t,o),n=Cl(e,t,n,r,a,o),r=Nl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vt(e,t,o)):(ee&&r&&pl(t),t.flags|=1,Ce(e,t,n,o),t.child)}function Ks(e,t,n,r,o){if(Re(n)){var a=!0;To(t)}else a=!1;if(zn(t,o),t.stateNode===null)ho(e,t),oc(t,n,r),_a(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var u=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=Ke(p):(p=Re(n)?Xt:Se.current,p=Ln(t,p));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||u!==p)&&As(t,l,r,p),jt=!1;var x=t.memoizedState;l.state=x,Fo(t,r,l,o),u=t.memoizedState,s!==r||x!==u||Te.current||jt?(typeof g=="function"&&(Na(t,n,g,r),u=t.memoizedState),(s=jt||Os(t,n,s,r,x,u,p))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=p,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Dd(e,t),s=t.memoizedProps,p=t.type===t.elementType?s:Je(t.type,s),l.props=p,m=t.pendingProps,x=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ke(u):(u=Re(n)?Xt:Se.current,u=Ln(t,u));var w=n.getDerivedStateFromProps;(g=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==m||x!==u)&&As(t,l,r,u),jt=!1,x=t.memoizedState,l.state=x,Fo(t,r,l,o);var k=t.memoizedState;s!==m||x!==k||Te.current||jt?(typeof w=="function"&&(Na(t,n,w,r),k=t.memoizedState),(p=jt||Os(t,n,p,r,x,k,u)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),l.props=r,l.state=k,l.context=u,r=p):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,a,o)}function Pa(e,t,n,r,o,a){uc(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Ts(t,n,!1),vt(e,t,a);r=t.stateNode,yg.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Mn(t,e.child,null,a),t.child=Mn(t,null,s,a)):Ce(e,t,s,a),t.memoizedState=r.state,o&&Ts(t,n,!0),t.child}function dc(e){var t=e.stateNode;t.pendingContext?Ps(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ps(e,t.context,!1),wl(e,t.containerInfo)}function Qs(e,t,n,r,o){return In(),ml(o),t.flags|=256,Ce(e,t,n,r),t.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function cc(e,t,n){var r=t.pendingProps,o=ne.current,a=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),q(ne,o&1),e===null)return ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=ri(l,r,0,null),e=Jt(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Ta,e):zl(t,l));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return vg(e,t,l,r,s,o,n);if(a){a=r.fallback,l=t.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Dt(o,u),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=Dt(s,a):(a=Jt(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ta,r}return a=e.child,e=a.sibling,r=Dt(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zl(e,t){return t=ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jr(e,t,n,r){return r!==null&&ml(r),Mn(t,e.child,null,n),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vg(e,t,n,r,o,a,l){if(n)return t.flags&256?(t.flags&=-257,r=Di(Error(E(422))),Jr(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=ri({mode:"visible",children:r.children},o,0,null),a=Jt(a,o,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Mn(t,e.child,null,l),t.child.memoizedState=Ra(l),t.memoizedState=Ta,a);if(!(t.mode&1))return Jr(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(E(419)),r=Di(a,r,void 0),Jr(e,t,l,r)}if(s=(l&e.childLanes)!==0,Pe||s){if(r=pe,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,yt(e,o),tt(r,e,o,-1))}return Ml(),r=Di(Error(E(421))),Jr(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Rg.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Fe=Lt(o.nextSibling),De=t,ee=!0,Ze=null,e!==null&&(We[He++]=pt,We[He++]=gt,We[He++]=Zt,pt=e.id,gt=e.overflow,Zt=t),t=zl(t,r.children),t.flags|=4096,t)}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ca(e.return,t,n)}function Bi(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function fc(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ce(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gs(e,n,t);else if(e.tag===19)Gs(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(ne,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Do(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bi(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Do(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bi(t,!0,n,null,a);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bg(e,t,n){switch(t.tag){case 3:dc(t),In();break;case 5:Bd(t);break;case 1:Re(t.type)&&To(t);break;case 4:wl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;q(Io,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?cc(e,t,n):(q(ne,ne.current&1),e=vt(e,t,n),e!==null?e.sibling:null);q(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),q(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,sc(e,t,n)}return vt(e,t,n)}var pc,La,gc,mc;pc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};La=function(){};gc=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yt(ut.current);var a=null;switch(n){case"input":o=ta(e,o),r=ta(e,r),a=[];break;case"select":o=oe({},o,{value:void 0}),r=oe({},r,{value:void 0}),a=[];break;case"textarea":o=oa(e,o),r=oa(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zo)}aa(n,r);var l;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var s=o[p];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(gr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var u=r[p];if(s=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&u!==s&&(u!=null||s!=null))if(p==="style")if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(a||(a=[]),a.push(p,n)),n=u;else p==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(p,u)):p==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(p,""+u):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(gr.hasOwnProperty(p)?(u!=null&&p==="onScroll"&&X("scroll",e),a||s===u||(a=[])):(a=a||[]).push(p,u))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};mc=function(e,t,n,r){n!==r&&(t.flags|=4)};function qn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wg(e,t,n){var r=t.pendingProps;switch(gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Re(t.type)&&Po(),be(t),null;case 3:return r=t.stateNode,Fn(),Z(Te),Z(Se),Sl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&($a(Ze),Ze=null))),La(e,t),be(t),null;case 5:kl(t);var o=Yt(Nr.current);if(n=t.type,e!==null&&t.stateNode!=null)gc(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return be(t),null}if(e=Yt(ut.current),Yr(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[lt]=t,r[jr]=a,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(o=0;o<nr.length;o++)X(nr[o],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":rs(r,a),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},X("invalid",r);break;case"textarea":is(r,a),X("invalid",r)}aa(n,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var s=a[l];l==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Gr(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Gr(r.textContent,s,e),o=["children",""+s]):gr.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&X("scroll",r)}switch(n){case"input":Ar(r),os(r,a,!0);break;case"textarea":Ar(r),as(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=zo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[lt]=t,e[jr]=r,pc(e,t,!1,!1),t.stateNode=e;e:{switch(l=la(n,r),n){case"dialog":X("cancel",e),X("close",e),o=r;break;case"iframe":case"object":case"embed":X("load",e),o=r;break;case"video":case"audio":for(o=0;o<nr.length;o++)X(nr[o],e);o=r;break;case"source":X("error",e),o=r;break;case"img":case"image":case"link":X("error",e),X("load",e),o=r;break;case"details":X("toggle",e),o=r;break;case"input":rs(e,r),o=ta(e,r),X("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=oe({},r,{value:void 0}),X("invalid",e);break;case"textarea":is(e,r),o=oa(e,r),X("invalid",e);break;default:o=r}aa(n,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?Ku(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Uu(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&mr(e,u):typeof u=="number"&&mr(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gr.hasOwnProperty(a)?u!=null&&a==="onScroll"&&X("scroll",e):u!=null&&Za(e,a,u,l))}switch(n){case"input":Ar(e),os(e,r,!1);break;case"textarea":Ar(e),as(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bt(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Cn(e,!!r.multiple,a,!1):r.defaultValue!=null&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)mc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=Yt(Nr.current),Yt(ut.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[lt]=t,(a=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Gr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gr(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=t,t.stateNode=r}return be(t),null;case 13:if(Z(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Fe!==null&&t.mode&1&&!(t.flags&128))Ld(),In(),t.flags|=98560,a=!1;else if(a=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[lt]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),a=!1}else Ze!==null&&($a(Ze),Ze=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?ue===0&&(ue=3):Ml())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return Fn(),La(e,t),e===null&&kr(t.stateNode.containerInfo),be(t),null;case 10:return yl(t.type._context),be(t),null;case 17:return Re(t.type)&&Po(),be(t),null;case 19:if(Z(ne),a=t.memoizedState,a===null)return be(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)qn(a,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Do(e),l!==null){for(t.flags|=128,qn(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(ne,ne.current&1|2),t.child}e=e.sibling}a.tail!==null&&ae()>Bn&&(t.flags|=128,r=!0,qn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Do(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ee)return be(t),null}else 2*ae()-a.renderingStartTime>Bn&&n!==1073741824&&(t.flags|=128,r=!0,qn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ae(),t.sibling=null,n=ne.current,q(ne,r?n&1|2:n&1),t):(be(t),null);case 22:case 23:return Il(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ie&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function kg(e,t){switch(gl(t),t.tag){case 1:return Re(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),Z(Te),Z(Se),Sl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kl(t),null;case 13:if(Z(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ne),null;case 4:return Fn(),null;case 10:return yl(t.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var Xr=!1,ke=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,T=null;function Sn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Ia(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Ys=!1;function jg(e,t){if(xa=No,e=bd(),fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,s=-1,u=-1,p=0,g=0,m=e,x=null;t:for(;;){for(var w;m!==n||o!==0&&m.nodeType!==3||(s=l+o),m!==a||r!==0&&m.nodeType!==3||(u=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(w=m.firstChild)!==null;)x=m,m=w;for(;;){if(m===e)break t;if(x===n&&++p===o&&(s=l),x===a&&++g===r&&(u=l),(w=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=w}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ya={focusedElem:e,selectionRange:n},No=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var j=k.memoizedProps,b=k.memoizedState,c=t.stateNode,d=c.getSnapshotBeforeUpdate(t.elementType===t.type?j:Je(t.type,j),b);c.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(h){ie(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return k=Ys,Ys=!1,k}function dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Ia(t,n,a)}o=o.next}while(o!==r)}}function ti(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ma(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hc(e){var t=e.alternate;t!==null&&(e.alternate=null,hc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[jr],delete t[wa],delete t[ag],delete t[lg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xc(e){return e.tag===5||e.tag===3||e.tag===4}function qs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zo));else if(r!==4&&(e=e.child,e!==null))for(Fa(e,t,n),e=e.sibling;e!==null;)Fa(e,t,n),e=e.sibling}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}var ge=null,Xe=!1;function kt(e,t,n){for(n=n.child;n!==null;)yc(e,t,n),n=n.sibling}function yc(e,t,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Qo,n)}catch{}switch(n.tag){case 5:ke||Sn(n,t);case 6:var r=ge,o=Xe;ge=null,kt(e,t,n),ge=r,Xe=o,ge!==null&&(Xe?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Xe?(e=ge,n=n.stateNode,e.nodeType===8?Ti(e.parentNode,n):e.nodeType===1&&Ti(e,n),vr(e)):Ti(ge,n.stateNode));break;case 4:r=ge,o=Xe,ge=n.stateNode.containerInfo,Xe=!0,kt(e,t,n),ge=r,Xe=o;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ia(n,t,l),o=o.next}while(o!==r)}kt(e,t,n);break;case 1:if(!ke&&(Sn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ie(n,t,s)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,kt(e,t,n),ke=r):kt(e,t,n);break;default:kt(e,t,n)}}function Js(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sg),t.forEach(function(r){var o=Lg.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:ge=s.stateNode,Xe=!1;break e;case 3:ge=s.stateNode.containerInfo,Xe=!0;break e;case 4:ge=s.stateNode.containerInfo,Xe=!0;break e}s=s.return}if(ge===null)throw Error(E(160));yc(a,l,o),ge=null,Xe=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(p){ie(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),it(e),r&4){try{dr(3,e,e.return),ti(3,e)}catch(j){ie(e,e.return,j)}try{dr(5,e,e.return)}catch(j){ie(e,e.return,j)}}break;case 1:qe(t,e),it(e),r&512&&n!==null&&Sn(n,n.return);break;case 5:if(qe(t,e),it(e),r&512&&n!==null&&Sn(n,n.return),e.flags&32){var o=e.stateNode;try{mr(o,"")}catch(j){ie(e,e.return,j)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&$u(o,a),la(s,l);var p=la(s,a);for(l=0;l<u.length;l+=2){var g=u[l],m=u[l+1];g==="style"?Ku(o,m):g==="dangerouslySetInnerHTML"?Uu(o,m):g==="children"?mr(o,m):Za(o,g,m,p)}switch(s){case"input":na(o,a);break;case"textarea":Wu(o,a);break;case"select":var x=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Cn(o,!!a.multiple,w,!1):x!==!!a.multiple&&(a.defaultValue!=null?Cn(o,!!a.multiple,a.defaultValue,!0):Cn(o,!!a.multiple,a.multiple?[]:"",!1))}o[jr]=a}catch(j){ie(e,e.return,j)}}break;case 6:if(qe(t,e),it(e),r&4){if(e.stateNode===null)throw Error(E(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(j){ie(e,e.return,j)}}break;case 3:if(qe(t,e),it(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(j){ie(e,e.return,j)}break;case 4:qe(t,e),it(e);break;case 13:qe(t,e),it(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Rl=ae())),r&4&&Js(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(p=ke)||g,qe(t,e),ke=p):qe(t,e),it(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(T=e,g=e.child;g!==null;){for(m=T=g;T!==null;){switch(x=T,w=x.child,x.tag){case 0:case 11:case 14:case 15:dr(4,x,x.return);break;case 1:Sn(x,x.return);var k=x.stateNode;if(typeof k.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(j){ie(r,n,j)}}break;case 5:Sn(x,x.return);break;case 22:if(x.memoizedState!==null){Zs(m);continue}}w!==null?(w.return=x,T=w):Zs(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=m.stateNode,u=m.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Vu("display",l))}catch(j){ie(e,e.return,j)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(j){ie(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:qe(t,e),it(e),r&4&&Js(e);break;case 21:break;default:qe(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xc(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(mr(o,""),r.flags&=-33);var a=qs(e);Da(e,a,o);break;case 3:case 4:var l=r.stateNode.containerInfo,s=qs(e);Fa(e,s,l);break;default:throw Error(E(161))}}catch(u){ie(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cg(e,t,n){T=e,bc(e)}function bc(e,t,n){for(var r=(e.mode&1)!==0;T!==null;){var o=T,a=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Xr;if(!l){var s=o.alternate,u=s!==null&&s.memoizedState!==null||ke;s=Xr;var p=ke;if(Xr=l,(ke=u)&&!p)for(T=o;T!==null;)l=T,u=l.child,l.tag===22&&l.memoizedState!==null?eu(o):u!==null?(u.return=l,T=u):eu(o);for(;a!==null;)T=a,bc(a),a=a.sibling;T=o,Xr=s,ke=p}Xs(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,T=a):Xs(e)}}function Xs(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||ti(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Je(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fs(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fs(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&vr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ke||t.flags&512&&Ma(t)}catch(x){ie(t,t.return,x)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function Zs(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function eu(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ti(4,t)}catch(u){ie(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){ie(t,o,u)}}var a=t.return;try{Ma(t)}catch(u){ie(t,a,u)}break;case 5:var l=t.return;try{Ma(t)}catch(u){ie(t,l,u)}}}catch(u){ie(t,t.return,u)}if(t===e){T=null;break}var s=t.sibling;if(s!==null){s.return=t.return,T=s;break}T=t.return}}var Ng=Math.ceil,Ao=bt.ReactCurrentDispatcher,Pl=bt.ReactCurrentOwner,Ve=bt.ReactCurrentBatchConfig,W=0,pe=null,le=null,he=0,Ie=0,jn=$t(0),ue=0,Pr=null,tn=0,ni=0,Tl=0,cr=null,ze=null,Rl=0,Bn=1/0,ct=null,$o=!1,Ba=null,Mt=null,Zr=!1,zt=null,Wo=0,fr=0,Oa=null,xo=-1,yo=0;function Ne(){return W&6?ae():xo!==-1?xo:xo=ae()}function Ft(e){return e.mode&1?W&2&&he!==0?he&-he:ug.transition!==null?(yo===0&&(yo=od()),yo):(e=Q,e!==0||(e=window.event,e=e===void 0?16:cd(e.type)),e):1}function tt(e,t,n,r){if(50<fr)throw fr=0,Oa=null,Error(E(185));Rr(e,n,r),(!(W&2)||e!==pe)&&(e===pe&&(!(W&2)&&(ni|=n),ue===4&&_t(e,he)),Le(e,r),n===1&&W===0&&!(t.mode&1)&&(Bn=ae()+500,Xo&&Wt()))}function Le(e,t){var n=e.callbackNode;up(e,t);var r=Co(e,e===pe?he:0);if(r===0)n!==null&&us(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&us(n),t===1)e.tag===0?sg(tu.bind(null,e)):Pd(tu.bind(null,e)),og(function(){!(W&6)&&Wt()}),n=null;else{switch(id(r)){case 1:n=ol;break;case 4:n=nd;break;case 16:n=jo;break;case 536870912:n=rd;break;default:n=jo}n=Ec(n,wc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wc(e,t){if(xo=-1,yo=0,W&6)throw Error(E(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var r=Co(e,e===pe?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ho(e,r);else{t=r;var o=W;W|=2;var a=Sc();(pe!==e||he!==t)&&(ct=null,Bn=ae()+500,qt(e,t));do try{zg();break}catch(s){kc(e,s)}while(!0);xl(),Ao.current=a,W=o,le!==null?t=0:(pe=null,he=0,t=ue)}if(t!==0){if(t===2&&(o=fa(e),o!==0&&(r=o,t=Aa(e,o))),t===1)throw n=Pr,qt(e,0),_t(e,r),Le(e,ae()),n;if(t===6)_t(e,r);else{if(o=e.current.alternate,!(r&30)&&!_g(o)&&(t=Ho(e,r),t===2&&(a=fa(e),a!==0&&(r=a,t=Aa(e,a))),t===1))throw n=Pr,qt(e,0),_t(e,r),Le(e,ae()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Ut(e,ze,ct);break;case 3:if(_t(e,r),(r&130023424)===r&&(t=Rl+500-ae(),10<t)){if(Co(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ba(Ut.bind(null,e,ze,ct),t);break}Ut(e,ze,ct);break;case 4:if(_t(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-et(r);a=1<<l,l=t[l],l>o&&(o=l),r&=~a}if(r=o,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ng(r/1960))-r,10<r){e.timeoutHandle=ba(Ut.bind(null,e,ze,ct),r);break}Ut(e,ze,ct);break;case 5:Ut(e,ze,ct);break;default:throw Error(E(329))}}}return Le(e,ae()),e.callbackNode===n?wc.bind(null,e):null}function Aa(e,t){var n=cr;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=Ho(e,t),e!==2&&(t=ze,ze=n,t!==null&&$a(t)),e}function $a(e){ze===null?ze=e:ze.push.apply(ze,e)}function _g(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!nt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _t(e,t){for(t&=~Tl,t&=~ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function tu(e){if(W&6)throw Error(E(327));Pn();var t=Co(e,0);if(!(t&1))return Le(e,ae()),null;var n=Ho(e,t);if(e.tag!==0&&n===2){var r=fa(e);r!==0&&(t=r,n=Aa(e,r))}if(n===1)throw n=Pr,qt(e,0),_t(e,t),Le(e,ae()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ut(e,ze,ct),Le(e,ae()),null}function Ll(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Bn=ae()+500,Xo&&Wt())}}function nn(e){zt!==null&&zt.tag===0&&!(W&6)&&Pn();var t=W;W|=1;var n=Ve.transition,r=Q;try{if(Ve.transition=null,Q=1,e)return e()}finally{Q=r,Ve.transition=n,W=t,!(W&6)&&Wt()}}function Il(){Ie=jn.current,Z(jn)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rg(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(gl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:Fn(),Z(Te),Z(Se),Sl();break;case 5:kl(r);break;case 4:Fn();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:yl(r.type._context);break;case 22:case 23:Il()}n=n.return}if(pe=e,le=e=Dt(e.current,null),he=Ie=t,ue=0,Pr=null,Tl=ni=tn=0,ze=cr=null,Gt!==null){for(t=0;t<Gt.length;t++)if(n=Gt[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=o,r.next=l}n.pending=r}Gt=null}return e}function kc(e,t){do{var n=le;try{if(xl(),go.current=Oo,Bo){for(var r=re.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Bo=!1}if(en=0,fe=se=re=null,ur=!1,_r=0,Pl.current=null,n===null||n.return===null){ue=1,Pr=t,le=null;break}e:{var a=e,l=n.return,s=n,u=t;if(t=he,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var p=u,g=s,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=Ws(l);if(w!==null){w.flags&=-257,Hs(w,l,s,a,t),w.mode&1&&$s(a,p,t),t=w,u=p;var k=t.updateQueue;if(k===null){var j=new Set;j.add(u),t.updateQueue=j}else k.add(u);break e}else{if(!(t&1)){$s(a,p,t),Ml();break e}u=Error(E(426))}}else if(ee&&s.mode&1){var b=Ws(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hs(b,l,s,a,t),ml(Dn(u,s));break e}}a=u=Dn(u,s),ue!==4&&(ue=2),cr===null?cr=[a]:cr.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var c=ic(a,u,t);Ms(a,c);break e;case 1:s=u;var d=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mt===null||!Mt.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var h=ac(a,s,t);Ms(a,h);break e}}a=a.return}while(a!==null)}Cc(n)}catch(v){t=v,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function Sc(){var e=Ao.current;return Ao.current=Oo,e===null?Oo:e}function Ml(){(ue===0||ue===3||ue===2)&&(ue=4),pe===null||!(tn&268435455)&&!(ni&268435455)||_t(pe,he)}function Ho(e,t){var n=W;W|=2;var r=Sc();(pe!==e||he!==t)&&(ct=null,qt(e,t));do try{Eg();break}catch(o){kc(e,o)}while(!0);if(xl(),W=n,Ao.current=r,le!==null)throw Error(E(261));return pe=null,he=0,ue}function Eg(){for(;le!==null;)jc(le)}function zg(){for(;le!==null&&!ep();)jc(le)}function jc(e){var t=_c(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Cc(e):le=t,Pl.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kg(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,le=null;return}}else if(n=wg(n,t,Ie),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ue===0&&(ue=5)}function Ut(e,t,n){var r=Q,o=Ve.transition;try{Ve.transition=null,Q=1,Pg(e,t,n,r)}finally{Ve.transition=o,Q=r}return null}function Pg(e,t,n,r){do Pn();while(zt!==null);if(W&6)throw Error(E(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dp(e,a),e===pe&&(le=pe=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zr||(Zr=!0,Ec(jo,function(){return Pn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ve.transition,Ve.transition=null;var l=Q;Q=1;var s=W;W|=4,Pl.current=null,jg(e,n),vc(n,e),qp(ya),No=!!xa,ya=xa=null,e.current=n,Cg(n),tp(),W=s,Q=l,Ve.transition=a}else e.current=n;if(Zr&&(Zr=!1,zt=e,Wo=o),a=e.pendingLanes,a===0&&(Mt=null),op(n.stateNode),Le(e,ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($o)throw $o=!1,e=Ba,Ba=null,e;return Wo&1&&e.tag!==0&&Pn(),a=e.pendingLanes,a&1?e===Oa?fr++:(fr=0,Oa=e):fr=0,Wt(),null}function Pn(){if(zt!==null){var e=id(Wo),t=Ve.transition,n=Q;try{if(Ve.transition=null,Q=16>e?16:e,zt===null)var r=!1;else{if(e=zt,zt=null,Wo=0,W&6)throw Error(E(331));var o=W;for(W|=4,T=e.current;T!==null;){var a=T,l=a.child;if(T.flags&16){var s=a.deletions;if(s!==null){for(var u=0;u<s.length;u++){var p=s[u];for(T=p;T!==null;){var g=T;switch(g.tag){case 0:case 11:case 15:dr(8,g,a)}var m=g.child;if(m!==null)m.return=g,T=m;else for(;T!==null;){g=T;var x=g.sibling,w=g.return;if(hc(g),g===p){T=null;break}if(x!==null){x.return=w,T=x;break}T=w}}}var k=a.alternate;if(k!==null){var j=k.child;if(j!==null){k.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}T=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,T=l;else e:for(;T!==null;){if(a=T,a.flags&2048)switch(a.tag){case 0:case 11:case 15:dr(9,a,a.return)}var c=a.sibling;if(c!==null){c.return=a.return,T=c;break e}T=a.return}}var d=e.current;for(T=d;T!==null;){l=T;var f=l.child;if(l.subtreeFlags&2064&&f!==null)f.return=l,T=f;else e:for(l=d;T!==null;){if(s=T,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ti(9,s)}}catch(v){ie(s,s.return,v)}if(s===l){T=null;break e}var h=s.sibling;if(h!==null){h.return=s.return,T=h;break e}T=s.return}}if(W=o,Wt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Qo,e)}catch{}r=!0}return r}finally{Q=n,Ve.transition=t}}return!1}function nu(e,t,n){t=Dn(n,t),t=ic(e,t,1),e=It(e,t,1),t=Ne(),e!==null&&(Rr(e,1,t),Le(e,t))}function ie(e,t,n){if(e.tag===3)nu(e,e,n);else for(;t!==null;){if(t.tag===3){nu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){e=Dn(n,e),e=ac(t,e,1),t=It(t,e,1),e=Ne(),t!==null&&(Rr(t,1,e),Le(t,e));break}}t=t.return}}function Tg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(he&n)===n&&(ue===4||ue===3&&(he&130023424)===he&&500>ae()-Rl?qt(e,0):Tl|=n),Le(e,t)}function Nc(e,t){t===0&&(e.mode&1?(t=Hr,Hr<<=1,!(Hr&130023424)&&(Hr=4194304)):t=1);var n=Ne();e=yt(e,t),e!==null&&(Rr(e,t,n),Le(e,n))}function Rg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nc(e,n)}function Lg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Nc(e,n)}var _c;_c=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,bg(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,ee&&t.flags&1048576&&Td(t,Lo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ho(e,t),e=t.pendingProps;var o=Ln(t,Se.current);zn(t,n),o=Cl(null,t,r,e,o,n);var a=Nl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(r)?(a=!0,To(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,bl(t),o.updater=ei,t.stateNode=o,o._reactInternals=t,_a(t,r,e,n),t=Pa(null,t,r,!0,a,n)):(t.tag=0,ee&&a&&pl(t),Ce(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ho(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Mg(r),e=Je(r,e),o){case 0:t=za(null,t,r,e,n);break e;case 1:t=Ks(null,t,r,e,n);break e;case 11:t=Us(null,t,r,e,n);break e;case 14:t=Vs(null,t,r,Je(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Je(r,o),za(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Je(r,o),Ks(e,t,r,o,n);case 3:e:{if(dc(t),e===null)throw Error(E(387));r=t.pendingProps,a=t.memoizedState,o=a.element,Dd(e,t),Fo(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Dn(Error(E(423)),t),t=Qs(e,t,r,n,o);break e}else if(r!==o){o=Dn(Error(E(424)),t),t=Qs(e,t,r,n,o);break e}else for(Fe=Lt(t.stateNode.containerInfo.firstChild),De=t,ee=!0,Ze=null,n=Md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(In(),r===o){t=vt(e,t,n);break e}Ce(e,t,r,n)}t=t.child}return t;case 5:return Bd(t),e===null&&ja(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,l=o.children,va(r,o)?l=null:a!==null&&va(r,a)&&(t.flags|=32),uc(e,t),Ce(e,t,l,n),t.child;case 6:return e===null&&ja(t),null;case 13:return cc(e,t,n);case 4:return wl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mn(t,null,r,n):Ce(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Je(r,o),Us(e,t,r,o,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,l=o.value,q(Io,r._currentValue),r._currentValue=l,a!==null)if(nt(a.value,l)){if(a.children===o.children&&!Te.current){t=vt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){l=a.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=mt(-1,n&-n),u.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?u.next=u:(u.next=g.next,g.next=u),p.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Ca(a.return,n,t),s.lanes|=n;break}u=u.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(E(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Ca(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ce(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,zn(t,n),o=Ke(o),r=r(o),t.flags|=1,Ce(e,t,r,n),t.child;case 14:return r=t.type,o=Je(r,t.pendingProps),o=Je(r.type,o),Vs(e,t,r,o,n);case 15:return lc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Je(r,o),ho(e,t),t.tag=1,Re(r)?(e=!0,To(t)):e=!1,zn(t,n),oc(t,r,o),_a(t,r,o,n),Pa(null,t,r,!0,e,n);case 19:return fc(e,t,n);case 22:return sc(e,t,n)}throw Error(E(156,t.tag))};function Ec(e,t){return td(e,t)}function Ig(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(e,t,n,r){return new Ig(e,t,n,r)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mg(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tl)return 11;if(e===nl)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=Ue(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vo(e,t,n,r,o,a){var l=2;if(r=e,typeof e=="function")Fl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gn:return Jt(n.children,o,a,t);case el:l=8,o|=8;break;case Ji:return e=Ue(12,n,t,o|2),e.elementType=Ji,e.lanes=a,e;case Xi:return e=Ue(13,n,t,o),e.elementType=Xi,e.lanes=a,e;case Zi:return e=Ue(19,n,t,o),e.elementType=Zi,e.lanes=a,e;case Bu:return ri(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fu:l=10;break e;case Du:l=9;break e;case tl:l=11;break e;case nl:l=14;break e;case St:l=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ue(l,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Jt(e,t,n,r){return e=Ue(7,e,r,t),e.lanes=n,e}function ri(e,t,n,r){return e=Ue(22,e,r,t),e.elementType=Bu,e.lanes=n,e.stateNode={isHidden:!1},e}function Oi(e,t,n){return e=Ue(6,e,null,t),e.lanes=n,e}function Ai(e,t,n){return t=Ue(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fg(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bi(0),this.expirationTimes=bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Dl(e,t,n,r,o,a,l,s,u){return e=new Fg(e,t,n,s,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ue(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bl(a),e}function Dg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ot;e=e._reactInternals;e:{if(on(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Re(n))return zd(e,n,t)}return t}function Pc(e,t,n,r,o,a,l,s,u){return e=Dl(n,r,!0,e,o,a,l,s,u),e.context=zc(null),n=e.current,r=Ne(),o=Ft(n),a=mt(r,o),a.callback=t??null,It(n,a,o),e.current.lanes=o,Rr(e,o,r),Le(e,r),e}function oi(e,t,n,r){var o=t.current,a=Ne(),l=Ft(o);return n=zc(n),t.context===null?t.context=n:t.pendingContext=n,t=mt(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=It(o,t,l),e!==null&&(tt(e,o,l,a),po(e,o,l)),l}function Uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bl(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}function Bg(){return null}var Tc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ol(e){this._internalRoot=e}ii.prototype.render=Ol.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));oi(e,t,null,null)};ii.prototype.unmount=Ol.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nn(function(){oi(null,e,null,null)}),t[xt]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=sd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&t!==0&&t<Nt[n].priority;n++);Nt.splice(n,0,e),n===0&&dd(e)}};function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function Og(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=Uo(l);a.call(p)}}var l=Pc(t,r,e,0,null,!1,!1,"",ou);return e._reactRootContainer=l,e[xt]=l.current,kr(e.nodeType===8?e.parentNode:e),nn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var p=Uo(u);s.call(p)}}var u=Dl(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=u,e[xt]=u.current,kr(e.nodeType===8?e.parentNode:e),nn(function(){oi(t,u,n,r)}),u}function li(e,t,n,r,o){var a=n._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var s=o;o=function(){var u=Uo(l);s.call(u)}}oi(t,l,e,o)}else l=Og(n,t,e,o,r);return Uo(l)}ad=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&(il(t,n|1),Le(t,ae()),!(W&6)&&(Bn=ae()+500,Wt()))}break;case 13:nn(function(){var r=yt(e,1);if(r!==null){var o=Ne();tt(r,e,1,o)}}),Bl(e,1)}};al=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var n=Ne();tt(t,e,134217728,n)}Bl(e,134217728)}};ld=function(e){if(e.tag===13){var t=Ft(e),n=yt(e,t);if(n!==null){var r=Ne();tt(n,e,t,r)}Bl(e,t)}};sd=function(){return Q};ud=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};ua=function(e,t,n){switch(t){case"input":if(na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Jo(r);if(!o)throw Error(E(90));Au(r),na(r,o)}}}break;case"textarea":Wu(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}};Yu=Ll;qu=nn;var Ag={usingClientEntryPoint:!1,Events:[Ir,yn,Jo,Qu,Gu,Ll]},Jn={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zu(e),e===null?null:e.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||Bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Qo=eo.inject($g),st=eo}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(t))throw Error(E(200));return Dg(e,t,null,n)};Oe.createRoot=function(e,t){if(!Al(e))throw Error(E(299));var n=!1,r="",o=Tc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Dl(e,1,!1,null,null,n,!1,r,o),e[xt]=t.current,kr(e.nodeType===8?e.parentNode:e),new Ol(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Zu(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return nn(e)};Oe.hydrate=function(e,t,n){if(!ai(t))throw Error(E(200));return li(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!Al(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",l=Tc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Pc(t,null,e,1,n??null,o,!1,a,l),e[xt]=t.current,kr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ii(t)};Oe.render=function(e,t,n){if(!ai(t))throw Error(E(200));return li(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!ai(e))throw Error(E(40));return e._reactRootContainer?(nn(function(){li(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Oe.unstable_batchedUpdates=Ll;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ai(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return li(e,t,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function Rc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rc)}catch(e){console.error(e)}}Rc(),Ru.exports=Oe;var Wg=Ru.exports,iu=Wg;Yi.createRoot=iu.createRoot,Yi.hydrateRoot=iu.hydrateRoot;function un(e,t){return n=>n==="left"||n==="top"?e:t}const Wa={morning:{pageColour:"ivory",pagePattern:"ruled",icon:"",title:"Morning",allowFillers:!0},plan:{pageColour:"ivory",pagePattern:"dots",icon:"",title:"Plan",allowFillers:!0},tasks:{pageColour:"cream",pagePattern:"ruled",icon:"",title:"Tasks",allowFillers:!1},add:{pageColour:"ivory",pagePattern:"plain",icon:"",title:"Add",allowFillers:!1},rewards:{pageColour:"aged",pagePattern:"plain",icon:"",title:"Rewards",allowFillers:!0},calendar:{pageColour:"ivory",pagePattern:"grid",icon:"",title:"Calendar",allowFillers:!1},daybook:{pageColour:"cream",pagePattern:"ruled",icon:"",title:"Daybook",allowFillers:!0},poetry:{pageColour:"aged",pagePattern:"ruled",icon:"",title:"Poetry",allowFillers:!0},bindery:{pageColour:"white",pagePattern:"plain",icon:"",title:"Bindery",allowFillers:!1},settings:{pageColour:"white",pagePattern:"plain",icon:"",title:"Settings",allowFillers:!1}};function Lc(e,t,n){const r=i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",minHeight:200,gap:14,padding:32,textAlign:"center"},children:[i.jsx("div",{style:{fontSize:40,opacity:.18},children:n}),i.jsx("div",{style:{fontFamily:"var(--font-header)",fontSize:16,fontWeight:700,color:"var(--text)",opacity:.35,letterSpacing:"0.5px"},children:e}),i.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:11,color:"var(--muted)",maxWidth:200,lineHeight:1.7,opacity:.55},children:t}),i.jsx("div",{style:{fontSize:9,fontFamily:"var(--font-body)",color:"var(--muted)",border:"1px dashed rgba(100,80,60,0.25)",borderRadius:4,padding:"5px 12px",opacity:.5,letterSpacing:"0.5px"},children:"coming soon"})]});return()=>r}const Ha=[{id:"solid",name:"Solid Colour",preview:null,getCss:e=>`background: ${e};`},{id:"linen",name:"Linen",preview:"#c8b89a",getCss:e=>`
      background-color: ${e||"#c8b89a"};
      background-image:
        repeating-linear-gradient(
          0deg, transparent, transparent 2px,
          rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px
        ),
        repeating-linear-gradient(
          90deg, transparent, transparent 4px,
          rgba(0,0,0,0.03) 4px, rgba(0,0,0,0.03) 8px
        );
    `.trim()},{id:"oak",name:"Oak Wood",preview:"#8b6914",getCss:e=>`
      background-color: ${e||"#7a5c18"};
      background-image:
        repeating-linear-gradient(
          88deg,
          transparent 0px, transparent 8px,
          rgba(0,0,0,0.04) 8px, rgba(0,0,0,0.04) 9px,
          transparent 9px, transparent 18px,
          rgba(255,255,255,0.02) 18px, rgba(255,255,255,0.02) 19px
        ),
        repeating-linear-gradient(
          2deg,
          transparent 0px, transparent 40px,
          rgba(0,0,0,0.03) 40px, rgba(0,0,0,0.03) 41px
        );
    `.trim()},{id:"marble",name:"Marble",preview:"#d8d0c8",getCss:e=>`
      background-color: ${e||"#d8d0c8"};
      background-image:
        repeating-linear-gradient(
          128deg,
          transparent 0px, transparent 12px,
          rgba(255,255,255,0.12) 12px, rgba(255,255,255,0.12) 13px,
          transparent 13px, transparent 28px,
          rgba(0,0,0,0.04) 28px, rgba(0,0,0,0.04) 30px
        ),
        repeating-linear-gradient(
          42deg,
          transparent 0px, transparent 22px,
          rgba(255,255,255,0.06) 22px, rgba(255,255,255,0.06) 23px
        );
    `.trim()},{id:"cork",name:"Cork Board",preview:"#c4963c",getCss:e=>`
      background-color: ${e||"#b8892e"};
      background-image:
        radial-gradient(ellipse at 20% 30%, rgba(0,0,0,0.06) 0%, transparent 50%),
        radial-gradient(ellipse at 70% 60%, rgba(255,255,255,0.04) 0%, transparent 40%),
        radial-gradient(ellipse at 45% 80%, rgba(0,0,0,0.04) 0%, transparent 45%),
        repeating-linear-gradient(
          45deg,
          transparent 0px, transparent 3px,
          rgba(0,0,0,0.02) 3px, rgba(0,0,0,0.02) 6px
        );
    `.trim()},{id:"wool",name:"Dark Wool",preview:"#2a2a3a",getCss:e=>`
      background-color: ${e||"#2a2a3a"};
      background-image:
        repeating-linear-gradient(
          45deg,
          transparent 0px, transparent 1px,
          rgba(255,255,255,0.03) 1px, rgba(255,255,255,0.03) 2px
        ),
        repeating-linear-gradient(
          135deg,
          transparent 0px, transparent 1px,
          rgba(255,255,255,0.02) 1px, rgba(255,255,255,0.02) 2px
        );
    `.trim()}];function Ic(e,t){return(Ha.find(r=>r.id===e)??Ha[0]).getCss(t)}const Hg=[{label:"Syne + JetBrains Mono",header:"Syne",body:"JetBrains Mono"},{label:"Inter + Inter",header:"Inter",body:"Inter"},{label:"Playfair + Source Sans",header:"Playfair Display",body:"Source Sans 3"},{label:"Fraunces + DM Sans",header:"Fraunces",body:"DM Sans"},{label:"Space Grotesk + Mono",header:"Space Grotesk",body:"Space Mono"},{label:"Libre Baskerville + Lato",header:"Libre Baskerville",body:"Lato"},{label:"Raleway + Open Sans",header:"Raleway",body:"Open Sans"}],Ug=[{label:"Sharp",value:"sharp",px:3},{label:"Normal",value:"normal",px:9},{label:"Round",value:"round",px:18}],Ct=[{id:"terminal-green",name:"Terminal Green",dark:!0,builtIn:!0,colors:{bg:"#0a0b0e",surface:"#13151c",surface2:"#1a1d26",surface3:"#20232e",border:"#252835",border2:"#2e3245",gold:"#f0c040",gold2:"#ffd97a",teal:"#3de8be",teal2:"#7fffd4",acid:"#d4f03a",acid2:"#eeff70",red:"#ff5656",warn:"#ff9f43",muted:"#5a6070",text:"#dde1ee",text2:"#8a90a8"},fonts:{header:"Syne",body:"JetBrains Mono"},radius:"normal"},{id:"sunshine",name:"Sunshine",dark:!0,builtIn:!0,colors:{bg:"#1a1200",surface:"#241a00",surface2:"#2e2200",surface3:"#382a00",border:"#4a3800",border2:"#5c4600",gold:"#ffcc00",gold2:"#ffe066",teal:"#ff8c42",teal2:"#ffb380",acid:"#ffe600",acid2:"#fff176",red:"#ff5252",warn:"#ff9800",muted:"#7a6a30",text:"#fff8e1",text2:"#c8b870"},fonts:{header:"Fraunces",body:"DM Sans"},radius:"round"},{id:"ocean",name:"Ocean",dark:!1,builtIn:!0,colors:{bg:"#eaf4fb",surface:"#ffffff",surface2:"#d6eaf8",surface3:"#c2dff5",border:"#b0d0ea",border2:"#8ab8d8",gold:"#1565c0",gold2:"#1976d2",teal:"#0077b6",teal2:"#023e8a",acid:"#0077b6",acid2:"#023e8a",red:"#c0392b",warn:"#e67e22",muted:"#7f9fb5",text:"#0d1b2a",text2:"#2c5f7a"},fonts:{header:"Raleway",body:"Open Sans"},radius:"round"},{id:"calm",name:"Calm",dark:!0,builtIn:!0,colors:{bg:"#12131a",surface:"#1a1b26",surface2:"#22243a",surface3:"#2a2d45",border:"#2e3254",border2:"#3a3f68",gold:"#c3a6ff",gold2:"#d4bcff",teal:"#7dcfff",teal2:"#a9d8ff",acid:"#bb9af7",acid2:"#cdb4fd",red:"#f7768e",warn:"#ff9e64",muted:"#565f89",text:"#c0caf5",text2:"#7aa2f7"},fonts:{header:"Space Grotesk",body:"Space Mono"},radius:"normal"},{id:"linen",name:"Linen",dark:!1,builtIn:!0,colors:{bg:"#f5f0e8",surface:"#ffffff",surface2:"#ede8df",surface3:"#e0d9ce",border:"#d0c8bc",border2:"#b8afa2",gold:"#8b5e3c",gold2:"#a67c52",teal:"#5b8a6e",teal2:"#3d6b52",acid:"#7a5230",acid2:"#9c6840",red:"#c0392b",warn:"#d35400",muted:"#9e9080",text:"#2c2416",text2:"#6b5d4f"},fonts:{header:"Libre Baskerville",body:"Lato"},radius:"sharp"},{id:"deep-purple",name:"Deep Purple",dark:!0,builtIn:!0,colors:{bg:"#0e0a1a",surface:"#170f2e",surface2:"#1e1540",surface3:"#261b52",border:"#2e2060",border2:"#3d2a80",gold:"#e040fb",gold2:"#ea80fc",teal:"#7c4dff",teal2:"#b39dff",acid:"#d500f9",acid2:"#e040fb",red:"#ff1744",warn:"#ff6d00",muted:"#6a5a8a",text:"#ede7f6",text2:"#b39ddb"},fonts:{header:"Syne",body:"Inter"},radius:"normal"},{id:"kraft",name:"Kraft",dark:!0,builtIn:!0,colors:{bg:"#1a1208",surface:"#241a0c",surface2:"#2e2210",surface3:"#382a14",border:"#4a3820",border2:"#5c4a2c",gold:"#d4a017",gold2:"#e8b830",teal:"#8b7355",teal2:"#a68b6a",acid:"#c8860a",acid2:"#dda020",red:"#c0392b",warn:"#e67e22",muted:"#7a6545",text:"#f0e6d0",text2:"#c4a870"},fonts:{header:"Fraunces",body:"Lato"},radius:"sharp"},{id:"typeset",name:"Typeset",dark:!1,builtIn:!0,colors:{bg:"#ffffff",surface:"#f8f8f8",surface2:"#eeeeee",surface3:"#e0e0e0",border:"#cccccc",border2:"#aaaaaa",gold:"#111111",gold2:"#333333",teal:"#111111",teal2:"#333333",acid:"#111111",acid2:"#333333",red:"#cc0000",warn:"#cc6600",muted:"#888888",text:"#111111",text2:"#555555"},fonts:{header:"Playfair Display",body:"Source Sans 3"},radius:"sharp"},{id:"neutral",name:"Neutral",dark:!0,builtIn:!0,colors:{bg:"#111111",surface:"#1c1c1c",surface2:"#252525",surface3:"#2e2e2e",border:"#333333",border2:"#444444",gold:"#aaaaaa",gold2:"#cccccc",teal:"#888888",teal2:"#aaaaaa",acid:"#dddddd",acid2:"#eeeeee",red:"#cc4444",warn:"#cc8844",muted:"#555555",text:"#eeeeee",text2:"#999999"},fonts:{header:"Inter",body:"Inter"},radius:"sharp"}];let au=new Set;function lu(e){if(au.has(e))return;au.add(e);const t=encodeURIComponent(e),n=document.createElement("link");n.rel="stylesheet",n.href=`https://fonts.googleapis.com/css2?family=${t}:wght@400;600;700;800&display=swap`,document.head.appendChild(n)}const su={sharp:{sm:2,md:4,lg:6,xl:8},normal:{sm:6,md:9,lg:12,xl:16},round:{sm:12,md:18,lg:24,xl:32}};function Vo(e){const t=document.documentElement,{colors:n,fonts:r,radius:o,dark:a}=e;lu(r.header),lu(r.body),Object.entries(n).forEach(([s,u])=>{t.style.setProperty(`--${s}`,u)}),t.style.setProperty("--font-header",`'${r.header}', sans-serif`),t.style.setProperty("--font-body",`'${r.body}', monospace`);const l=su[o]||su.normal;t.style.setProperty("--radius-sm",`${l.sm}px`),t.style.setProperty("--radius-md",`${l.md}px`),t.style.setProperty("--radius-lg",`${l.lg}px`),t.style.setProperty("--radius-xl",`${l.xl}px`),t.style.setProperty("--on-accent",a?"#0a0b0e":"#ffffff"),t.style.setProperty("color-scheme",a?"dark":"light")}const Mc="theme_active",Fc="themes_custom",Dc="themes_hidden";function Bc(e){localStorage.setItem(Mc,e)}function Vg(){return localStorage.getItem(Mc)||"terminal-green"}function uu(e){localStorage.setItem(Fc,JSON.stringify(e))}function Kg(){try{return JSON.parse(localStorage.getItem(Fc))||[]}catch{return[]}}function Qg(e){localStorage.setItem(Dc,JSON.stringify(e))}function Gg(){try{return JSON.parse(localStorage.getItem(Dc))||[]}catch{return[]}}function Yg(){return{id:`custom-${Date.now()}`,name:"My Theme",dark:!0,builtIn:!1,colors:{bg:"#111111",surface:"#1c1c1c",surface2:"#252525",surface3:"#2e2e2e",border:"#333333",border2:"#444444",gold:"#f0c040",gold2:"#ffd97a",teal:"#3de8be",teal2:"#7fffd4",acid:"#d4f03a",acid2:"#eeff70",red:"#ff5656",warn:"#ff9f43",muted:"#5a6070",text:"#dde1ee",text2:"#8a90a8"},fonts:{header:"Syne",body:"JetBrains Mono"},radius:"normal"}}function qg({label:e,value:t,onChange:n}){return i.jsxs("div",{className:"ts-color-row",children:[i.jsx("span",{className:"ts-color-label",children:e}),i.jsx("input",{type:"color",value:t,onChange:r=>n(r.target.value),className:"ts-color-swatch",title:e}),i.jsx("input",{type:"text",value:t,onChange:r=>{/^#[0-9a-fA-F]{0,6}$/.test(r.target.value)&&n(r.target.value)},className:"ts-hex-input",spellCheck:!1,maxLength:7})]})}function du({theme:e,onSave:t,onCancel:n,onDelete:r}){const[o,a]=S.useState({...e,colors:{...e.colors},fonts:{...e.fonts}}),l=u=>{a(u),Vo(u)},s=[{label:"Backgrounds",keys:[{key:"bg",label:"Page background"},{key:"surface",label:"Card / panel"},{key:"surface2",label:"Input / inner surface"},{key:"surface3",label:"Deepest surface"}]},{label:"Borders",keys:[{key:"border",label:"Default border"},{key:"border2",label:"Stronger border"}]},{label:"Accent colours",keys:[{key:"acid",label:"Primary accent"},{key:"acid2",label:"Primary accent light"},{key:"teal",label:"Secondary accent"},{key:"teal2",label:"Secondary accent light"},{key:"gold",label:"Points / rewards"},{key:"gold2",label:"Points light"}]},{label:"Status",keys:[{key:"red",label:"Error / danger"},{key:"warn",label:"Warning"}]},{label:"Text",keys:[{key:"text",label:"Primary text"},{key:"text2",label:"Secondary text"},{key:"muted",label:"Muted / labels"}]}];return i.jsxs("div",{className:"ts-editor",children:[i.jsxs("div",{className:"ts-editor-header",children:[i.jsx("input",{className:"ts-name-input",value:o.name,onChange:u=>l({...o,name:u.target.value}),placeholder:"Theme name"}),i.jsxs("label",{className:"ts-dark-toggle",children:[i.jsx("input",{type:"checkbox",checked:o.dark,onChange:u=>l({...o,dark:u.target.checked})}),i.jsx("span",{children:"Dark mode"})]})]}),i.jsx("div",{className:"ts-section-label",children:"Fonts"}),i.jsx("div",{className:"ts-font-grid",children:Hg.map(u=>{const p=o.fonts.header===u.header&&o.fonts.body===u.body;return i.jsxs("button",{className:`ts-font-btn ${p?"active":""}`,onClick:()=>l({...o,fonts:{header:u.header,body:u.body}}),children:[i.jsx("span",{className:"ts-font-name",children:u.header}),i.jsx("span",{className:"ts-font-sub",children:u.body})]},u.label)})}),i.jsx("div",{className:"ts-section-label",children:"Corners"}),i.jsx("div",{className:"ts-radius-row",children:Ug.map(u=>i.jsx("button",{className:`ts-radius-btn ${o.radius===u.value?"active":""}`,onClick:()=>l({...o,radius:u.value}),children:u.label},u.value))}),s.map(u=>i.jsxs("div",{children:[i.jsx("div",{className:"ts-section-label",children:u.label}),i.jsx("div",{className:"ts-color-group",children:u.keys.map(({key:p,label:g})=>i.jsx(qg,{label:g,value:o.colors[p],onChange:m=>l({...o,colors:{...o.colors,[p]:m}})},p))})]},u.label)),i.jsxs("div",{className:"ts-editor-actions",children:[i.jsx("button",{className:"ts-save-btn",onClick:()=>t(o),children:"Save Theme"}),r&&i.jsx("button",{className:"ts-delete-btn",onClick:r,children:"Delete"}),i.jsx("button",{className:"ts-cancel-btn",onClick:n,children:"Cancel"})]})]})}function Jg({activeThemeId:e,customThemes:t,hiddenThemes:n,onThemeChange:r,onCustomThemesChange:o,onHiddenChange:a}){const[l,s]=S.useState(null),[u,p]=S.useState(!1),g=[...Ct,...t],m=Ct.filter(c=>u||!n.includes(c.id));function x(c){Vo(c),Bc(c.id),r(c.id)}function w(c){const f=t.find(h=>h.id===c.id)?t.map(h=>h.id===c.id?c:h):[...t,c];uu(f),o(f),x(c),s(null)}function k(c){const d=t.filter(f=>f.id!==c);if(uu(d),o(d),e===c){const f=Ct[0];x(f)}s(null)}function j(c){const d=n.includes(c)?n.filter(f=>f!==c):[...n,c];if(Qg(d),a(d),d.includes(e)){const f=Ct.find(h=>!d.includes(h.id))||Ct[0];x(f)}}function b(){const c=g.find(d=>d.id===e)||Ct[0];Vo(c),s(null)}return i.jsxs("div",{children:[i.jsx("div",{className:"section-title",children:"Appearance"}),i.jsxs("div",{className:"ts-group-label",children:["Built-in themes",i.jsx("button",{className:"ts-subtle-btn",onClick:()=>p(c=>!c),children:u?"Hide hidden":`Show hidden (${n.length})`})]}),i.jsx("div",{className:"ts-theme-grid",children:m.map(c=>{const d=e===c.id,f=n.includes(c.id),h=l===c.id;return i.jsx("div",{children:i.jsxs("div",{className:`ts-theme-card ${d?"active":""} ${f?"hidden-theme":""}`,style:{background:c.colors.bg,borderColor:d?c.colors.acid:c.colors.border},onClick:()=>!h&&x(c),children:[i.jsx("div",{className:"ts-swatches",children:[c.colors.bg,c.colors.surface,c.colors.acid,c.colors.teal,c.colors.gold].map((v,C)=>i.jsx("div",{className:"ts-swatch",style:{background:v}},C))}),i.jsx("div",{className:"ts-theme-name",style:{color:c.colors.text,fontFamily:`'${c.fonts.header}', sans-serif`},children:c.name}),i.jsxs("div",{className:"ts-theme-meta",style:{color:c.colors.muted},children:[c.dark?"Dark":"Light","  ",c.radius]}),i.jsx("button",{className:"ts-hide-btn",style:{color:c.colors.muted},onClick:v=>{v.stopPropagation(),j(c.id)},title:f?"Unhide":"Hide",children:f?"Show":"Hide"}),d&&i.jsx("div",{className:"ts-active-dot",style:{background:c.colors.acid}})]})},c.id)})}),i.jsxs("div",{className:"ts-group-label",style:{marginTop:20},children:["Custom themes",i.jsx("button",{className:"ts-subtle-btn",onClick:()=>s("new"),children:"+ New theme"})]}),t.length===0&&l!=="new"&&i.jsx("div",{className:"ts-empty",children:'No custom themes yet. Click "+ New theme" to create one.'}),l==="new"&&i.jsx(du,{theme:Yg(),onSave:w,onCancel:b}),i.jsx("div",{className:"ts-theme-grid",children:t.map(c=>{const d=e===c.id,f=l===c.id;return i.jsxs("div",{children:[i.jsxs("div",{className:`ts-theme-card ${d?"active":""}`,style:{background:c.colors.bg,borderColor:d?c.colors.acid:c.colors.border},onClick:()=>!f&&x(c),children:[i.jsx("div",{className:"ts-swatches",children:[c.colors.bg,c.colors.surface,c.colors.acid,c.colors.teal,c.colors.gold].map((h,v)=>i.jsx("div",{className:"ts-swatch",style:{background:h}},v))}),i.jsx("div",{className:"ts-theme-name",style:{color:c.colors.text},children:c.name}),i.jsxs("div",{className:"ts-theme-meta",style:{color:c.colors.muted},children:[c.dark?"Dark":"Light","  ",c.radius]}),i.jsx("button",{className:"ts-hide-btn",style:{color:c.colors.muted},onClick:h=>{h.stopPropagation(),s(f?null:c.id)},children:f?"Close":"Edit"}),d&&i.jsx("div",{className:"ts-active-dot",style:{background:c.colors.acid}})]}),f&&i.jsx(du,{theme:c,onSave:w,onCancel:b,onDelete:()=>k(c.id)})]},c.id)})})]})}const Xg=["","Exhausted","Very Low","Low","Below Avg","Moderate","Good","High","Very High","Peak","Maximum"],Oc={terrible:1,poor:3,ok:5,good:7,great:9},cu={daily:1,"2x_daily":.5,"3x_weekly":2.33,weekly:7,"2x_weekly":3.5,biweekly:14,monthly:30,once:9999},Zg=1,Xn=15,to=200,em={1:3,2:2.5,3:2,4:1.5};function tm(e){return em[e]||1}function rr(e,t){const n=Math.max(Zg,Math.round(e.energy_required*e.duration_minutes/10)),r=tm(t),o=r>1,a=o?Math.round(n*r):n;return{base:n,pts:a,lowEnergyBonus:o,multiplier:r}}const nm=[{id:"r1",name:"30 min guilt-free gaming",cost:150,emoji:"",category:"leisure"},{id:"r2",name:"Nice takeaway meal",cost:300,emoji:"",category:"food"},{id:"r3",name:"Full rest day (no tasks)",cost:500,emoji:"",category:"rest"},{id:"r4",name:"New book or game",cost:400,emoji:"",category:"purchase"},{id:"r5",name:"Movie night / binge session",cost:250,emoji:"",category:"leisure"},{id:"r6",name:"Fancy coffee or treat",cost:80,emoji:"",category:"food"},{id:"r7",name:"Weekend lie-in (no alarm)",cost:180,emoji:"",category:"rest"},{id:"r8",name:"Buy something on the wishlist",cost:600,emoji:"",category:"purchase"}],rm=[{id:"meds-am",name:"Take morning medications",mandatory:!0,category:"health",energy_required:1,duration_minutes:2,frequency:"daily",time_of_day:"morning",days_available:["mon","tue","wed","thu","fri","sat","sun"],variants:[],subtasks:[],blockers:[],cost:0},{id:"breakfast",name:"Breakfast",mandatory:!0,category:"health",energy_required:2,duration_minutes:20,frequency:"daily",time_of_day:"morning",days_available:["mon","tue","wed","thu","fri","sat","sun"],variants:[{name:"Cereal or yogurt",duration_minutes:5,energy_required:1},{name:"Toast & eggs",duration_minutes:15,energy_required:2},{name:"Full cooked breakfast",duration_minutes:35,energy_required:3}],subtasks:[],blockers:[],cost:0},{id:"lunch",name:"Lunch",mandatory:!0,category:"health",energy_required:2,duration_minutes:30,frequency:"daily",time_of_day:"afternoon",days_available:["mon","tue","wed","thu","fri","sat","sun"],variants:[{name:"Snack / quick bite",duration_minutes:10,energy_required:1},{name:"Sandwich or leftovers",duration_minutes:20,energy_required:2},{name:"Cook proper lunch",duration_minutes:40,energy_required:4}],subtasks:[],blockers:[],cost:0},{id:"dinner",name:"Dinner",mandatory:!0,category:"health",energy_required:3,duration_minutes:45,frequency:"daily",time_of_day:"evening",days_available:["mon","tue","wed","thu","fri","sat","sun"],variants:[{name:"Takeaway or microwave meal",duration_minutes:10,energy_required:1},{name:"Simple pasta or stir-fry",duration_minutes:25,energy_required:3},{name:"Cook proper dinner",duration_minutes:60,energy_required:5}],subtasks:[],blockers:[],cost:0},{id:"q1-report",name:"Q1 Report for CFMS",critical:!0,category:"work",project:"CFMS",energy_required:7,duration_minutes:60,frequency:"once",deadline:"2026-03-26",days_available:["mon","tue","wed","thu","fri"],variants:[],subtasks:["Outline sections","Write draft","Review numbers"],blockers:[],cost:0},{id:"exercise",name:"Exercise",critical:!0,category:"health",energy_required:7,duration_minutes:45,frequency:"3x_weekly",days_available:["mon","tue","wed","thu","fri","sat","sun"],variants:[{name:"Light walk (15 min)",duration_minutes:15,energy_required:3},{name:"Moderate workout (30 min)",duration_minutes:30,energy_required:6},{name:"Full workout (60 min)",duration_minutes:60,energy_required:9}],subtasks:[],blockers:[],cost:0},{id:"email-triage",name:"Email triage & responses",category:"work",energy_required:4,duration_minutes:30,frequency:"daily",days_available:["mon","tue","wed","thu","fri"],variants:[],subtasks:[],blockers:[],cost:0},{id:"weekly-review",name:"Weekly review",category:"admin",energy_required:5,duration_minutes:45,frequency:"weekly",days_available:["fri","sat"],variants:[],subtasks:["Review completed tasks","Plan next week","Update task list"],blockers:[],cost:0}];async function om(e){const t=e.split(`
`).map(g=>g.trim()).filter(g=>g.length>0&&!g.startsWith("#"));if(!t.length)throw new Error("No tasks found.");const n=new Date().toISOString().split("T")[0],o=`You are a task parsing assistant. You receive a numbered list of task descriptions and return a JSON array  one object per task, in the same order.

Return ONLY a valid JSON array (no markdown, no backticks, no preamble). Each element:
{"id":"slug","name":"Task name","mandatory":false,"critical":false,"category":"work|health|admin|personal|home|finance|social","project":null,"energy_required":5,"duration_minutes":30,"frequency":"daily|2x_daily|3x_weekly|2x_weekly|weekly|biweekly|monthly|once","deadline":null,"time_of_day":"morning|afternoon|evening|any","days_available":["mon","tue","wed","thu","fri","sat","sun"],"variants":[],"subtasks":[],"blockers":[],"cost":0,"confidence_notes":"brief note on assumptions"}

Guidelines:
- energy_required: 1=trivial (take a pill), 3=low (read email), 5=moderate (write a doc), 7=demanding (deep focus), 9=intense (hard exercise)
- duration_minutes: use stated estimate or sensible default for the task type
- mandatory: true only for eating, meds, sleep, hygiene
- critical: true if urgent or high importance
- deadline: parse relative dates like '26 Mar' to `+n.slice(0,4)+"-MM-DD. Today is "+n+`
- Work/admin tasks default to weekdays [mon,tue,wed,thu,fri]; personal/health default to all days
- id: lowercase hyphenated slug, unique across items
- If ambiguous, make the most reasonable assumption and note it in confidence_notes`,u=((await(await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:4e3,system:o,messages:[{role:"user",content:t.map((g,m)=>m+1+". "+g).join(`
`)}]})})).json()).content||[]).map(g=>g.text||"").join("").replace(/```json|```/g,"").trim();return JSON.parse(u).map(g=>({...g,variants:g.variants||[],subtasks:g.subtasks||[],blockers:g.blockers||[],cost:g.cost??0}))}function fu(e,t,n,r){var d,f;const{sleep:o,energy:a}=t,l=Oc[o]||5,s=n[e.id]||{},u=s.avg_duration||e.duration_minutes,p=s.avg_energy||e.energy_required;let g=0;if(e.deadline){const h=Math.ceil((new Date(e.deadline)-r)/864e5);h<=0?g=30:h<=1?g=28:h<=3?g=22:h<=7?g=16:h<=14?g=10:h<=30?g=5:g=1}const m=e.mandatory?25:e.critical?15:0,x=1+(5-l)*.1,w=Math.abs(a-p),k=Math.max(0,20-w*2.5)*x;let j=0;if(s.last_done&&e.frequency&&cu[e.frequency]){const h=(r-new Date(s.last_done))/864e5,v=cu[e.frequency];h>v&&(j=Math.min(15,(h-v)/v*15))}const b=["sun","mon","tue","wed","thu","fri","sat"][r.getDay()];if((d=e.days_available)!=null&&d.length&&!e.days_available.includes(b))return null;if((f=e.blockers)!=null&&f.length&&e.blockers.some(h=>{var v;return!((v=n[h])!=null&&v.completed_today)}))return{...e,score:0,blocked:!0,effectiveDuration:u,effectiveEnergy:p};const c=g+m+k+j;return{...e,score:c,urgency:g,criticality:m,energyFit:k,overduePts:j,effectiveDuration:u,effectiveEnergy:p,blocked:!1}}function $i(e,t,n,r,o=!1){var p;if(!((p=e.variants)!=null&&p.length))return null;const a=Oc[n]||5,l=(t+a/2)/1.5,s=[...e.variants].sort((g,m)=>g.duration_minutes-m.duration_minutes);if(o){const g=s.filter(m=>m.duration_minutes<=r);return g.length?g[0]:s[0]}const u=s.filter(g=>g.duration_minutes<=r);return u.length?l<3.5?u[0]:u.reduce((g,m)=>Math.abs(m.energy_required-l)<Math.abs(g.energy_required-l)?m:g,u[0]):s[0]}function im(e,t,n){const r=new Date;r.setHours(0,0,0,0);const o=t.hours*60,a=e.map(d=>fu(d,t,n,r)).filter(Boolean).filter(d=>!d.blocked),l=a.filter(d=>d.mandatory).sort((d,f)=>f.score-d.score),s=a.filter(d=>!d.mandatory&&d.critical).sort((d,f)=>f.score-d.score),u=a.filter(d=>!d.mandatory&&!d.critical).sort((d,f)=>f.score-d.score),p=e.filter(d=>{const f=fu(d,t,n,r);return f==null?void 0:f.blocked}),g=[],m=[];let x=0;for(const d of l){const f=$i(d,t.energy,t.sleep,o-x),h=f?f.duration_minutes:d.effectiveDuration;g.push({...d,scheduledDuration:h,displayName:f?`${d.name}  ${f.name}`:d.name,variant:f,pinned:!0}),x+=h}const w=o-x,k=s.reduce((d,f)=>d+f.effectiveDuration,0),j=s.reduce((d,f)=>{var v;if(!((v=f.variants)!=null&&v.length))return d+f.effectiveDuration;const h=Math.min(...f.variants.map(C=>C.duration_minutes));return d+Math.min(f.effectiveDuration,h)},0),b=k>w,c=j<=w;if(b)if(c)m.push({type:"warning",message:" Time is tight  switching critical tasks to their shorter variants to fit your day."});else{const d=Math.round(j-w);m.push({type:"error",message:` Critical tasks need ${Math.round(j/60*10)/10}h even at shortest variants, but only ${Math.round(w/60*10)/10}h remain. You're ${d}min short  consider deferring a task.`})}for(const d of s){const f=$i(d,t.energy,t.sleep,o-x,b),h=f?f.duration_minutes:d.effectiveDuration;x+h<=o+15&&(g.push({...d,scheduledDuration:h,displayName:f?`${d.name}  ${f.name}`:d.name,variant:f,compressed:b&&!!f}),x+=h)}for(const d of u){if(x>=o)break;const f=x/o>.9,h=$i(d,t.energy,t.sleep,o-x,f),v=h?h.duration_minutes:d.effectiveDuration;x+v<=o&&(g.push({...d,scheduledDuration:v,displayName:h?`${d.name}  ${h.name}`:d.name,variant:h,compressed:f&&!!h}),x+=v)}return a.filter(d=>d.overduePts>10).length&&m.push({type:"warning",message:" Overdue tasks auto-promoted."}),(t.energy<=3||t.sleep==="terrible")&&m.push({type:"info",message:" Low energy detected  variants scaled down. Low-energy bonus 1.5 pts active today!"}),{plan:g,alerts:m,minutesUsed:x,availableMinutes:o,blocked:p}}function Ac(e){var n,r,o;const t=[`- id: ${e.id}`,`  name: ${e.name}`];return e.mandatory&&t.push("  mandatory: true"),e.critical&&t.push("  critical: true"),e.category&&t.push(`  category: ${e.category}`),e.project&&t.push(`  project: ${e.project}`),t.push(`  energy_required: ${e.energy_required}`,`  duration_minutes: ${e.duration_minutes}`,`  frequency: ${e.frequency||"once"}`),e.deadline&&t.push(`  deadline: "${e.deadline}"`),e.time_of_day&&t.push(`  time_of_day: ${e.time_of_day}`),(n=e.days_available)!=null&&n.length&&t.push(`  days_available: [${e.days_available.join(",")}]`),(r=e.variants)!=null&&r.length&&(t.push("  variants:"),e.variants.forEach(a=>t.push(`    - name: ${a.name}`,`      duration_minutes: ${a.duration_minutes}`,`      energy_required: ${a.energy_required}`))),(o=e.subtasks)!=null&&o.length&&(t.push("  subtasks:"),e.subtasks.forEach(a=>t.push(`    - ${a}`))),e.confidence_notes&&t.push(`  # AI note: ${e.confidence_notes}`),t.join(`
`)}const am=["work","health","admin","personal","home","finance","social"],lm=["daily","2x_daily","3x_weekly","2x_weekly","weekly","biweekly","monthly","once"],sm=["morning","afternoon","evening","any"],pu=["mon","tue","wed","thu","fri","sat","sun"],um={mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S",sun:"S"};function dm({task:e,learnedData:t,onSave:n,onDelete:r,onCancel:o}){const[a,l]=S.useState({...e}),[s,u]=S.useState({name:"",duration_minutes:15,energy_required:3}),[p,g]=S.useState(""),[m,x]=S.useState(!1),w=(v,C)=>l(N=>({...N,[v]:C})),k=t[a.id],j=v=>{const C=a.days_available||[];w("days_available",C.includes(v)?C.filter(N=>N!==v):[...C,v])},b=()=>{s.name.trim()&&(w("variants",[...a.variants||[],{...s,duration_minutes:parseInt(s.duration_minutes)||15,energy_required:parseInt(s.energy_required)||3}]),u({name:"",duration_minutes:15,energy_required:3}))},c=v=>w("variants",a.variants.filter((C,N)=>N!==v)),d=()=>{p.trim()&&(w("subtasks",[...a.subtasks||[],p.trim()]),g(""))},f=v=>w("subtasks",a.subtasks.filter((C,N)=>N!==v)),{base:h}=rr(a,6);return i.jsxs("div",{children:[i.jsxs("div",{className:"section-hdr",children:[i.jsx("div",{className:"section-title",style:{marginBottom:0},children:"Edit Task"}),i.jsxs("div",{style:{display:"flex",gap:6},children:[i.jsx("button",{className:`small-btn ${m?"on":""}`,onClick:()=>x(v=>!v),children:"YAML"}),i.jsx("button",{className:"small-btn",onClick:o,children:" Back"})]})]}),k&&i.jsxs("div",{className:"preview-note",style:{marginBottom:14},children:[" Learned data: ",k.count," completions",k.avg_duration?`  avg ${k.avg_duration}min (est: ${a.duration_minutes}min)`:"",k.avg_energy?`  avg ${k.avg_energy} (est: ${a.energy_required})`:""]}),i.jsxs("div",{className:"edit-form",children:[i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Task name"}),i.jsx("input",{className:"ef-input",value:a.name,onChange:v=>w("name",v.target.value),placeholder:"Task name"})]}),i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Category"}),i.jsx("div",{className:"ef-radio-row",children:am.map(v=>i.jsx("button",{className:`ef-radio-btn ${a.category===v?"active":""}`,onClick:()=>w("category",v),children:v},v))})]}),i.jsxs("div",{className:"ef-group",children:[i.jsxs("label",{className:"ef-label",children:["Project ",i.jsx("span",{className:"ef-optional",children:"(optional)"})]}),i.jsx("input",{className:"ef-input",value:a.project||"",onChange:v=>w("project",v.target.value||null),placeholder:"e.g. CFMS, Home, Q1"})]}),i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Flags"}),i.jsxs("div",{className:"ef-check-row",children:[i.jsxs("label",{className:"ef-check",children:[i.jsx("input",{type:"checkbox",checked:!!a.mandatory,onChange:v=>w("mandatory",v.target.checked)}),i.jsx("span",{children:"Mandatory"})]}),i.jsxs("label",{className:"ef-check",children:[i.jsx("input",{type:"checkbox",checked:!!a.critical,onChange:v=>w("critical",v.target.checked)}),i.jsx("span",{children:"Critical"})]})]})]}),i.jsxs("div",{className:"ef-group",children:[i.jsxs("label",{className:"ef-label",children:["Energy required  ",i.jsxs("span",{style:{color:"var(--acid)",fontFamily:"JetBrains Mono,monospace"},children:[a.energy_required,"/10"]}),i.jsx("span",{className:"ef-optional",style:{marginLeft:6},children:["","Trivial","Very low","Low","Below avg","Moderate","Good","High","Very high","Peak","Maximum"][a.energy_required]})]}),i.jsx("div",{className:"ef-scale-row",children:[1,2,3,4,5,6,7,8,9,10].map(v=>i.jsx("button",{className:`ef-scale-btn ${a.energy_required===v?"active":""}`,onClick:()=>w("energy_required",v),children:v},v))})]}),i.jsxs("div",{className:"ef-group",children:[i.jsxs("label",{className:"ef-label",children:["Estimated duration  ",i.jsxs("span",{style:{color:"var(--acid)",fontFamily:"JetBrains Mono,monospace"},children:[a.duration_minutes," min"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[i.jsx("input",{type:"range",min:2,max:240,step:5,value:a.duration_minutes,onChange:v=>w("duration_minutes",parseInt(v.target.value)),style:{flex:1,WebkitAppearance:"none",height:3,background:"var(--surface2)",borderRadius:2,outline:"none"}}),i.jsx("input",{type:"number",className:"ef-input",style:{width:72},value:a.duration_minutes,onChange:v=>w("duration_minutes",Math.max(1,parseInt(v.target.value)||1))})]}),i.jsxs("div",{style:{fontSize:10,color:"var(--muted)",marginTop:4},children:["Base points at neutral energy: ",i.jsxs("span",{style:{color:"var(--gold)"},children:[h,"pts"]})]})]}),i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Frequency"}),i.jsx("div",{className:"ef-radio-row",children:lm.map(v=>i.jsx("button",{className:`ef-radio-btn ${a.frequency===v?"active":""}`,onClick:()=>w("frequency",v),children:v.replace("_"," ")},v))})]}),i.jsxs("div",{className:"ef-group",children:[i.jsxs("label",{className:"ef-label",children:["Deadline ",i.jsx("span",{className:"ef-optional",children:"(optional)"})]}),i.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[i.jsx("input",{type:"date",className:"ef-input",style:{flex:1},value:a.deadline||"",onChange:v=>w("deadline",v.target.value||null)}),a.deadline&&i.jsx("button",{className:"small-btn",onClick:()=>w("deadline",null),children:"Clear"})]})]}),i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Preferred time of day"}),i.jsx("div",{className:"ef-radio-row",children:sm.map(v=>i.jsx("button",{className:`ef-radio-btn ${a.time_of_day===v?"active":""}`,onClick:()=>w("time_of_day",v),children:v},v))})]}),i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Days available"}),i.jsx("div",{style:{display:"flex",gap:5},children:pu.map(v=>i.jsxs("button",{className:`ef-day-btn ${(a.days_available||[]).includes(v)?"active":""}`,onClick:()=>j(v),children:[um[v],i.jsx("span",{style:{fontSize:8,display:"block",opacity:.7},children:v.slice(1)})]},v))}),i.jsxs("div",{style:{display:"flex",gap:6,marginTop:6},children:[i.jsx("button",{className:"small-btn",onClick:()=>w("days_available",["mon","tue","wed","thu","fri"]),children:"Weekdays"}),i.jsx("button",{className:"small-btn",onClick:()=>w("days_available",["sat","sun"]),children:"Weekends"}),i.jsx("button",{className:"small-btn",onClick:()=>w("days_available",[...pu]),children:"All"})]})]}),i.jsxs("div",{className:"ef-group",children:[i.jsxs("label",{className:"ef-label",children:["Variations ",i.jsx("span",{className:"ef-optional",children:"(shorter/easier alternatives the algorithm can pick)"})]}),(a.variants||[]).length===0&&i.jsx("div",{style:{fontSize:11,color:"var(--muted)",marginBottom:8},children:"No variations yet. Add lighter versions for when time or energy is short."}),(a.variants||[]).map((v,C)=>i.jsxs("div",{className:"ef-variant-row",children:[i.jsx("div",{style:{flex:1},children:i.jsx("input",{className:"ef-input ef-input-sm",value:v.name,onChange:N=>w("variants",a.variants.map((P,F)=>F===C?{...P,name:N.target.value}:P)),placeholder:"Variant name"})}),i.jsx("input",{className:"ef-input ef-input-sm",style:{width:64},type:"number",value:v.duration_minutes,onChange:N=>w("variants",a.variants.map((P,F)=>F===C?{...P,duration_minutes:parseInt(N.target.value)||1}:P)),title:"Duration (min)"}),i.jsx("span",{style:{fontSize:10,color:"var(--muted)"},children:"min"}),i.jsx("div",{className:"ef-scale-row",style:{gap:3},children:[1,2,3,4,5,6,7,8,9,10].map(N=>i.jsx("button",{className:`ef-scale-btn ef-scale-sm ${v.energy_required===N?"active":""}`,onClick:()=>w("variants",a.variants.map((P,F)=>F===C?{...P,energy_required:N}:P)),children:N},N))}),i.jsx("span",{style:{fontSize:10,color:"var(--muted)"},children:""}),i.jsx("button",{className:"ef-remove-btn",onClick:()=>c(C),children:""})]},C)),i.jsxs("div",{className:"ef-variant-row",style:{marginTop:6},children:[i.jsx("div",{style:{flex:1},children:i.jsx("input",{className:"ef-input ef-input-sm",value:s.name,onChange:v=>u(C=>({...C,name:v.target.value})),placeholder:"New variant name (e.g. Quick walk)",onKeyDown:v=>v.key==="Enter"&&b()})}),i.jsx("input",{className:"ef-input ef-input-sm",style:{width:64},type:"number",value:s.duration_minutes,onChange:v=>u(C=>({...C,duration_minutes:v.target.value})),title:"Duration (min)"}),i.jsx("span",{style:{fontSize:10,color:"var(--muted)"},children:"min"}),i.jsx("div",{className:"ef-scale-row",style:{gap:3},children:[1,2,3,4,5,6,7,8,9,10].map(v=>i.jsx("button",{className:`ef-scale-btn ef-scale-sm ${s.energy_required===v?"active":""}`,onClick:()=>u(C=>({...C,energy_required:v})),children:v},v))}),i.jsx("span",{style:{fontSize:10,color:"var(--muted)"},children:""}),i.jsx("button",{className:"parse-btn",style:{padding:"5px 10px",fontSize:11,marginTop:0},onClick:b,children:"+ Add"})]})]}),i.jsxs("div",{className:"ef-group",children:[i.jsx("label",{className:"ef-label",children:"Subtasks"}),(a.subtasks||[]).map((v,C)=>i.jsxs("div",{style:{display:"flex",gap:6,marginBottom:4,alignItems:"center"},children:[i.jsx("span",{style:{fontSize:11,color:"var(--muted)"},children:""}),i.jsx("input",{className:"ef-input ef-input-sm",style:{flex:1},value:v,onChange:N=>w("subtasks",a.subtasks.map((P,F)=>F===C?N.target.value:P))}),i.jsx("button",{className:"ef-remove-btn",onClick:()=>f(C),children:""})]},C)),i.jsxs("div",{style:{display:"flex",gap:6,marginTop:4},children:[i.jsx("input",{className:"ef-input ef-input-sm",style:{flex:1},value:p,onChange:v=>g(v.target.value),placeholder:"Add a subtask",onKeyDown:v=>v.key==="Enter"&&d()}),i.jsx("button",{className:"parse-btn",style:{padding:"5px 10px",fontSize:11,marginTop:0},onClick:d,children:"+ Add"})]})]}),m&&i.jsx("div",{className:"yaml-block",style:{marginTop:4},children:Ac(a)}),i.jsxs("div",{className:"confirm-row",style:{marginTop:16},children:[i.jsx("button",{className:"btn-confirm",onClick:()=>n(a),children:"Save Changes"}),i.jsx("button",{className:"btn-discard",onClick:r,style:{color:"var(--red)",borderColor:"rgba(255,86,86,.3)"},children:"Delete"}),i.jsx("button",{className:"btn-discard",onClick:o,children:"Cancel"})]})]})]})}function cm({children:e,onNavigate:t=()=>{}}){var Yl,ql;const[n,r]=S.useState("morning"),[o,a]=S.useState(rm),[l,s]=S.useState({}),[u,p]=S.useState({sleep:"ok",hours:8,energy:6}),[g,m]=S.useState(null),[x,w]=S.useState(""),[k,j]=S.useState(null),[b,c]=S.useState(!1),[d,f]=S.useState(null),[h,v]=S.useState({}),[C,N]=S.useState({}),[P,F]=S.useState({}),[I,O]=S.useState({}),[J,V]=S.useState(!1),[Ge,ot]=S.useState(!1),[$e,D]=S.useState(null),[z,M]=S.useState(null),[L,Y]=S.useState(0),[K,Ye]=S.useState([]),[je,G]=S.useState(nm),[de,ye]=S.useState(null),[an,Wn]=S.useState({name:"",cost:100,emoji:"",category:"leisure"}),[ln,Fr]=S.useState(!1),[si,Ul]=S.useState(!1),[ui,Vl]=S.useState(null),[Kl,Xc]=S.useState(Vg),[Ql,Zc]=S.useState(Kg),[ef,tf]=S.useState(Gg);S.useEffect(()=>{const _=[...Ct,...Ql].find(R=>R.id===Kl)||Ct[0];Vo(_)},[]),S.useEffect(()=>{(async()=>{try{const _=await window.storage.get("tasks_v2");_&&a(JSON.parse(_.value));const R=await window.storage.get("learned_v2");R&&s(JSON.parse(R.value));const U=await window.storage.get("points_bank");U&&Y(parseInt(U.value));const te=await window.storage.get("points_log");te&&Ye(JSON.parse(te.value));const ce=await window.storage.get("rewards_v2");ce&&G(JSON.parse(ce.value))}catch{}})()},[]);const di=S.useCallback(async y=>{a(y);try{await window.storage.set("tasks_v2",JSON.stringify(y))}catch{}},[]),nf=S.useCallback(async y=>{s(y);try{await window.storage.set("learned_v2",JSON.stringify(y))}catch{}},[]),ci=S.useCallback(async y=>{G(y);try{await window.storage.set("rewards_v2",JSON.stringify(y))}catch{}},[]),fi=S.useCallback(async(y,_,R="#e8f03a")=>{const U=L+y,ce=[{pts:y,reason:_,date:new Date().toLocaleDateString(),ts:Date.now()},...K].slice(0,200);Y(U),Ye(ce),Vl({pts:`+${y}`,color:R}),setTimeout(()=>Vl(null),1800);try{await window.storage.set("points_bank",String(U)),await window.storage.set("points_log",JSON.stringify(ce))}catch{}wt(`+${y} pts  ${_}`,R==="#4de8c2"?"teal":R==="#ffb547"?"gold":"default")},[L,K]),wt=(y,_="default")=>{M({msg:y,type:_}),setTimeout(()=>M(null),3200)},rf=()=>{const y=im(o,u,l);m(y),v({}),N({}),F({}),O({}),Ul(!1),t("plan");try{window.storage.set("morning",JSON.stringify(u))}catch{}},of=async y=>{if(h[y.id])return;const{pts:_,lowEnergyBonus:R}=rr(y,u.energy);v(te=>({...te,[y.id]:{pts:_,lowEnergyBonus:R}}));const U=R?`${y.name} (low-energy bonus!)`:y.name;await fi(_,U,R?"#4de8c2":"#e8f03a"),setTimeout(async()=>{var Hn;const te=((Hn=g==null?void 0:g.plan)==null?void 0:Hn.length)||0,ce=Object.keys(h).length+1;!si&&te>0&&ce>=te&&(Ul(!0),await fi(to," PERFECT DAY  all tasks completed!","#ffb547"))},400)},af=async y=>{I[y]||(O(_=>({..._,[y]:!0})),await fi(Xn,"Feedback logged for task","#4de8c2"))},lf=async()=>{const y={...l};for(const _ of Object.keys(h)){const R=y[_]||{count:0,avg_duration:0,avg_energy:0},U=parseInt(C[_])||null,te=parseFloat(P[_])||null,ce=R.count+1;y[_]={...R,count:ce,last_done:new Date().toISOString().split("T")[0],completed_today:!0,avg_duration:U?Math.round((R.avg_duration*(ce-1)+U)/ce):R.avg_duration,avg_energy:te?Math.round(((R.avg_energy||0)*(ce-1)+te)/ce*10)/10:R.avg_energy},U&&!I[_]&&await af(_)}await nf(y),V(!1),wt(" Estimates updated")},sf=async y=>{if(L<y.cost){wt("Not enough points!","error");return}const _=L-y.cost,U=[{pts:-y.cost,reason:`Redeemed: ${y.name}`,date:new Date().toLocaleDateString(),ts:Date.now()},...K].slice(0,200);Y(_),Ye(U);try{await window.storage.set("points_bank",String(_)),await window.storage.set("points_log",JSON.stringify(U))}catch{}wt(`${y.emoji} Enjoy: ${y.name}!`,"gold")},Gl=async()=>{if(x.trim()){c(!0),f(null),j(null);try{const y=await om(x);j(y.map(_=>({..._,_approved:!0})))}catch(y){f("Parse failed  try: one task per line, e.g. 'Q1 report due 26 Mar, 1hr'. "+(y.message||""))}c(!1)}},uf=()=>{if(!(k!=null&&k.length))return;const _=k.filter(U=>U._approved).map(({_approved:U,confidence_notes:te,...ce})=>ce),R=o.filter(U=>!_.some(te=>te.id===U.id));di([...R,..._]),j(null),w(""),wt(" "+_.length+" task"+(_.length!==1?"s":"")+" added")},df=y=>{j(_=>_.map((R,U)=>U===y?{...R,_approved:!R._approved}:R))},pi=Object.keys(h).length,Dr=((Yl=g==null?void 0:g.plan)==null?void 0:Yl.length)||0,gi=Object.values(h).reduce((y,_)=>y+(_.pts||0),0)+(si?to:0);new Date().toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"});const cf=`
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      --bg:#0a0b0e;--surface:#13151c;--surface2:#1a1d26;--surface3:#20232e;
      --border:#252835;--border2:#2e3245;
      --gold:#f0c040;--gold2:#ffd97a;
      --teal:#3de8be;--teal2:#7fffd4;
      --acid:#d4f03a;--acid2:#eeff70;
      --red:#ff5656;--warn:#ff9f43;
      --muted:#5a6070;--text:#dde1ee;--text2:#8a90a8;
      --font-header:'Syne',sans-serif;
      --font-body:'JetBrains Mono',monospace;
      --on-accent:#0a0b0e;
      --radius-sm:6px;--radius-md:9px;--radius-lg:12px;--radius-xl:16px;
    }
    body{background:var(--bg);color:var(--text);font-family:var(--font-header);min-height:100vh}
    .app{max-width:700px;margin:0 auto;padding:20px 14px 100px;position:relative}

    /*  HEADER */
    .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
    .logo{font-size:21px;font-weight:800;letter-spacing:-1px}
    .logo em{color:var(--acid);font-style:normal}
    .hdr-right{display:flex;align-items:center;gap:10px}
    .date-pill{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--muted);background:var(--surface);padding:4px 10px;border-radius:20px;border:1px solid var(--border)}

    /*  BANK WIDGET */
    .bank-chip{display:flex;align-items:center;gap:6px;background:linear-gradient(135deg,#1a1a08,#2a2a10);border:1px solid rgba(240,192,64,0.4);border-radius:24px;padding:5px 14px;cursor:pointer;transition:all .15s}
    .bank-chip:hover{border-color:var(--gold);box-shadow:0 0 12px rgba(240,192,64,0.15)}
    .bank-pts{font-family:'JetBrains Mono',monospace;font-size:14px;font-weight:600;color:var(--gold)}
    .bank-label{font-size:10px;color:var(--muted);letter-spacing:.5px}
    .bank-coin{font-size:14px}

    /*  NAV */
    .nav{display:flex;gap:3px;background:var(--surface);border-radius:10px;padding:4px;border:1px solid var(--border);margin-bottom:22px}
    .nav-btn{flex:1;padding:8px 2px;font-size:11px;font-weight:700;font-family:var(--font-header);background:none;border:none;color:var(--muted);cursor:pointer;border-radius:var(--radius-md);transition:all .15s;letter-spacing:.3px}
    .nav-btn.active{background:var(--acid);color:var(--on-accent)}
    .nav-btn:hover:not(.active){color:var(--text);background:var(--surface2)}

    /*  MORNING */
    .morning-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:24px}
    .morning-q{margin-bottom:24px}
    .morning-q label{display:block;font-size:13px;font-weight:700;margin-bottom:10px;letter-spacing:.3px}
    .sleep-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:6px}
    .sleep-btn{padding:9px 4px;font-size:11px;font-weight:700;font-family:var(--font-header);background:var(--surface2);border:1px solid var(--border);color:var(--muted);cursor:pointer;border-radius:var(--radius-md);transition:all .15s}
    .sleep-btn.active{background:var(--acid);color:var(--on-accent);border-color:var(--acid)}
    .slider-row{display:flex;align-items:center;gap:10px}
    .slider-row input[type=range]{flex:1;-webkit-appearance:none;height:3px;background:var(--surface2);border-radius:2px;outline:none}
    .slider-row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--acid);border-radius:50%;cursor:pointer}
    .mono-val{font-family:'JetBrains Mono',monospace;font-size:14px;font-weight:600;color:var(--acid)}
    .gen-btn{width:100%;padding:15px;font-size:14px;font-weight:800;font-family:var(--font-header);background:var(--acid);color:var(--on-accent);border:none;border-radius:var(--radius-lg);cursor:pointer;letter-spacing:.5px;transition:opacity .15s;margin-top:4px}
    .gen-btn:hover{opacity:.87}

    /*  ALERTS */
    .alert{padding:12px 15px;border-radius:9px;font-size:12px;line-height:1.5;margin-bottom:8px}
    .alert.error{background:rgba(255,86,86,.1);border:1px solid rgba(255,86,86,.25);color:#ffaaaa}
    .alert.warning{background:rgba(255,159,67,.08);border:1px solid rgba(255,159,67,.2);color:#ffd090}
    .alert.info{background:rgba(61,232,190,.07);border:1px solid rgba(61,232,190,.18);color:var(--teal2)}

    /*  PLAN STATS */
    .plan-bar{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
    .stat-pill{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:9px 13px;font-size:11px;color:var(--text2)}
    .stat-pill strong{display:block;font-size:16px;font-weight:700;font-family:'JetBrains Mono',monospace;color:var(--acid)}
    .stat-pill.gold-pill strong{color:var(--gold)}
    .progress-track{height:4px;background:var(--surface2);border-radius:2px;margin-bottom:14px;overflow:hidden}
    .progress-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--acid));border-radius:2px;transition:width .5s}

    /*  PERFECT DAY BANNER */
    .perfect-banner{background:linear-gradient(135deg,rgba(240,192,64,.15),rgba(212,240,58,.1));border:1px solid rgba(240,192,64,.4);border-radius:12px;padding:16px 20px;display:flex;align-items:center;gap:14px;margin-bottom:14px;animation:popIn .3s ease}
    @keyframes popIn{from{opacity:0;transform:scale(.95)} to{opacity:1;transform:scale(1)}}
    .perfect-emoji{font-size:28px}
    .perfect-text{flex:1}
    .perfect-text strong{display:block;font-size:14px;font-weight:800;color:var(--gold);margin-bottom:2px}
    .perfect-text span{font-size:12px;color:var(--text2)}
    .perfect-pts{font-family:'JetBrains Mono',monospace;font-size:20px;font-weight:700;color:var(--gold)}

    /*  TASK CARDS */
    .task-card{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:14px;margin-bottom:7px;transition:all .15s;position:relative}
    .task-card.done{opacity:.42}
    .task-card.pinned{border-color:rgba(61,232,190,.25);background:rgba(61,232,190,.03)}
    .task-card.critical-card{border-color:rgba(255,159,67,.2)}
    .task-top{display:flex;align-items:flex-start;gap:11px}
    .check-btn{width:22px;height:22px;min-width:22px;border-radius:50%;border:2px solid var(--border2);background:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;margin-top:1px}
    .check-btn.checked{background:var(--teal);border-color:var(--teal)}
    .check-btn.checked::after{content:'';font-size:11px;color:#0a0b0e;font-weight:900}
    .task-info{flex:1;min-width:0}
    .task-name{font-size:13px;font-weight:700;margin-bottom:5px;line-height:1.3}
    .task-meta{display:flex;gap:6px;flex-wrap:wrap}
    .tag{font-size:9px;font-weight:700;padding:2px 7px;border-radius:20px;font-family:'JetBrains Mono',monospace;letter-spacing:.3px;white-space:nowrap}
    .tag.t-time{background:var(--surface2);color:var(--text2);border:1px solid var(--border)}
    .tag.t-cat{background:rgba(212,240,58,.08);color:var(--acid);border:1px solid rgba(212,240,58,.18)}
    .tag.t-mand{background:rgba(61,232,190,.1);color:var(--teal);border:1px solid rgba(61,232,190,.22)}
    .tag.t-crit{background:rgba(255,159,67,.08);color:var(--warn);border:1px solid rgba(255,159,67,.2)}
    .tag.t-pts{background:rgba(240,192,64,.12);color:var(--gold2);border:1px solid rgba(240,192,64,.25)}
    .tag.t-bonus{background:rgba(61,232,190,.15);color:var(--teal2);border:1px solid rgba(61,232,190,.3)}
    .tag.t-learned{background:rgba(138,144,168,.08);color:var(--muted);border:1px solid var(--border)}
    .score-bar{height:2px;background:var(--surface2);border-radius:1px;margin-top:9px}
    .score-fill{height:100%;border-radius:1px;background:linear-gradient(90deg,var(--teal),var(--acid))}
    .task-num{font-size:11px;font-family:'JetBrains Mono',monospace;color:var(--muted);min-width:18px;text-align:right}
    .subtask-list{margin-top:8px;padding-left:32px}
    .subtask-item{font-size:11px;color:var(--text2);padding:1px 0}
    .subtask-item::before{content:' ';color:var(--muted)}

    /*  FLYING POINTS */
    .flying-pts{position:fixed;top:80px;right:24px;font-family:'JetBrains Mono',monospace;font-size:22px;font-weight:800;pointer-events:none;z-index:9999;animation:flyUp 1.8s ease forwards}
    @keyframes flyUp{0%{opacity:0;transform:translateY(0) scale(.8)} 20%{opacity:1;transform:translateY(-8px) scale(1.1)} 70%{opacity:1;transform:translateY(-30px) scale(1)} 100%{opacity:0;transform:translateY(-60px) scale(.9)}}

    /*  REVIEW PANEL */
    .review-panel{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:18px;margin-top:14px}
    .review-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:12px}
    .review-label{flex:1;color:var(--text2)}
    .review-row input{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:5px 8px;border-radius:6px;width:60px;font-family:'JetBrains Mono',monospace;font-size:11px;outline:none}
    .review-row input:focus{border-color:var(--teal)}
    .feedback-badge{font-size:10px;background:rgba(61,232,190,.1);color:var(--teal);border:1px solid rgba(61,232,190,.25);padding:2px 8px;border-radius:20px;white-space:nowrap}

    /*  BLOCKED */
    .blocked-section{background:var(--surface);border:1px solid var(--border);border-radius:9px;padding:13px 15px;margin-top:14px}
    .blocked-item{font-size:11px;color:var(--muted);padding:3px 0}

    /*  REWARDS  */
    .rewards-hero{background:linear-gradient(135deg,#1a1708,#12100a);border:1px solid rgba(240,192,64,.25);border-radius:14px;padding:20px 22px;margin-bottom:18px;display:flex;align-items:center;gap:16px}
    .bank-big{font-family:'JetBrains Mono',monospace;font-size:40px;font-weight:700;color:var(--gold);line-height:1}
    .bank-sub{font-size:11px;color:var(--muted);margin-top:4px}
    .bank-today{font-size:12px;color:var(--acid);font-family:'JetBrains Mono',monospace}
    .rewards-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .reward-card{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:14px;transition:all .15s;cursor:default}
    .reward-card.affordable{border-color:rgba(240,192,64,.3);cursor:pointer}
    .reward-card.affordable:hover{background:rgba(240,192,64,.06);transform:translateY(-1px);box-shadow:0 4px 16px rgba(240,192,64,.1)}
    .reward-emoji{font-size:26px;margin-bottom:6px}
    .reward-name{font-size:13px;font-weight:700;margin-bottom:6px;line-height:1.3}
    .reward-cost{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--gold);font-weight:600}
    .reward-cost.cant{color:var(--muted)}
    .redeem-btn{margin-top:10px;width:100%;padding:7px;font-size:11px;font-weight:800;font-family:var(--font-header);background:var(--gold);color:var(--on-accent);border:none;border-radius:var(--radius-md);cursor:pointer;transition:opacity .15s}
    .redeem-btn:hover{opacity:.85}
    .cant-text{margin-top:8px;font-size:10px;color:var(--muted);text-align:center}
    .edit-reward-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:100;display:flex;align-items:center;justify-content:center;padding:20px}
    .edit-reward-box{background:var(--surface);border:1px solid var(--border2);border-radius:14px;padding:24px;width:100%;max-width:360px}
    .edit-reward-box input{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:9px 12px;border-radius:7px;font-family:'Syne',sans-serif;font-size:13px;margin-bottom:10px;outline:none}
    .edit-reward-box input:focus{border-color:var(--gold)}
    .reward-edit-row{display:flex;gap:8px;align-items:center;margin-bottom:10px}
    .reward-edit-row label{font-size:12px;color:var(--text2);min-width:60px}
    .reward-edit-row input{margin-bottom:0;flex:1}
    .pts-log{background:var(--surface);border:1px solid var(--border);border-radius:11px;overflow:hidden;margin-top:14px}
    .pts-log-item{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid var(--border);font-size:12px}
    .pts-log-item:last-child{border-bottom:none}
    .pts-log-item .pts-val{font-family:'JetBrains Mono',monospace;font-weight:700}
    .pts-log-item .pts-val.pos{color:var(--acid)}
    .pts-log-item .pts-val.neg{color:var(--muted)}
    .pts-log-reason{flex:1;color:var(--text2);margin:0 10px}
    .pts-log-date{font-size:10px;color:var(--muted)}

    /*  ADD TASK */
    .nl-box{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;margin-bottom:14px}
    .nl-input{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);font-family:'Syne',sans-serif;font-size:13px;padding:12px;border-radius:8px;resize:none;outline:none;transition:border-color .15s}
    .nl-input:focus{border-color:var(--acid)}
    .nl-hint{font-size:10px;color:var(--muted);margin-top:7px;line-height:1.6}
    .parse-btn{padding:9px 18px;background:var(--acid);color:var(--on-accent);font-weight:800;font-family:var(--font-header);font-size:12px;border:none;border-radius:var(--radius-md);cursor:pointer;margin-top:10px;transition:opacity .15s}
    .parse-btn:hover{opacity:.85}
    .parse-btn:disabled{opacity:.35;cursor:not-allowed}
    .preview-card{background:var(--surface2);border:1px solid rgba(61,232,190,.25);border-radius:11px;padding:18px}
    .preview-field{display:flex;gap:8px;margin-bottom:5px;font-size:12px}
    .preview-key{color:var(--muted);font-family:'JetBrains Mono',monospace;font-size:10px;min-width:130px;margin-top:1px}
    .preview-val{color:var(--text);font-weight:600}
    .preview-note{font-size:11px;color:var(--teal);margin-top:9px;padding:8px 11px;background:rgba(61,232,190,.06);border-radius:6px;border-left:2px solid var(--teal)}
    .confirm-row{display:flex;gap:8px;margin-top:12px}
    .btn-confirm{flex:1;padding:9px;background:var(--teal);color:var(--on-accent);font-weight:800;font-family:var(--font-header);font-size:12px;border:none;border-radius:var(--radius-md);cursor:pointer}
    .btn-discard{padding:9px 14px;background:var(--surface);color:var(--muted);font-weight:700;font-family:'Syne',sans-serif;font-size:12px;border:1px solid var(--border);border-radius:7px;cursor:pointer}
    .yaml-block{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--acid);background:rgba(212,240,58,.03);border:1px solid rgba(212,240,58,.12);padding:12px;border-radius:7px;white-space:pre;overflow-x:auto;margin-top:10px;line-height:1.6}

    /*  TASKS LIST */
    .task-list-item{background:var(--surface);border:1px solid var(--border);border-radius:9px;padding:12px 14px;margin-bottom:5px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:all .15s}
    .task-list-item:hover{border-color:var(--acid)}
    .tli-name{flex:1;font-size:12px;font-weight:700}
    .tli-meta{font-size:10px;color:var(--muted);font-family:'JetBrains Mono',monospace;text-align:right}
    .learned-badge{font-size:9px;background:rgba(61,232,190,.08);color:var(--teal);border:1px solid rgba(61,232,190,.18);padding:2px 7px;border-radius:20px;margin-top:3px;display:inline-block}

    /*  MISC */
    .section-title{font-size:11px;font-weight:800;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted);margin-bottom:14px}
    .section-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .small-btn{font-size:11px;font-weight:700;font-family:'Syne',sans-serif;padding:5px 11px;background:var(--surface2);border:1px solid var(--border);color:var(--muted);border-radius:6px;cursor:pointer;transition:all .15s}
    .small-btn:hover{border-color:var(--acid);color:var(--acid)}
    .small-btn.on{border-color:var(--acid);color:var(--acid);background:rgba(212,240,58,.06)}
    .divider{height:1px;background:var(--border);margin:18px 0}
    .empty-state{text-align:center;padding:40px 20px;color:var(--muted);font-size:13px}
    .gcal-banner{background:rgba(61,232,190,.05);border:1px solid rgba(61,232,190,.18);border-radius:9px;padding:13px 15px;display:flex;align-items:center;gap:11px;margin-bottom:18px;font-size:12px}
    .gcal-text{flex:1;color:var(--text2)}
    .gcal-text strong{color:var(--teal);display:block;margin-bottom:1px}
    .gcal-btn{font-size:10px;font-weight:800;font-family:'Syne',sans-serif;padding:5px 11px;background:rgba(61,232,190,.12);border:1px solid rgba(61,232,190,.3);color:var(--teal);border-radius:6px;cursor:pointer;white-space:nowrap}
    .toast{position:fixed;bottom:22px;left:50%;transform:translateX(-50%);padding:11px 20px;border-radius:30px;font-size:12px;font-weight:700;z-index:9998;animation:slideup .2s ease;white-space:nowrap;max-width:90vw}
    .toast.default{background:var(--surface);border:1px solid var(--acid);color:var(--acid)}
    .toast.teal{background:var(--surface);border:1px solid var(--teal);color:var(--teal)}
    .toast.gold{background:linear-gradient(135deg,#1a1708,#12100a);border:1px solid var(--gold);color:var(--gold)}
    .toast.error{background:var(--surface);border:1px solid var(--red);color:var(--red)}
    @keyframes slideup{from{opacity:0;transform:translateX(-50%) translateY(10px)} to{opacity:1;transform:translateX(-50%) translateY(0)}}
    @media(max-width:480px){.sleep-grid{grid-template-columns:repeat(3,1fr)}.rewards-grid{grid-template-columns:1fr}.plan-bar{flex-wrap:wrap}}

    /*  THEME SETTINGS  */
    .ts-group-label{font-size:11px;font-weight:800;letter-spacing:1px;text-transform:uppercase;color:var(--muted);margin-bottom:10px;display:flex;align-items:center;gap:10px}
    .ts-subtle-btn{font-size:10px;font-weight:700;font-family:var(--font-header);padding:3px 10px;background:var(--surface2);border:1px solid var(--border);color:var(--text2);border-radius:var(--radius-sm);cursor:pointer;transition:all .15s}
    .ts-subtle-btn:hover{border-color:var(--acid);color:var(--acid)}
    .ts-theme-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:8px}
    .ts-theme-card{border:2px solid transparent;border-radius:var(--radius-lg);padding:12px;cursor:pointer;transition:all .2s;position:relative;min-height:90px}
    .ts-theme-card:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.3)}
    .ts-theme-card.active{box-shadow:0 0 0 2px var(--acid)}
    .ts-theme-card.hidden-theme{opacity:.45}
    .ts-swatches{display:flex;gap:3px;margin-bottom:8px}
    .ts-swatch{width:14px;height:14px;border-radius:3px;flex-shrink:0}
    .ts-theme-name{font-size:12px;font-weight:700;margin-bottom:2px;line-height:1.2}
    .ts-theme-meta{font-size:9px;letter-spacing:.3px}
    .ts-hide-btn{position:absolute;top:8px;right:8px;font-size:9px;font-weight:700;padding:2px 6px;background:rgba(0,0,0,.3);border:none;border-radius:3px;cursor:pointer;transition:opacity .15s}
    .ts-hide-btn:hover{opacity:.7}
    .ts-active-dot{position:absolute;bottom:8px;right:8px;width:8px;height:8px;border-radius:50%}
    .ts-empty{font-size:12px;color:var(--muted);padding:16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);margin-bottom:10px;text-align:center}

    /*  THEME EDITOR  */
    .ts-editor{background:var(--surface);border:1px solid var(--border2);border-radius:var(--radius-lg);padding:20px;margin-bottom:10px}
    .ts-editor-header{display:flex;align-items:center;gap:12px;margin-bottom:16px}
    .ts-name-input{flex:1;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:9px 12px;border-radius:var(--radius-md);font-family:var(--font-header);font-size:14px;font-weight:700;outline:none}
    .ts-name-input:focus{border-color:var(--acid)}
    .ts-dark-toggle{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text2);cursor:pointer;white-space:nowrap}
    .ts-dark-toggle input{width:14px;height:14px;accent-color:var(--acid);cursor:pointer}
    .ts-section-label{font-size:10px;font-weight:800;letter-spacing:1px;text-transform:uppercase;color:var(--muted);margin:14px 0 8px}
    .ts-font-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;margin-bottom:4px}
    .ts-font-btn{padding:9px 10px;background:var(--surface2);border:1px solid var(--border);color:var(--text2);border-radius:var(--radius-md);cursor:pointer;text-align:left;transition:all .12s}
    .ts-font-btn.active{border-color:var(--acid);background:rgba(212,240,58,.06)}
    .ts-font-btn:hover:not(.active){border-color:var(--text2)}
    .ts-font-name{display:block;font-size:12px;font-weight:700;color:var(--text)}
    .ts-font-sub{display:block;font-size:10px;color:var(--muted);margin-top:1px}
    .ts-radius-row{display:flex;gap:6px;margin-bottom:4px}
    .ts-radius-btn{flex:1;padding:7px;font-size:11px;font-weight:700;font-family:var(--font-header);background:var(--surface2);border:1px solid var(--border);color:var(--muted);border-radius:var(--radius-md);cursor:pointer;transition:all .12s}
    .ts-radius-btn.active{background:var(--acid);color:var(--on-accent);border-color:var(--acid)}
    .ts-color-group{display:flex;flex-direction:column;gap:5px;margin-bottom:4px}
    .ts-color-row{display:flex;align-items:center;gap:8px}
    .ts-color-label{font-size:11px;color:var(--text2);flex:1;min-width:130px}
    .ts-color-swatch{width:32px;height:28px;border:1px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;padding:0;background:none}
    .ts-hex-input{width:82px;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:5px 8px;border-radius:var(--radius-sm);font-family:'JetBrains Mono',monospace;font-size:11px;outline:none;letter-spacing:.5px}
    .ts-hex-input:focus{border-color:var(--acid)}
    .ts-editor-actions{display:flex;gap:8px;margin-top:18px;padding-top:14px;border-top:1px solid var(--border)}
    .ts-save-btn{flex:1;padding:9px;background:var(--teal);color:var(--on-accent);font-weight:800;font-family:var(--font-header);font-size:12px;border:none;border-radius:var(--radius-md);cursor:pointer}
    .ts-delete-btn{padding:9px 14px;background:rgba(255,86,86,.1);color:var(--red);font-weight:700;font-family:var(--font-header);font-size:12px;border:1px solid rgba(255,86,86,.3);border-radius:var(--radius-md);cursor:pointer}
    .ts-cancel-btn{padding:9px 14px;background:var(--surface2);color:var(--muted);font-weight:700;font-family:var(--font-header);font-size:12px;border:1px solid var(--border);border-radius:var(--radius-md);cursor:pointer}
    @media(max-width:480px){.ts-theme-grid{grid-template-columns:repeat(2,1fr)}.ts-font-grid{grid-template-columns:1fr}}
    /*  TASK EDITOR FORM */
    .edit-form{display:flex;flex-direction:column;gap:2px}
    .ef-group{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:14px 16px;margin-bottom:6px}
    .ef-label{display:block;font-size:11px;font-weight:800;letter-spacing:.8px;text-transform:uppercase;color:var(--muted);margin-bottom:10px}
    .ef-optional{font-weight:400;text-transform:none;letter-spacing:0;font-size:10px}
    .ef-input{background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:8px 11px;border-radius:7px;font-family:'Syne',sans-serif;font-size:13px;outline:none;width:100%;transition:border-color .15s}
    .ef-input:focus{border-color:var(--acid)}
    .ef-input-sm{padding:5px 8px;font-size:12px}
    .ef-radio-row{display:flex;gap:5px;flex-wrap:wrap}
    .ef-radio-btn{padding:5px 12px;font-size:11px;font-weight:700;font-family:var(--font-header);background:var(--surface2);border:1px solid var(--border);color:var(--muted);cursor:pointer;border-radius:var(--radius-sm);transition:all .12s}
    .ef-radio-btn.active{background:var(--acid);color:var(--on-accent);border-color:var(--acid)}
    .ef-radio-btn:hover:not(.active){border-color:var(--text2);color:var(--text)}
    .ef-check-row{display:flex;gap:16px}
    .ef-check{display:flex;align-items:center;gap:7px;cursor:pointer;font-size:13px;font-weight:600;color:var(--text2)}
    .ef-check input{width:16px;height:16px;accent-color:var(--acid);cursor:pointer}
    .ef-scale-row{display:flex;gap:4px;flex-wrap:wrap}
    .ef-scale-btn{width:28px;height:28px;font-size:11px;font-weight:700;font-family:'JetBrains Mono',monospace;background:var(--surface2);border:1px solid var(--border);color:var(--muted);cursor:pointer;border-radius:5px;transition:all .1s;display:flex;align-items:center;justify-content:center}
    .ef-scale-btn.active{background:var(--acid);color:#0a0b0e;border-color:var(--acid)}
    .ef-scale-btn.ef-scale-sm{width:22px;height:22px;font-size:10px;border-radius:4px}
    .ef-day-btn{width:36px;height:44px;font-size:12px;font-weight:800;font-family:'Syne',sans-serif;background:var(--surface2);border:1px solid var(--border);color:var(--muted);cursor:pointer;border-radius:7px;transition:all .12s;display:flex;flex-direction:column;align-items:center;justify-content:center;line-height:1.1}
    .ef-day-btn.active{background:var(--teal);color:#0a0b0e;border-color:var(--teal)}
    input[type=date].ef-input{color-scheme:dark}
    .ef-variant-row{display:flex;align-items:center;gap:6px;margin-bottom:6px;flex-wrap:wrap}
    .ef-remove-btn{width:22px;height:22px;font-size:11px;background:rgba(255,86,86,.1);border:1px solid rgba(255,86,86,.25);color:var(--red);cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .12s}
    .ef-remove-btn:hover{background:rgba(255,86,86,.25)}

  `,ff={morning:un(i.jsxs("div",{style:{padding:"12px 0",fontFamily:"var(--font-body)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.4)",marginBottom:12},children:"Today's Context"}),i.jsxs("div",{style:{fontSize:11,color:"rgba(100,80,60,0.5)",lineHeight:1.8},children:[i.jsx("div",{children:" Google Calendar"}),i.jsx("div",{style:{fontSize:10,opacity:.6,marginLeft:14,marginTop:2},children:"Connect to see upcoming events here"})]}),i.jsxs("div",{style:{marginTop:16,padding:"10px 0",borderTop:"1px solid rgba(100,120,160,0.1)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.35)",marginBottom:8},children:"Morning Stats"}),i.jsxs("div",{style:{fontSize:10,color:"rgba(100,80,60,0.45)",lineHeight:2},children:[i.jsxs("div",{children:["Sleep quality  ",i.jsx("em",{children:"set on check-in"})]}),i.jsxs("div",{children:["Energy level  ",i.jsx("em",{children:"set on check-in"})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"gcal-banner",children:[i.jsx("div",{style:{fontSize:18},children:""}),i.jsxs("div",{className:"gcal-text",children:[i.jsx("strong",{children:"Google Calendar"}),"Connect to auto-block scheduled time and surface important dates."]}),i.jsx("button",{className:"gcal-btn",children:"Connect"})]}),i.jsx("div",{className:"section-title",children:"Morning check-in"}),i.jsxs("div",{className:"morning-card",children:[i.jsxs("div",{className:"morning-q",children:[i.jsx("label",{children:"How did you sleep?"}),i.jsx("div",{className:"sleep-grid",children:["terrible","poor","ok","good","great"].map(y=>i.jsx("button",{className:`sleep-btn ${u.sleep===y?"active":""}`,onClick:()=>p(_=>({..._,sleep:y})),children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]}),i.jsxs("div",{className:"morning-q",children:[i.jsxs("label",{children:["Hours available  ",i.jsxs("span",{className:"mono-val",children:[u.hours,"h"]})]}),i.jsxs("div",{className:"slider-row",children:[i.jsx("span",{style:{fontSize:10,color:"var(--muted)",fontFamily:"monospace"},children:"1"}),i.jsx("input",{type:"range",min:1,max:14,step:.5,value:u.hours,onChange:y=>p(_=>({..._,hours:parseFloat(y.target.value)}))}),i.jsx("span",{style:{fontSize:10,color:"var(--muted)",fontFamily:"monospace"},children:"14"})]})]}),i.jsxs("div",{className:"morning-q",style:{marginBottom:6},children:[i.jsxs("label",{children:["Energy level  ",i.jsxs("span",{className:"mono-val",children:[u.energy,"/10"]})," ",i.jsx("span",{style:{fontSize:11,color:"var(--muted)"},children:Xg[u.energy]})]}),i.jsxs("div",{className:"slider-row",children:[i.jsx("span",{style:{fontSize:10,color:"var(--muted)",fontFamily:"monospace"},children:"1"}),i.jsx("input",{type:"range",min:1,max:10,value:u.energy,onChange:y=>p(_=>({..._,energy:parseInt(y.target.value)}))}),i.jsx("span",{style:{fontSize:10,color:"var(--muted)",fontFamily:"monospace"},children:"10"})]}),u.energy<=4&&i.jsx("div",{style:{fontSize:11,color:"var(--teal)",marginTop:8,background:"rgba(61,232,190,.07)",padding:"6px 10px",borderRadius:6,border:"1px solid rgba(61,232,190,.18)"},children:" Low energy day  task points earn 1.5 bonus today"})]}),i.jsx("button",{className:"gen-btn",onClick:rf,children:"Generate Today's Plan "})]})]})),plan:un(i.jsxs("div",{style:{padding:"12px 0",fontFamily:"var(--font-body)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.4)",marginBottom:12},children:"Day Summary"}),g&&i.jsxs("div",{style:{fontSize:11,color:"rgba(100,80,60,0.5)",lineHeight:2},children:[i.jsxs("div",{children:["Tasks planned  ",g.plan.length]}),i.jsxs("div",{children:["Hours scheduled  ",Math.round(g.minutesUsed/60*10)/10,"h"]}),i.jsxs("div",{children:["Completed  ",Object.keys(h).length,"/",g.plan.length]}),i.jsxs("div",{children:["Points today  ",Object.values(h).reduce((y,_)=>y+(_.pts||0),0)]})]}),!g&&i.jsx("div",{style:{fontSize:11,color:"rgba(100,80,60,0.35)",fontStyle:"italic"},children:"Generate your plan first "})]}),i.jsx("div",{children:g?i.jsxs(i.Fragment,{children:[g.alerts.map((y,_)=>i.jsx("div",{className:`alert ${y.type}`,children:y.message},_)),si&&i.jsxs("div",{className:"perfect-banner",children:[i.jsx("div",{className:"perfect-emoji",children:""}),i.jsxs("div",{className:"perfect-text",children:[i.jsx("strong",{children:"Perfect Day!"}),i.jsxs("span",{children:["All ",Dr," tasks completed  bonus awarded"]})]}),i.jsxs("div",{className:"perfect-pts",children:["+",to]})]}),i.jsxs("div",{className:"plan-bar",children:[i.jsxs("div",{className:"stat-pill",children:[i.jsx("strong",{children:Dr}),"planned"]}),i.jsxs("div",{className:"stat-pill",children:[i.jsxs("strong",{children:[pi,"/",Dr]}),"done"]}),i.jsxs("div",{className:"stat-pill",children:[i.jsxs("strong",{children:[Math.round(g.minutesUsed/60*10)/10,"h"]}),"est. time"]}),i.jsxs("div",{className:"stat-pill gold-pill",children:[i.jsx("strong",{children:gi}),"pts today"]})]}),pi>0&&i.jsx("div",{className:"progress-track",children:i.jsx("div",{className:"progress-fill",style:{width:`${pi/Dr*100}%`}})}),g.plan.map((y,_)=>{var ce,Hn;const R=!!h[y.id],{pts:U,lowEnergyBonus:te}=rr(y,u.energy);return i.jsxs("div",{className:`task-card ${R?"done":""} ${y.pinned?"pinned":""} ${y.critical&&!y.mandatory?"critical-card":""}`,children:[i.jsxs("div",{className:"task-top",children:[i.jsx("button",{className:`check-btn ${R?"checked":""}`,onClick:()=>!R&&of(y)}),i.jsxs("div",{className:"task-info",children:[i.jsx("div",{className:"task-name",children:y.displayName}),i.jsxs("div",{className:"task-meta",children:[i.jsxs("span",{className:"tag t-time",children:[" ",y.scheduledDuration,"min"]}),i.jsx("span",{className:"tag t-cat",children:y.category}),y.mandatory&&i.jsx("span",{className:"tag t-mand",children:"mandatory"}),y.critical&&!y.mandatory&&i.jsx("span",{className:"tag t-crit",children:"critical"}),i.jsx("span",{className:`tag ${te?"t-bonus":"t-pts"}`,children:te?`1.5  ${U}pts`:`${U}pts`}),((ce=l[y.id])==null?void 0:ce.count)>0&&i.jsxs("span",{className:"tag t-learned",children:["learned ",l[y.id].count]})]}),((Hn=y.subtasks)==null?void 0:Hn.length)>0&&i.jsx("div",{className:"subtask-list",children:y.subtasks.map((pf,gf)=>i.jsx("div",{className:"subtask-item",children:pf},gf))}),y.deadline&&i.jsxs("div",{style:{fontSize:10,color:"var(--muted)",marginTop:5,fontFamily:"monospace"},children:["due ",y.deadline]})]}),i.jsxs("div",{className:"task-num",children:["#",_+1]})]}),i.jsx("div",{className:"score-bar",children:i.jsx("div",{className:"score-fill",style:{width:`${Math.min(100,y.score)}%`}})})]},y.id+_)}),((ql=g.blocked)==null?void 0:ql.length)>0&&i.jsxs("div",{className:"blocked-section",children:[i.jsx("div",{style:{fontSize:11,color:"var(--muted)",fontWeight:700,marginBottom:7},children:"BLOCKED TODAY"}),g.blocked.map(y=>{var _;return i.jsxs("div",{className:"blocked-item",children:[" ",y.name,"  waiting on: ",(_=y.blockers)==null?void 0:_.join(", ")]},y.id)})]}),i.jsx("div",{className:"divider"}),J?i.jsxs("div",{className:"review-panel",children:[i.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:4},children:"How did it actually go?"}),i.jsxs("div",{style:{fontSize:11,color:"var(--muted)",marginBottom:14},children:["Log actual minutes and energy  earn ",Xn,"pts per task + improve future estimates"]}),g.plan.filter(y=>h[y.id]).map(y=>i.jsxs("div",{className:"review-row",children:[i.jsx("div",{className:"review-label",children:y.name}),i.jsx("input",{placeholder:"min",type:"number",value:C[y.id]||"",onChange:_=>N(R=>({...R,[y.id]:_.target.value})),title:"Actual minutes"}),i.jsx("input",{placeholder:"",type:"number",min:"1",max:"10",value:P[y.id]||"",onChange:_=>F(R=>({...R,[y.id]:_.target.value})),title:"Actual energy 1-10"}),I[y.id]&&i.jsxs("span",{className:"feedback-badge",children:["+",Xn,"pts "]})]},y.id)),g.plan.filter(y=>h[y.id]).length===0&&i.jsx("div",{style:{color:"var(--muted)",fontSize:11},children:"Mark tasks complete first, then log times here."}),i.jsxs("div",{className:"confirm-row",style:{marginTop:12},children:[i.jsx("button",{className:"btn-confirm",onClick:lf,children:"Save & Earn Points"}),i.jsx("button",{className:"btn-discard",onClick:()=>V(!1),children:"Cancel"})]})]}):i.jsxs("button",{className:"small-btn",style:{width:"100%",padding:11},onClick:()=>V(!0),children:[" Log actual times (+",Xn,"pts per task)"]})]}):i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{style:{fontSize:32,marginBottom:12},children:""}),i.jsx("div",{children:"Complete your morning check-in first"}),i.jsx("button",{className:"parse-btn",style:{marginTop:16},onClick:()=>t("morning"),children:"Go to Morning Check-in"})]})})),tasks:un(i.jsxs("div",{style:{padding:"12px 0",fontFamily:"var(--font-body)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.4)",marginBottom:12},children:"Task Library"}),i.jsxs("div",{style:{fontSize:11,color:"rgba(100,80,60,0.5)",lineHeight:2},children:[i.jsxs("div",{children:["Total tasks  ",o.length]}),i.jsxs("div",{children:["Mandatory  ",o.filter(y=>y.mandatory).length]}),i.jsxs("div",{children:["Critical  ",o.filter(y=>y.critical&&!y.mandatory).length]}),i.jsxs("div",{children:["With variants  ",o.filter(y=>{var _;return((_=y.variants)==null?void 0:_.length)>0}).length]})]}),i.jsxs("div",{style:{marginTop:16,padding:"10px 0",borderTop:"1px solid rgba(100,120,160,0.1)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.35)",marginBottom:8},children:"Learned"}),i.jsxs("div",{style:{fontSize:10,color:"rgba(100,80,60,0.4)"},children:[Object.keys(l).length," tasks calibrated"]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"section-hdr",children:[i.jsxs("div",{className:"section-title",style:{marginBottom:0},children:["Task List (",o.length,")"]}),i.jsx("button",{className:`small-btn ${Ge?"on":""}`,onClick:()=>ot(y=>!y),children:Ge?"Cards":"YAML"})]}),Ge?i.jsx("div",{className:"yaml-block",children:o.map(y=>Ac(y)).join(`

`)}):o.map(y=>{const _=l[y.id],{pts:R}=rr(y,u.energy);return i.jsxs("div",{className:"task-list-item",onClick:()=>{D(y),t("add")},children:[i.jsx("div",{style:{fontSize:14},children:y.mandatory?"":y.critical?"":""}),i.jsx("div",{className:"tli-name",children:y.name}),i.jsxs("div",{children:[i.jsxs("div",{className:"tli-meta",children:[y.duration_minutes,"min  ",y.energy_required,"  ",i.jsxs("span",{style:{color:"var(--gold)"},children:[R,"pts"]})]}),(_==null?void 0:_.count)>0&&i.jsxs("div",{className:"learned-badge",children:["",_.count,"  ",_.avg_duration||y.duration_minutes,"min avg"]})]})]},y.id)})]})),add:un(i.jsxs("div",{style:{padding:"12px 0",fontFamily:"var(--font-body)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.4)",marginBottom:12},children:"How to Add Tasks"}),i.jsxs("div",{style:{fontSize:10,color:"rgba(100,80,60,0.45)",lineHeight:1.9},children:[i.jsx("div",{children:"Type one task per line in plain English. The AI will infer:"}),i.jsxs("div",{style:{marginTop:8,paddingLeft:8},children:[i.jsx("div",{children:" Category & energy level"}),i.jsx("div",{children:" Frequency & deadline"}),i.jsx("div",{children:" Days available"})]}),i.jsx("div",{style:{marginTop:12,fontStyle:"italic",opacity:.7},children:'e.g. "gym 3x per week, 1hr"'}),i.jsx("div",{style:{fontStyle:"italic",opacity:.7},children:'"Q1 report due 26 Mar, 1hr"'})]})]}),i.jsx("div",{children:$e?i.jsx(dm,{task:$e,learnedData:l,onSave:y=>{di(o.map(_=>_.id===y.id?y:_)),D(null),wt(" Task saved")},onDelete:()=>{di(o.filter(y=>y.id!==$e.id)),D(null),wt(`"${$e.name}" removed`)},onCancel:()=>D(null)}):i.jsxs("div",{children:[i.jsx("div",{className:"section-title",children:"Add Tasks in Plain English"}),i.jsxs("div",{className:"nl-box",children:[i.jsx("textarea",{className:"nl-input",rows:5,placeholder:"One task per line, e.g.:\\nQ1 report for CFMS due 26 Mar, maybe 1hr\\nweekly team standup Tuesdays, 30 min\\ntake vitamins every morning, 2 mins\\ngym 3x per week, high energy, 1 hour\\n\\n# Lines starting with # are ignored",value:x,onChange:y=>w(y.target.value),onKeyDown:y=>{y.key==="Enter"&&y.metaKey&&Gl()}}),i.jsx("div",{className:"nl-hint",children:"Enter one task per line  paste as many as you like. One API call handles the whole batch. AI infers category, energy, frequency, and deadline. Review each one before saving."}),i.jsx("button",{className:"parse-btn",onClick:Gl,disabled:b||!x.trim(),children:b?"Parsing "+x.split(`
`).filter(y=>y.trim()&&!y.startsWith("#")).length+" tasks":"Parse Tasks "})]}),d&&i.jsx("div",{className:"alert error",style:{marginBottom:12},children:d}),k&&k.length>0&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:10},children:[i.jsxs("div",{style:{fontSize:12,fontWeight:800,color:"var(--teal)"},children:[k.length," task",k.length!==1?"s":""," parsed  toggle to approve"]}),i.jsxs("div",{style:{display:"flex",gap:6},children:[i.jsx("button",{className:"small-btn",onClick:()=>j(y=>y.map(_=>({..._,_approved:!0}))),children:"All "}),i.jsx("button",{className:"small-btn",onClick:()=>j(y=>y.map(_=>({..._,_approved:!1}))),children:"None"})]})]}),k.map((y,_)=>i.jsx("div",{className:"preview-card",style:{marginBottom:8,opacity:y._approved?1:.45,borderColor:y._approved?"rgba(61,232,190,.3)":"var(--border)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[i.jsx("button",{onClick:()=>df(_),style:{marginTop:2,width:20,height:20,minWidth:20,borderRadius:"50%",border:"2px solid "+(y._approved?"var(--teal)":"var(--border2)"),background:y._approved?"var(--teal)":"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:y._approved&&i.jsx("span",{style:{fontSize:10,color:"#0a0b0e",fontWeight:900},children:""})}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontWeight:800,fontSize:13,marginBottom:6},children:y.name}),i.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[i.jsx("span",{className:"tag t-cat",children:y.category}),i.jsxs("span",{className:"tag t-time",children:[y.duration_minutes,"min"]}),i.jsxs("span",{className:"tag t-learned",children:["",y.energy_required,"  ",y.frequency]}),y.deadline&&i.jsxs("span",{className:"tag t-crit",children:["due ",y.deadline]}),y.mandatory&&i.jsx("span",{className:"tag t-mand",children:"mandatory"}),y.critical&&!y.mandatory&&i.jsx("span",{className:"tag t-crit",children:"critical"}),i.jsxs("span",{className:"tag t-pts",children:[rr(y,u.energy).base,"pts base"]})]}),y.confidence_notes&&i.jsxs("div",{style:{fontSize:10,color:"var(--teal)",marginTop:6,fontStyle:"italic"},children:[" ",y.confidence_notes]})]})]})},_)),i.jsxs("div",{className:"confirm-row",style:{marginTop:12},children:[i.jsxs("button",{className:"btn-confirm",onClick:uf,disabled:!k.some(y=>y._approved),children:[" Add ",k.filter(y=>y._approved).length," task",k.filter(y=>y._approved).length!==1?"s":""]}),i.jsx("button",{className:"btn-discard",onClick:()=>{j(null),w("")},children:"Discard All"})]})]}),i.jsx("div",{className:"divider"}),i.jsx("div",{className:"section-title",children:"Learning Status"}),Object.keys(l).length===0?i.jsx("div",{style:{fontSize:11,color:"var(--muted)"},children:"No learned data yet. Complete tasks and log actuals to improve estimates."}):Object.entries(l).map(([y,_])=>{const R=o.find(te=>te.id===y);if(!R)return null;const U=_.avg_duration&&Math.abs(_.avg_duration-R.duration_minutes)>5;return i.jsxs("div",{className:"task-list-item",style:{cursor:"default"},children:[i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{className:"tli-name",style:{fontSize:11},children:R.name}),i.jsxs("div",{className:"tli-meta",children:[_.count," logged  avg ",_.avg_duration||R.duration_minutes,"min (est: ",R.duration_minutes,")",_.avg_energy?`  avg ${_.avg_energy}`:""]})]}),i.jsx("div",{style:{fontSize:9,color:U?"var(--warn)":"var(--teal)",fontFamily:"monospace",fontWeight:700},children:U?" drifted":" calibrated"})]},y)})]})})),rewards:un(i.jsxs("div",{style:{padding:"12px 0",fontFamily:"var(--font-body)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.4)",marginBottom:12},children:"Points Bank"}),i.jsx("div",{style:{fontSize:28,fontWeight:700,fontFamily:"var(--font-header)",color:"rgba(100,80,60,0.6)",lineHeight:1,marginBottom:4},children:L.toLocaleString()}),i.jsx("div",{style:{fontSize:10,color:"rgba(100,80,60,0.4)",marginBottom:16},children:"points accumulated"}),i.jsxs("div",{style:{padding:"10px 0",borderTop:"1px solid rgba(100,120,160,0.1)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.35)",marginBottom:8},children:"Recent"}),K.slice(0,5).map((y,_)=>i.jsxs("div",{style:{fontSize:10,color:"rgba(100,80,60,0.45)",lineHeight:1.8,display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{style:{opacity:.7,maxWidth:140,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:y.reason}),i.jsx("span",{style:{fontFamily:"var(--font-body)",color:y.pts>0?"rgba(80,120,60,0.7)":"rgba(120,60,60,0.5)"},children:y.pts>0?`+${y.pts}`:y.pts})]},_)),K.length===0&&i.jsx("div",{style:{fontSize:10,color:"rgba(100,80,60,0.3)",fontStyle:"italic"},children:"No activity yet"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"rewards-hero",children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:11,color:"var(--muted)",letterSpacing:"1.5px",fontWeight:700,marginBottom:6},children:"POINTS BANK"}),i.jsx("div",{className:"bank-big",children:L.toLocaleString()}),i.jsx("div",{className:"bank-sub",children:"Total accumulated"})]}),i.jsx("div",{style:{flex:1}}),i.jsxs("div",{style:{textAlign:"right"},children:[gi>0&&i.jsxs("div",{className:"bank-today",children:["+",gi," today"]}),i.jsxs("div",{style:{fontSize:11,color:"var(--muted)",marginTop:6},children:["Perfect day: ",i.jsxs("span",{style:{color:"var(--gold)"},children:[to,"pts"]}),i.jsx("br",{}),"Feedback: ",i.jsxs("span",{style:{color:"var(--teal)"},children:[Xn,"pts/task"]}),i.jsx("br",{}),"Low energy: ",i.jsx("span",{style:{color:"var(--acid)"},children:"1.5 bonus"})]})]})]}),i.jsxs("div",{className:"section-hdr",children:[i.jsx("div",{className:"section-title",style:{marginBottom:0},children:"Rewards Shop"}),i.jsx("button",{className:"small-btn",onClick:()=>Fr(!0),children:"+ Add Reward"})]}),i.jsx("div",{className:"rewards-grid",children:je.map(y=>{const _=L>=y.cost;return i.jsxs("div",{className:`reward-card ${_?"affordable":""}`,onClick:()=>_&&ye(y),children:[i.jsx("div",{className:"reward-emoji",children:y.emoji}),i.jsx("div",{className:"reward-name",children:y.name}),i.jsxs("div",{className:`reward-cost ${_?"":"cant"}`,children:[" ",y.cost.toLocaleString()," pts"]}),_?i.jsx("button",{className:"redeem-btn",onClick:R=>{R.stopPropagation(),sf(y)},children:"Redeem"}):i.jsxs("div",{className:"cant-text",children:["Need ",(y.cost-L).toLocaleString()," more"]})]},y.id)})}),K.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"divider"}),i.jsx("div",{className:"section-title",children:"Points History"}),i.jsx("div",{className:"pts-log",children:K.slice(0,20).map((y,_)=>i.jsxs("div",{className:"pts-log-item",children:[i.jsx("div",{className:`pts-val ${y.pts>0?"pos":"neg"}`,children:y.pts>0?`+${y.pts}`:y.pts}),i.jsx("div",{className:"pts-log-reason",children:y.reason}),i.jsx("div",{className:"pts-log-date",children:y.date})]},_))})]})]})),settings:un(i.jsxs("div",{style:{padding:"12px 0",fontFamily:"var(--font-body)"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"rgba(100,80,60,0.4)",marginBottom:12},children:"Theme"}),i.jsx("div",{style:{fontSize:10,color:"rgba(100,80,60,0.45)",lineHeight:1.8},children:"Choose a colour theme and font pair for the application UI."})]}),i.jsx(Jg,{activeThemeId:Kl,customThemes:Ql,hiddenThemes:ef,onThemeChange:y=>{Xc(y),Bc(y)},onCustomThemesChange:Zc,onHiddenChange:tf})),poetry:Lc("Poetry","Write, collect and arrange poems. Coming soon.","")};return i.jsxs(i.Fragment,{children:[i.jsx("style",{children:cf}),e({chapters:ff,pointsBank:L}),ui&&i.jsx("div",{className:"flying-pts",style:{color:ui.color},children:ui.pts}),(de||ln)&&i.jsx("div",{className:"edit-reward-overlay",onClick:()=>{ye(null),Fr(!1)},children:i.jsxs("div",{className:"edit-reward-box",onClick:y=>y.stopPropagation(),children:[i.jsx("div",{style:{fontWeight:800,fontSize:15,marginBottom:16,color:"var(--gold)"},children:ln?"Add New Reward":"Edit Reward"}),(()=>{const y=ln?an:de,_=ln?(R,U)=>Wn(te=>({...te,[R]:U})):(R,U)=>ye(te=>({...te,[R]:U}));return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"reward-edit-row",children:[i.jsx("label",{children:"Emoji"}),i.jsx("input",{value:y.emoji,onChange:R=>_("emoji",R.target.value),style:{maxWidth:70}})]}),i.jsxs("div",{className:"reward-edit-row",children:[i.jsx("label",{children:"Name"}),i.jsx("input",{value:y.name,onChange:R=>_("name",R.target.value),placeholder:"Reward name"})]}),i.jsxs("div",{className:"reward-edit-row",children:[i.jsx("label",{children:"Cost (pts)"}),i.jsx("input",{type:"number",value:y.cost,onChange:R=>_("cost",parseInt(R.target.value)||0)})]}),i.jsxs("div",{className:"confirm-row",children:[i.jsx("button",{className:"btn-confirm",onClick:()=>{if(ln){if(!an.name.trim())return;const R=[...je,{...an,id:`r${Date.now()}`}];ci(R),Wn({name:"",cost:100,emoji:"",category:"leisure"}),Fr(!1)}else ci(je.map(R=>R.id===de.id?de:R)),ye(null)},children:"Save"}),!ln&&i.jsx("button",{className:"btn-discard",onClick:()=>{ci(je.filter(R=>R.id!==de.id)),ye(null),wt("Reward removed")},children:"Remove"}),i.jsx("button",{className:"btn-discard",onClick:()=>{ye(null),Fr(!1)},children:"Cancel"})]})]})})()]})}),z&&i.jsx("div",{className:`toast ${z.type}`,children:z.msg})]})}const no=29.53059,fm=new Date("2000-01-06T18:14:00Z").getTime();function pm(e=new Date){return((e.getTime()-fm)/(1e3*60*60*24)%no+no)%no/no}function gm(e){return e<.03||e>.97?"New Moon":e<.22?"Waxing Crescent":e<.28?"First Quarter":e<.47?"Waxing Gibbous":e<.53?"Full Moon":e<.72?"Waning Gibbous":e<.78?"Last Quarter":"Waning Crescent"}function mm({faded:e=!0,vertical:t=!1}){const n=pm(),r=gm(n),o=7,a=10,l=10,s=n*2*Math.PI,u=Math.cos(s)*o,p=n<.5,g=e?"rgba(100,88,70,0.42)":"rgba(100,88,70,0.85)",m=e?"rgba(240,228,200,0.55)":"rgba(240,228,200,0.9)",x=e?"rgba(80,70,55,0.22)":"rgba(80,70,55,0.5)",w=`moon-clip-${Math.round(n*100)}`,k=i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",style:{flexShrink:0},children:[i.jsx("defs",{children:i.jsx("clipPath",{id:w,children:i.jsx("circle",{cx:a,cy:l,r:o})})}),i.jsx("circle",{cx:a,cy:l,r:o,fill:x}),i.jsxs("g",{clipPath:`url(#${w})`,children:[p?i.jsx("rect",{x:a,y:l-o,width:o,height:o*2,fill:m}):i.jsx("rect",{x:a-o,y:l-o,width:o,height:o*2,fill:m}),i.jsx("ellipse",{cx:a,cy:l,rx:Math.abs(u),ry:o,fill:u>0?p?x:m:p?m:x})]}),i.jsx("circle",{cx:a,cy:l,r:o,fill:"none",stroke:g,strokeWidth:"0.75"})]});return t?i.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,opacity:e?.72:1},children:[k,i.jsx("span",{style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)",fontSize:6,fontFamily:"var(--font-label, var(--font-body))",color:g,letterSpacing:"1.5px",whiteSpace:"nowrap",userSelect:"none",marginTop:2},children:r})]}):i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5,opacity:e?.7:1},children:[k,i.jsx("span",{style:{fontSize:10,fontFamily:"var(--font-body)",color:g,letterSpacing:"0.3px",lineHeight:1.2},children:r})]})}const hm=1e5,$l="cb_key_hex",Wl="cb_days_left";function $c(e){return[{label:"At least 8 characters",ok:e.length>=8},{label:"Contains a number",ok:/[0-9]/.test(e)},{label:"Contains a special character (!@#$%^&*-_+=?)",ok:/[!@#$%^&*\-_+=?]/.test(e)}]}function dn(e){return $c(e).every(t=>t.ok)}async function ro(e,t){const n=new TextEncoder,r=Uint8Array.from(atob(t),s=>s.charCodeAt(0)),o=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]),a=await crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:hm,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt"]),l=await crypto.subtle.exportKey("raw",a);return Array.from(new Uint8Array(l)).map(s=>s.toString(16).padStart(2,"0")).join("")}async function xm(e,t,n,r,o=""){const a=Uint8Array.from(e.match(/.{2}/g).map(g=>parseInt(g,16))),l=await crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),s=`${t}|${n}|${r}|${o}`,u=new TextEncoder,p=await crypto.subtle.sign("HMAC",l,u.encode(s));return Array.from(new Uint8Array(p)).map(g=>g.toString(16).padStart(2,"0")).join("")}function Wi(){const e=crypto.getRandomValues(new Uint8Array(16));return btoa(String.fromCharCode(...e))}function oo(e){sessionStorage.setItem($l,e)}function Wc(){return sessionStorage.getItem($l)}function Hc(){sessionStorage.removeItem($l),sessionStorage.removeItem(Wl)}function ym(){return!!Wc()}function vm(e){sessionStorage.setItem(Wl,String(e))}function bm(){const e=sessionStorage.getItem(Wl);return e===null?null:parseInt(e)}const Uc="https://api.commonplacebook.cloud";async function dt(e,t,n={},r=null){const o=Wc();if(!o)throw new Ua("Not authenticated");const a=new URL(Uc);a.pathname="/",Object.entries(n).forEach(([w,k])=>a.searchParams.set(w,k));const l=Date.now().toString(),s=r?JSON.stringify(r):"",u=a.pathname+a.search,p=await xm(o,e,u,l,s),g={"Content-Type":"application/json","X-Timestamp":l,"X-Signature":p,"X-Auth-Key":o},m=await fetch(a.toString(),{method:e,headers:g,body:r?s:void 0});if(m.status===401)throw Hc(),new Ua("Session expired");const x=await m.json();if(x.daysLeft!==void 0&&vm(x.daysLeft),!m.ok)throw new Vc(x.error??"Request failed",m.status);return x}async function cn(e,t={},n=null){const r=new URL(Uc);r.pathname="/",Object.entries(t).forEach(([l,s])=>r.searchParams.set(l,s));const o=await fetch(r.toString(),{method:e,headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0}),a=await o.json();if(!o.ok)throw new Vc(a.error??"Request failed",o.status);return a}class Ua extends Error{constructor(t){super(t),this.name="AuthError"}}class Vc extends Error{constructor(t,n){super(t),this.name="ApiError",this.status=n}}const me={ping:()=>cn("GET",{action:"ping"}),setupStatus:()=>cn("GET",{action:"setup-status"}),getSalt:()=>cn("GET",{action:"salt"}),setup:({verifier:e,salt:t,email:n})=>cn("POST",{action:"setup"},{verifier:e,salt:t,email:n}),requestReset:()=>cn("POST",{action:"reset-request"},{}),verifyReset:({token:e,verifier:t,salt:n})=>cn("POST",{action:"reset-verify"},{token:e,verifier:t,salt:n}),changePassword:({verifier:e,salt:t})=>dt("POST","/",{action:"change-password"},{verifier:e,salt:t}),list:(e,t={})=>dt("GET","/",{section:e,...t}),get:e=>dt("GET","/",{id:e}),create:e=>dt("POST","/",{},e),update:(e,t)=>dt("PUT","/",{id:e},t),delete:e=>dt("DELETE","/",{id:e}),tags:e=>dt("GET","/",{action:"tags",section:e}),authors:e=>dt("GET","/",{action:"authors",section:e}),random:e=>dt("GET","/",{action:"random",section:e})};function Kc(e){return e?(e.split(`
`).find(n=>n.trim().length>0)??"").trim().replace(/\s+/g," "):""}function gu(e){return e.replace(/^[-~]+\s*/,"").replace(/^by\s+/i,"").trim()}function wm(e){return/^(c\.?\s*)?\d{4}/.test(e)||/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i.test(e)}function km(e){var d;if(!e.trim())return{};const t=e.split(`
`);let n="",r="",o="",a="",l="";const s=[];for(const f of t){const h=f.trim(),v=h.match(/^trans(?:lated)?\s+(?:by\s+)?(.+)/i)||h.match(/^tr\.\s+(?:by\s+)?(.+)/i);if(v){o=v[1].trim();continue}const C=h.match(/^from\s+['"""']?(.+?)['"""']?\s*$/i)||h.match(/^in\s+['"""']?(.+?)['"""']?\s*$/i);if(C&&!wm(C[1])){a=C[1].trim();continue}const N=h.match(/^by\s+([A-Z].+)$/);if(N&&!r){r=N[1].trim();continue}const P=h.match(/^[-~]\s+(.+)$/);if(P&&!r){r=gu(P[0]);continue}s.push(f)}const u=s.map((f,h)=>({i:h,t:f.trim()})).filter(f=>f.t.length>0);if(u.length===0)return{title:n,author:r,translator:o,collection:a,publishedDate:l,text:""};const p=u[0].i,g=u[u.length-1].i,m=u[0].t,x=m.length<=80&&!m.endsWith(",")&&u.length>1;x&&!n&&(n=m);const w=u[u.length-1].t,k=!r&&w.length<=60&&u.length>2&&!/[.!?,]$/.test(w)&&!/^[a-z]/.test(w);k&&(r=gu(w)),x&&!n.length?p+1:p+(x?1:0);let b=s.slice(n&&((d=s[p])==null?void 0:d.trim())===n?p+1:p,k?g:void 0).join(`
`);if(b=b.replace(/^\n+/,"").replace(/\n+$/,""),r){const f=r.match(/,\s*((?:c\.?\s*)?\d{4}.*)$/);f&&(l=f[1].trim(),r=r.replace(f[0],"").trim())}const c=Kc(b);return{title:n||"",author:r||"",translator:o||"",collection:a||"",publishedDate:l||"",text:b,firstLine:c}}function Sm(e){return e?e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).trim():""}const io="rgba(60,40,20,0.75)",Hi="rgba(60,40,20,0.45)",mu="rgba(60,40,20,0.3)",jm="#faf8f2",hu="#d4f03a",Cm="#3de8be",Vt="rgba(100,120,160,0.18)",B={wrap:{height:"100%",display:"flex",flexDirection:"column",fontFamily:"'Syne', sans-serif"},hdr:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px 8px",borderBottom:`1px solid ${Vt}`,flexShrink:0},hdrTitle:{fontSize:11,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:Hi},body:{flex:1,overflowY:"auto",padding:"14px 16px",scrollbarWidth:"thin"},field:{marginBottom:14},label:{display:"block",fontSize:10,fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:mu,marginBottom:5},hint:{fontSize:9,color:mu,marginTop:3,lineHeight:1.5},input:{width:"100%",padding:"8px 10px",background:"rgba(100,120,160,0.06)",border:`1px solid ${Vt}`,borderRadius:6,color:io,fontSize:12,fontFamily:"'Syne', sans-serif",outline:"none",transition:"border-color .15s"},textarea:{width:"100%",padding:"8px 10px",background:"rgba(100,120,160,0.06)",border:`1px solid ${Vt}`,borderRadius:6,color:io,fontSize:12,fontFamily:"'EB Garamond', Georgia, serif",outline:"none",resize:"vertical",lineHeight:1.8,whiteSpace:"pre-wrap",transition:"border-color .15s"},pasteArea:{width:"100%",minHeight:160,padding:"10px 12px",background:"rgba(212,240,58,0.04)",border:"1.5px dashed rgba(212,240,58,0.35)",borderRadius:8,color:io,fontSize:12,fontFamily:"Georgia, serif",outline:"none",resize:"vertical",lineHeight:1.8},parseBtn:{padding:"8px 16px",background:hu,color:"#0a0b0e",border:"none",borderRadius:6,fontSize:11,fontWeight:800,fontFamily:"'Syne', sans-serif",cursor:"pointer",marginTop:8,transition:"opacity .15s"},saveBtn:{padding:"10px 18px",background:hu,color:"#0a0b0e",border:"none",borderRadius:6,fontSize:12,fontWeight:800,fontFamily:"'Syne', sans-serif",cursor:"pointer",flex:1,transition:"opacity .15s"},cancelBtn:{padding:"10px 14px",background:"none",border:`1px solid ${Vt}`,borderRadius:6,fontSize:11,fontWeight:700,color:Hi,fontFamily:"'Syne', sans-serif",cursor:"pointer"},deleteBtn:{padding:"10px 14px",background:"none",border:"1px solid rgba(255,86,86,0.3)",borderRadius:6,fontSize:11,fontWeight:700,color:"rgba(255,86,86,0.7)",fontFamily:"'Syne', sans-serif",cursor:"pointer"},tagInput:{flex:1,padding:"6px 10px",background:"rgba(100,120,160,0.06)",border:`1px solid ${Vt}`,borderRadius:6,color:io,fontSize:11,fontFamily:"'Syne', sans-serif",outline:"none"},tag:{display:"inline-flex",alignItems:"center",gap:4,padding:"3px 8px",borderRadius:20,background:"rgba(61,232,190,0.1)",border:"1px solid rgba(61,232,190,0.25)",fontSize:10,color:"rgba(20,80,60,0.8)",fontFamily:"'JetBrains Mono', monospace",margin:"0 3px 4px 0"},tagSuggestion:{padding:"4px 10px",fontSize:10,fontFamily:"'JetBrains Mono', monospace",color:Hi,cursor:"pointer",borderRadius:4,background:"none",border:"none",transition:"background .1s"},err:{fontSize:11,color:"#c03030",background:"rgba(255,86,86,0.07)",border:"1px solid rgba(255,86,86,0.2)",borderRadius:6,padding:"8px 11px",marginBottom:10},footerRow:{display:"flex",gap:8,padding:"12px 16px",borderTop:`1px solid ${Vt}`,flexShrink:0}};function Nm({tags:e,onChange:t,suggestions:n}){const[r,o]=S.useState(""),[a,l]=S.useState(!1),s=g=>{const m=g.trim().toLowerCase().replace(/\s+/g,"-");m&&!e.includes(m)&&t([...e,m]),o(""),l(!1)},u=g=>t(e.filter(m=>m!==g)),p=n.filter(g=>g.tag.includes(r.toLowerCase())&&!e.includes(g.tag)).slice(0,8);return i.jsxs("div",{children:[i.jsx("div",{style:{marginBottom:6,minHeight:24},children:e.map(g=>i.jsxs("span",{style:B.tag,children:[g,i.jsx("button",{onClick:()=>u(g),style:{background:"none",border:"none",cursor:"pointer",padding:0,color:"inherit",fontSize:10,lineHeight:1},children:""})]},g))}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{style:B.tagInput,value:r,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{(g.key==="Enter"||g.key===",")&&(g.preventDefault(),s(r)),g.key==="Backspace"&&!r&&e.length&&u(e[e.length-1])},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),150),placeholder:"Add tag, press Enter or comma"}),a&&p.length>0&&i.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:100,background:jm,border:`1px solid ${Vt}`,borderRadius:6,padding:"4px 0",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:p.map(g=>i.jsxs("button",{style:B.tagSuggestion,onMouseDown:()=>s(g.tag),children:[g.tag,g.section_count>0&&i.jsxs("span",{style:{color:Cm,marginLeft:4},children:["",g.section_count]})]},g.tag))})]}),i.jsx("div",{style:B.hint,children:"Separate with Enter or comma. Tags auto-suggest by frequency in Poetry."})]})}function _m({existing:e,onSaved:t,onCancel:n}){const r=!!e,[o,a]=S.useState(""),[l,s]=S.useState(null),[u,p]=S.useState(""),g={title:"",author:"",text:"",notes:"",translator:"",collection:"",publishedDate:""},[m,x]=S.useState(r?{...g,...e.data}:g),[w,k]=S.useState(r?e.tags??[]:[]),[j,b]=S.useState([]),[c,d]=S.useState(!1),[f,h]=S.useState(""),[v,C]=S.useState(!1),N=O=>J=>x(V=>({...V,[O]:J.target.value}));S.useEffect(()=>{me.tags("poetry").then(O=>b(O.tags??[])).catch(()=>{})},[]);const P=()=>{const O=km(o);if(!O.text&&!O.title){p("Couldn't find any poem content. Paste the full poem text.");return}p(""),x({...g,...O}),s(!0)},F=async()=>{if(!m.title.trim()){h("Title is required.");return}if(!m.author.trim()){h("Author is required.");return}if(!m.text.trim()){h("Poem text is required.");return}d(!0),h("");try{const O={...m,text:Sm(m.text),firstLine:Kc(m.text)};r?await me.update(e.id,{data:O,tags:w}):await me.create({sectionId:"poetry",contentType:"poem",data:O,tags:w}),t()}catch(O){h(O.message??"Save failed.")}d(!1)},I=async()=>{if(!v){C(!0);return}d(!0);try{await me.delete(e.id),t()}catch(O){h(O.message??"Delete failed."),d(!1)}};return i.jsxs("div",{style:B.wrap,children:[i.jsxs("div",{style:B.hdr,children:[i.jsx("span",{style:B.hdrTitle,children:r?"Edit poem":"Add poem"}),i.jsx("button",{onClick:n,style:{...B.cancelBtn,padding:"4px 10px",fontSize:10},children:" Back"})]}),i.jsxs("div",{style:B.body,children:[f&&i.jsx("div",{style:B.err,children:f}),!r&&!l&&i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Paste poem text"}),i.jsx("textarea",{style:B.pasteArea,value:o,onChange:O=>{a(O.target.value),p("")},placeholder:`Paste the full poem here.

The parser will try to detect the title, author, and body automatically.
You can correct anything it gets wrong in the form below.

Example:

Ode to a Nightingale

My heart aches, and a drowsy numbness pains...

 John Keats, 1819`}),u&&i.jsx("div",{style:{fontSize:11,color:"#c03030",marginTop:5},children:u}),i.jsx("button",{style:B.parseBtn,onClick:P,disabled:!o.trim(),children:"Parse poem "}),i.jsx("div",{style:B.hint,children:'Tip: Include " Author", "by Author", "from Collection", or "translated by X" anywhere in the text for better auto-detection.'})]}),(r||l)&&i.jsxs(i.Fragment,{children:[!r&&i.jsxs("div",{style:{fontSize:10,color:"rgba(61,100,60,0.8)",background:"rgba(61,232,190,0.07)",border:"1px solid rgba(61,232,190,0.2)",borderRadius:6,padding:"7px 10px",marginBottom:14},children:[" Poem parsed  review and correct anything below, then save.",i.jsx("button",{onClick:()=>s(null),style:{background:"none",border:"none",cursor:"pointer",color:"rgba(61,100,60,0.7)",fontSize:10,marginLeft:8,textDecoration:"underline",padding:0},children:"Re-paste"})]}),i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Title *"}),i.jsx("input",{style:B.input,value:m.title,onChange:N("title"),placeholder:"e.g. Ode to a Nightingale"})]}),i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Author *"}),i.jsx("input",{style:B.input,value:m.author,onChange:N("author"),placeholder:"e.g. John Keats"})]}),i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Poem text *"}),i.jsx("textarea",{style:{...B.textarea,minHeight:180},value:m.text,onChange:N("text"),placeholder:"The full poem text. Blank lines between stanzas are preserved."}),i.jsx("div",{style:B.hint,children:"Blank lines = stanza breaks. Leading spaces are preserved for indented lines."})]}),i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Notes"}),i.jsx("textarea",{style:{...B.textarea,minHeight:70,fontSize:11},value:m.notes,onChange:N("notes"),placeholder:"Your notes on this poem, context, why you love it"})]}),i.jsxs("div",{style:{display:"flex",gap:10,marginBottom:14},children:[i.jsxs("div",{style:{flex:1},children:[i.jsx("label",{style:B.label,children:"Translator"}),i.jsx("input",{style:B.input,value:m.translator,onChange:N("translator"),placeholder:"If translated"})]}),i.jsxs("div",{style:{flex:1},children:[i.jsx("label",{style:B.label,children:"Collection"}),i.jsx("input",{style:B.input,value:m.collection,onChange:N("collection"),placeholder:"e.g. Lamia and Other Poems"})]})]}),i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Date published"}),i.jsx("input",{style:B.input,value:m.publishedDate,onChange:N("publishedDate"),placeholder:"e.g. 1819, c. 1820, March 1945"})]}),i.jsxs("div",{style:B.field,children:[i.jsx("label",{style:B.label,children:"Tags"}),i.jsx(Nm,{tags:w,onChange:k,suggestions:j})]}),r&&v&&i.jsxs("div",{style:{fontSize:11,padding:"10px 12px",marginBottom:10,background:"rgba(255,86,86,0.06)",borderRadius:6,border:"1px solid rgba(255,86,86,0.2)",color:"#c03030"},children:['Delete "',m.title,'" permanently? This cannot be undone.']})]})]}),(r||l)&&i.jsxs("div",{style:B.footerRow,children:[i.jsx("button",{style:B.saveBtn,onClick:F,disabled:c,children:c?"Saving":r?"Save changes":"Add to collection"}),r&&i.jsx("button",{style:{...B.deleteBtn,...v?{background:"rgba(255,86,86,0.1)"}:{}},onClick:I,disabled:c,children:v?"Confirm delete":"Delete"}),i.jsx("button",{style:B.cancelBtn,onClick:n,children:"Cancel"})]})]})}const Em={sortOptions:[{id:"random",label:"Surprise me",icon:""},{id:"title",label:"By title",icon:"AZ"},{id:"author",label:"By author",icon:""},{id:"firstLine",label:"By first line",icon:""},{id:"publishedDate",label:"By date",icon:""},{id:"created_at",label:"Recently added",icon:""}]},pr="rgba(60,40,20,0.80)",Tn="rgba(60,40,20,0.50)",we="rgba(60,40,20,0.32)",Me="rgba(100,120,160,0.15)",Ui="#d4f03a",zm="#3de8be";function Pm({poems:e,sort:t,setSort:n,filterTag:r,setFilterTag:o,filterAuthor:a,setFilterAuthor:l,activePoemId:s,onSelect:u,onAdd:p,tags:g,authors:m,loading:x,onClearFilters:w}){const[k,j]=S.useState(""),b=r||a||k,c=k?e.filter(d=>{var f,h,v;return((f=d.data.title)==null?void 0:f.toLowerCase().includes(k.toLowerCase()))||((h=d.data.author)==null?void 0:h.toLowerCase().includes(k.toLowerCase()))||((v=d.data.firstLine)==null?void 0:v.toLowerCase().includes(k.toLowerCase()))}):e;return i.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[i.jsxs("div",{style:{padding:"10px 12px 8px",borderBottom:`1px solid ${Me}`,flexShrink:0},children:[i.jsxs("div",{style:{marginBottom:8},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:we,marginBottom:5},children:"Browse by"}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:Em.sortOptions.map(d=>i.jsxs("button",{onClick:()=>n(d.id),style:{padding:"3px 8px",fontSize:10,fontWeight:700,fontFamily:"'Syne', sans-serif",background:t===d.id?Ui:"rgba(100,120,160,0.08)",border:`1px solid ${t===d.id?Ui:Me}`,borderRadius:20,cursor:"pointer",color:t===d.id?"#0a0b0e":Tn,transition:"all .12s"},children:[d.icon," ",d.label]},d.id))})]}),i.jsx("input",{value:k,onChange:d=>j(d.target.value),placeholder:"Search title, author, first line",style:{width:"100%",padding:"6px 10px",fontSize:11,background:"rgba(100,120,160,0.06)",border:`1px solid ${Me}`,borderRadius:6,color:pr,fontFamily:"'Syne', sans-serif",outline:"none"}}),g.length>0&&i.jsxs("div",{style:{marginTop:7},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:we,marginBottom:4},children:"Filter by tag"}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:3,maxHeight:60,overflow:"hidden"},children:g.slice(0,20).map(d=>i.jsx("button",{onClick:()=>o(r===d.tag?"":d.tag),style:{padding:"2px 7px",fontSize:9,fontFamily:"'JetBrains Mono', monospace",background:r===d.tag?"rgba(61,232,190,0.25)":"rgba(61,232,190,0.06)",border:`1px solid ${r===d.tag?zm:"rgba(61,232,190,0.2)"}`,borderRadius:20,cursor:"pointer",color:r===d.tag?"rgba(20,80,60,0.9)":Tn,transition:"all .1s"},children:d.tag},d.tag))})]}),m.length>1&&i.jsxs("div",{style:{marginTop:7},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:we,marginBottom:4},children:"Filter by author"}),i.jsxs("select",{value:a,onChange:d=>l(d.target.value),style:{width:"100%",padding:"5px 8px",fontSize:11,background:"rgba(100,120,160,0.06)",border:`1px solid ${Me}`,borderRadius:6,color:pr,fontFamily:"'Syne', sans-serif",outline:"none"},children:[i.jsx("option",{value:"",children:"All authors"}),m.map(d=>i.jsx("option",{value:d,children:d},d))]})]}),b&&i.jsx("button",{onClick:w,style:{marginTop:6,fontSize:10,color:we,background:"none",border:"none",cursor:"pointer",padding:0,textDecoration:"underline"},children:"Clear filters"})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",scrollbarWidth:"thin"},children:[x&&i.jsx("div",{style:{padding:20,textAlign:"center",fontSize:11,color:we},children:"Loading poems"}),!x&&c.length===0&&i.jsx("div",{style:{padding:20,textAlign:"center",fontSize:11,color:we},children:e.length===0?"No poems yet  add your first one.":"No matches."}),c.map(d=>i.jsxs("button",{onClick:()=>u(d),style:{display:"block",width:"100%",textAlign:"left",padding:"9px 12px",background:"none",borderBottom:`1px solid ${Me}`,border:"none",borderBottom:`1px solid ${Me}`,cursor:"pointer",background:d.id===s?"rgba(212,240,58,0.08)":"none",borderLeft:d.id===s?`2px solid ${Ui}`:"2px solid transparent",transition:"background .12s"},children:[i.jsx("div",{style:{fontSize:12,fontWeight:700,color:pr,marginBottom:2,lineHeight:1.3},children:d.data.title||"(Untitled)"}),i.jsxs("div",{style:{fontSize:10,color:Tn},children:[d.data.author,d.data.publishedDate&&i.jsxs("span",{style:{color:we},children:["  ",d.data.publishedDate]})]}),d.data.firstLine&&i.jsxs("div",{style:{fontSize:9,color:we,marginTop:2,fontStyle:"italic",fontFamily:"Georgia, serif",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[d.data.firstLine,""]})]},d.id))]}),i.jsxs("div",{style:{padding:"8px 12px",borderTop:`1px solid ${Me}`,flexShrink:0},children:[i.jsx("button",{onClick:p,style:{width:"100%",padding:"8px",fontSize:11,fontWeight:800,background:"rgba(212,240,58,0.1)",border:"1px solid rgba(212,240,58,0.3)",borderRadius:6,cursor:"pointer",color:"rgba(60,40,0,0.7)",fontFamily:"'Syne', sans-serif",transition:"background .12s"},children:"+ Add poem"}),i.jsxs("div",{style:{fontSize:9,color:we,textAlign:"center",marginTop:4},children:[e.length," poem",e.length!==1?"s":""," in collection"]})]})]})}function Tm({poem:e,onEdit:t,fontBody:n,fontHeader:r}){if(!e)return i.jsxs("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:12,color:we},children:[i.jsx("div",{style:{fontSize:28,opacity:.4},children:""}),i.jsx("div",{style:{fontSize:12,fontStyle:"italic",fontFamily:"Georgia, serif"},children:"Select a poem to read"})]});const{data:o,tags:a,id:l}=e;return i.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[i.jsxs("div",{style:{padding:"16px 20px 12px",borderBottom:`1px solid ${Me}`,flexShrink:0},children:[i.jsx("div",{style:{fontSize:18,fontWeight:700,color:pr,fontFamily:r||"'Playfair Display', Georgia, serif",lineHeight:1.25,marginBottom:4},children:o.title||"(Untitled)"}),i.jsxs("div",{style:{fontSize:12,color:Tn,fontFamily:r||"'Playfair Display', Georgia, serif",fontStyle:"italic"},children:[o.author,o.translator&&i.jsxs("span",{style:{color:we},children:["  trans. ",o.translator]})]}),(o.collection||o.publishedDate)&&i.jsx("div",{style:{fontSize:10,color:we,marginTop:3},children:[o.collection,o.publishedDate].filter(Boolean).join("  ")})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px 24px",scrollbarWidth:"thin"},children:[i.jsx("div",{style:{fontFamily:n||"'EB Garamond', Georgia, serif",fontSize:15,lineHeight:1.9,color:pr,whiteSpace:"pre-wrap",marginBottom:24,paddingLeft:"1.2em",textIndent:"-1.2em"},children:o.text}),i.jsxs("div",{style:{borderTop:`1px solid ${Me}`,paddingTop:16,marginBottom:16,display:"flex",flexWrap:"wrap",gap:"6px 16px"},children:[o.collection&&i.jsx(Vi,{label:"Collection",value:o.collection}),o.publishedDate&&i.jsx(Vi,{label:"Published",value:o.publishedDate}),o.translator&&i.jsx(Vi,{label:"Translated by",value:o.translator})]}),(a==null?void 0:a.length)>0&&i.jsx("div",{style:{marginBottom:16},children:a.map(s=>i.jsx("span",{style:{display:"inline-block",marginRight:5,marginBottom:4,padding:"2px 8px",borderRadius:20,fontSize:9,fontFamily:"'JetBrains Mono', monospace",background:"rgba(61,232,190,0.08)",border:"1px solid rgba(61,232,190,0.2)",color:"rgba(20,80,60,0.7)"},children:s},s))}),o.notes&&i.jsxs("div",{style:{borderTop:`1px solid ${Me}`,paddingTop:14},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:we,marginBottom:8},children:"Notes"}),i.jsx("div",{style:{fontSize:11,color:Tn,lineHeight:1.7,fontFamily:"'EB Garamond', Georgia, serif",fontStyle:"italic",whiteSpace:"pre-wrap"},children:o.notes})]}),i.jsxs("div",{style:{marginTop:24,paddingTop:12,borderTop:`1px solid ${Me}`},children:[i.jsx("button",{onClick:t,style:{fontSize:10,color:we,background:"none",border:`1px solid ${Me}`,borderRadius:5,padding:"4px 10px",cursor:"pointer",fontFamily:"'Syne', sans-serif",fontWeight:700,transition:"color .12s"},children:"Edit poem"}),i.jsxs("span",{style:{fontSize:9,color:we,marginLeft:10},children:["ID: ",l]})]})]})]})}function Vi({label:e,value:t}){return i.jsxs("div",{style:{fontSize:10},children:[i.jsxs("span",{style:{color:we,textTransform:"uppercase",letterSpacing:"0.8px",fontSize:9,fontWeight:700},children:[e," "]}),i.jsx("span",{style:{color:Tn,fontFamily:"Georgia, serif",fontStyle:"italic"},children:t})]})}function Rm({bindery:e}){const[t,n]=S.useState([]),[r,o]=S.useState(null),[a,l]=S.useState("random"),[s,u]=S.useState(""),[p,g]=S.useState(""),[m,x]=S.useState([]),[w,k]=S.useState([]),[j,b]=S.useState(!0),[c,d]=S.useState(null),[f,h]=S.useState(""),v=e!=null&&e.fontBody?`'${e.fontBody}', Georgia, serif`:void 0,C=e!=null&&e.fontHeader?`'${e.fontHeader}', Georgia, serif`:void 0,N=S.useCallback(async(J={})=>{b(!0),h("");try{const V={sort:a==="random"?"created_at":a,...s?{tag:s}:{},...p?{author:p}:{},...J};let ot=(await me.list("poetry",V)).items??[];a==="random"&&(ot=ot.sort(()=>Math.random()-.5)),n(ot)}catch(V){h(V.message??"Failed to load poems.")}b(!1)},[a,s,p]),P=S.useCallback(async()=>{try{const[J,V]=await Promise.all([me.tags("poetry"),me.authors("poetry")]);x(J.tags??[]),k(V.authors??[])}catch{}},[]);S.useEffect(()=>{(async()=>{b(!0);try{const[V]=await Promise.all([me.random("poetry"),P()]);V.item&&o(V.item)}catch(V){h(V.message??"Could not reach the poetry collection.")}b(!1),N()})()},[]),S.useEffect(()=>{N()},[N]);const F=J=>{l(J),J==="random"&&!r&&me.random("poetry").then(V=>V.item&&o(V.item)).catch(()=>{})},I=()=>{u(""),g("")},O=()=>{d(null),N(),P()};return c!==null?i.jsx(_m,{existing:c==="new"?null:c,onSaved:O,onCancel:()=>d(null)}):i.jsxs("div",{style:{height:"100%",display:"flex"},children:[i.jsxs("div",{style:{width:"42%",minWidth:180,maxWidth:260,borderRight:`1px solid ${Me}`,display:"flex",flexDirection:"column",overflow:"hidden"},children:[f&&i.jsx("div",{style:{padding:"8px 12px",fontSize:10,color:"#c03030",background:"rgba(255,86,86,0.06)",borderBottom:"1px solid rgba(255,86,86,0.15)"},children:f}),i.jsx(Pm,{poems:t,sort:a,setSort:F,filterTag:s,setFilterTag:u,filterAuthor:p,setFilterAuthor:g,activePoemId:r==null?void 0:r.id,onSelect:o,onAdd:()=>d("new"),tags:m,authors:w,loading:j,onClearFilters:I})]}),i.jsx("div",{style:{flex:1,overflow:"hidden"},children:i.jsx(Tm,{poem:r,onEdit:()=>d(r),fontBody:v,fontHeader:C})})]})}const bo=[{id:"oxford-navy",name:"Oxford Navy",hex:"#1a2744"},{id:"bottle-green",name:"Bottle Green",hex:"#1a3a2a"},{id:"oxblood",name:"Oxblood Red",hex:"#5c1a1a"},{id:"charcoal",name:"Charcoal",hex:"#2a2a2a"},{id:"antique-brown",name:"Antique Brown",hex:"#4a3220"},{id:"dusty-rose",name:"Dusty Rose",hex:"#7a3a48"},{id:"slate-blue",name:"Slate Blue",hex:"#2a3a5c"},{id:"black",name:"Black",hex:"#111111"}],Kt=[{id:"ivory",name:"Ivory",hex:"#faf8f2"},{id:"cream",name:"Cream",hex:"#f5f0e0"},{id:"aged",name:"Aged",hex:"#ede0c4"},{id:"white",name:"White",hex:"#ffffff"},{id:"pale-blue",name:"Pale Blue",hex:"#f0f4f8"},{id:"pale-green",name:"Pale Green",hex:"#f0f5f0"},{id:"blush",name:"Blush",hex:"#f8f0f0"}],Qc=[{id:"plain",name:"Plain",icon:""},{id:"ruled",name:"Ruled",icon:""},{id:"dots",name:"Dot Grid",icon:""},{id:"grid",name:"Square Grid",icon:""},{id:"graph",name:"Graph",icon:""}],fn=[{id:"lora",name:"Lora",family:"'Lora', serif",group:"Readable Serifs",google:"Lora:ital,wght@0,400;0,600;1,400"},{id:"playfair",name:"Playfair Display",family:"'Playfair Display', serif",group:"Readable Serifs",google:"Playfair+Display:ital,wght@0,400;0,700;1,400"},{id:"eb-garamond",name:"EB Garamond",family:"'EB Garamond', serif",group:"Readable Serifs",google:"EB+Garamond:ital,wght@0,400;0,600;1,400"},{id:"spectral",name:"Spectral",family:"'Spectral', serif",group:"Readable Serifs",google:"Spectral:ital,wght@0,400;0,600;1,400"},{id:"merriweather",name:"Merriweather",family:"'Merriweather', serif",group:"Readable Serifs",google:"Merriweather:ital,wght@0,400;0,700;1,400"},{id:"dancing-script",name:"Dancing Script",family:"'Dancing Script', cursive",group:"Informal & Calligraphy",google:"Dancing+Script:wght@400;700"},{id:"caveat",name:"Caveat",family:"'Caveat', cursive",group:"Informal & Calligraphy",google:"Caveat:wght@400;600"},{id:"pacifico",name:"Pacifico",family:"'Pacifico', cursive",group:"Informal & Calligraphy",google:"Pacifico"},{id:"satisfy",name:"Satisfy",family:"'Satisfy', cursive",group:"Informal & Calligraphy",google:"Satisfy"},{id:"kalam",name:"Kalam",family:"'Kalam', cursive",group:"Informal & Calligraphy",google:"Kalam:wght@400;700"},{id:"special-elite",name:"Special Elite",family:"'Special Elite', cursive",group:"Typewriter",google:"Special+Elite"},{id:"courier-prime",name:"Courier Prime",family:"'Courier Prime', monospace",group:"Typewriter",google:"Courier+Prime:ital,wght@0,400;0,700;1,400"},{id:"jetbrains",name:"JetBrains Mono",family:"'JetBrains Mono', monospace",group:"Typewriter",google:"JetBrains+Mono:wght@400;600"},{id:"atkinson",name:"Atkinson Hyperlegible",family:"'Atkinson Hyperlegible', sans-serif",group:"Dyslexia-Friendly",google:"Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400"},{id:"nunito",name:"Nunito",family:"'Nunito', sans-serif",group:"Dyslexia-Friendly",google:"Nunito:ital,wght@0,400;0,700;1,400"},{id:"andika",name:"Andika",family:"'Andika', sans-serif",group:"Dyslexia-Friendly",google:"Andika:ital,wght@0,400;1,400"}],Lm=[{id:"header",label:"Headings & titles",description:"Section names, chapter titles, UI labels. Expressive fonts work well here.",settingKey:"fontHeader",preview:"Morning Check-in",previewSub:"Commonplace Book"},{id:"body",label:"Body & content text",description:"Paragraphs, task names, notes. Prioritise legibility  avoid heavy calligraphy for long reading.",settingKey:"fontBody",preview:"Today I woke early and made coffee before the sun had fully risen above the garden wall.",previewSub:null},{id:"label",label:"Labels, spine & margin",description:"Tiny uppercase text in the spine, margin strips, footer nav, and date pills.",settingKey:"fontLabel",preview:"MORNING  FIRST QUARTER",previewSub:"Wed 25 Feb   420 pts"}],Im=[{id:"morning",name:"Morning"},{id:"plan",name:"Plan"},{id:"tasks",name:"Tasks"},{id:"add",name:"Add"},{id:"rewards",name:"Rewards"},{id:"calendar",name:"Calendar"},{id:"daybook",name:"Daybook"},{id:"poetry",name:"Poetry"},{id:"bindery",name:"Bindery"}],Va={slim:28,normal:38,thick:52},xu={compact:{top:12,bottom:12,side:12},normal:{top:20,bottom:20,side:20},generous:{top:30,bottom:30,side:28}},yu={clothColour:"oxford-navy",spineWidth:"normal",marginSize:"normal",bgTexture:"linen",bgColour:"#c8b89a",gutterSize:"normal",fontHeader:"syne",fontBody:"georgia",fontLabel:"jetbrains",globalPageColour:"ivory",globalPagePattern:"ruled",sections:{}};function Mm(){try{return{...yu,...JSON.parse(localStorage.getItem("bindery_v2"))}}catch{return{...yu}}}function Fm(e){localStorage.setItem("bindery_v2",JSON.stringify(e))}function Dm(e,t){const n=t||"#faf8f2",r="rgba(100,120,160,0.12)",o="rgba(100,120,160,0.18)",a={backgroundColor:n,position:"absolute",inset:0,zIndex:0,pointerEvents:"none"};switch(e){case"ruled":return{...a,backgroundImage:`repeating-linear-gradient(transparent, transparent 23px, ${r} 23px, ${r} 24px)`,backgroundSize:"100% 24px"};case"dots":{const l=`<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'><circle cx='12' cy='12' r='0.9' fill='${o}'/></svg>`;return{...a,backgroundImage:`url("data:image/svg+xml,${encodeURIComponent(l)}")`,backgroundSize:"24px 24px"}}case"grid":{const l=`<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'><path d='M 24 0 L 0 0 0 24' fill='none' stroke='${r}' stroke-width='0.5'/></svg>`;return{...a,backgroundImage:`url("data:image/svg+xml,${encodeURIComponent(l)}")`,backgroundSize:"24px 24px"}}case"graph":{const l=`<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20'><path d='M 20 0 L 0 0 0 20' fill='none' stroke='${r}' stroke-width='0.75'/></svg>`;return{...a,backgroundImage:`url("data:image/svg+xml,${encodeURIComponent(l)}")`,backgroundSize:"20px 20px"}}default:return a}}function Bm(e,t={},n={}){const r=Wa[e]??Wa.morning,o={...n.globalPageColour?{pageColour:n.globalPageColour}:{},...n.globalPagePattern?{pagePattern:n.globalPagePattern}:{}},a=t[e]??{};return{...r,...o,...a}}function Om({settings:e,onChange:t}){var m,x,w,k,j;const[n,r]=S.useState("cloth"),[o,a]=S.useState(null),l=(b,c)=>t({...e,[b]:c}),s=((m=bo.find(b=>b.id===e.clothColour))==null?void 0:m.hex)||"#1a2744";S.useEffect(()=>{const b=[e.fontHeader,e.fontBody,e.fontLabel].filter(Boolean).map(v=>fn.find(C=>C.id===v)).filter(Boolean);if(!b.length)return;const d=`https://fonts.googleapis.com/css2?family=${b.map(v=>v.google).join("&family=")}&display=swap`,f=document.querySelector("link[data-book-fonts]");if((f==null?void 0:f.href)===d)return;f&&f.remove();const h=document.createElement("link");h.rel="stylesheet",h.href=d,h.setAttribute("data-book-fonts","true"),document.head.appendChild(h)},[e.fontHeader,e.fontBody,e.fontLabel]),S.useEffect(()=>{const b=document.documentElement,c=fn.find(h=>h.id===e.fontHeader),d=fn.find(h=>h.id===e.fontBody),f=fn.find(h=>h.id===e.fontLabel);c&&b.style.setProperty("--font-header",c.family),d&&b.style.setProperty("--font-body",d.family),f&&b.style.setProperty("--font-label",f.family)},[e.fontHeader,e.fontBody,e.fontLabel]);const u=(b,c)=>{var f,h,v;const d=(h=(f=e.sections)==null?void 0:f[b])==null?void 0:h[c];return d!==void 0?d:(v=Wa[b])==null?void 0:v[c]},p=(b,c,d)=>{var h;const f={...e,sections:{...e.sections,[b]:{...((h=e.sections)==null?void 0:h[b])||{},[c]:d}}};t(f)},g=[["cloth","Cover"],["pages","Pages"],["background","Desk"],["sections","Sections"]];return i.jsxs("div",{children:[i.jsx("div",{className:"section-title",style:{marginBottom:4},children:"Bindery"}),i.jsx("p",{style:{fontSize:11,color:"var(--muted)",marginBottom:14,lineHeight:1.5},children:"Physical appearance of your commonplace book."}),i.jsx("div",{style:{display:"flex",gap:4,marginBottom:18},children:g.map(([b,c])=>i.jsx("button",{onClick:()=>r(b),style:{flex:1,padding:"6px 4px",fontSize:10,fontWeight:700,fontFamily:"var(--font-header)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",background:n===b?"var(--acid)":"var(--surface2)",color:n===b?"var(--on-accent)":"var(--muted)",letterSpacing:"0.5px",textTransform:"uppercase"},children:c},b))}),n==="cloth"&&i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",height:70,borderRadius:4,overflow:"hidden",marginBottom:18,boxShadow:"0 4px 18px rgba(0,0,0,0.3)"},children:[i.jsx("div",{style:{width:Va[e.spineWidth],background:`linear-gradient(to right, ${s}cc, ${s})`,backgroundImage:"repeating-linear-gradient(135deg,transparent,transparent 2px,rgba(255,255,255,0.04) 2px,rgba(255,255,255,0.04) 4px)",borderRight:"2px solid rgba(0,0,0,0.25)",flexShrink:0}}),i.jsx("div",{style:{flex:1,backgroundColor:((x=Kt.find(b=>{var c,d;return b.id===(((d=(c=e.sections)==null?void 0:c.morning)==null?void 0:d.pageColour)||"ivory")}))==null?void 0:x.hex)||"#faf8f2"}}),i.jsx("div",{style:{flex:1,backgroundColor:((w=Kt.find(b=>{var c,d;return b.id===(((d=(c=e.sections)==null?void 0:c.morning)==null?void 0:d.pageColour)||"ivory")}))==null?void 0:w.hex)||"#faf8f2",borderLeft:"1px solid rgba(0,0,0,0.06)"}})]}),i.jsx("div",{className:"bd-label",children:"Cloth colour"}),i.jsx("div",{className:"bd-swatches",children:bo.map(b=>i.jsx("button",{title:b.name,onClick:()=>l("clothColour",b.id),style:{width:32,height:32,borderRadius:4,background:b.hex,border:"none",cursor:"pointer",backgroundImage:"repeating-linear-gradient(135deg,transparent,transparent 2px,rgba(255,255,255,0.06) 2px,rgba(255,255,255,0.06) 4px)",boxShadow:e.clothColour===b.id?"0 0 0 3px var(--acid)":"0 0 0 1px rgba(255,255,255,0.1)",transform:e.clothColour===b.id?"scale(1.12)":"scale(1)",transition:"all .15s"}},b.id))}),i.jsx("div",{style:{fontSize:10,color:"var(--muted)",marginTop:5,marginBottom:16},children:(k=bo.find(b=>b.id===e.clothColour))==null?void 0:k.name}),i.jsx("div",{className:"bd-label",children:"Spine width"}),i.jsx("div",{style:{display:"flex",gap:6,marginBottom:16},children:["slim","normal","thick"].map(b=>i.jsx("button",{onClick:()=>l("spineWidth",b),style:{flex:1,padding:"7px 4px",fontSize:11,fontWeight:700,fontFamily:"var(--font-header)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",textTransform:"capitalize",background:e.spineWidth===b?"var(--acid)":"var(--surface2)",color:e.spineWidth===b?"var(--on-accent)":"var(--muted)"},children:b},b))}),i.jsx("div",{className:"bd-label",children:"Content margins"}),i.jsx("div",{style:{display:"flex",gap:6,marginBottom:16},children:["compact","normal","generous"].map(b=>i.jsx("button",{onClick:()=>l("marginSize",b),style:{flex:1,padding:"7px 4px",fontSize:11,fontWeight:700,fontFamily:"var(--font-header)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",textTransform:"capitalize",background:e.marginSize===b?"var(--acid)":"var(--surface2)",color:e.marginSize===b?"var(--on-accent)":"var(--muted)"},children:b},b))})]}),n==="pages"&&i.jsxs("div",{children:[i.jsx("p",{style:{fontSize:11,color:"var(--muted)",marginBottom:14,lineHeight:1.5},children:"Global defaults  applied to all sections that haven't been customised in the Sections tab."}),i.jsx("div",{className:"bd-label",children:"Default page colour"}),i.jsx("div",{className:"bd-swatches",style:{marginBottom:14},children:Kt.map(b=>i.jsx("button",{title:b.name,onClick:()=>l("globalPageColour",b.id),style:{width:32,height:32,borderRadius:4,background:b.hex,border:"none",cursor:"pointer",transition:"all .15s",boxShadow:e.globalPageColour===b.id?"0 0 0 3px var(--acid)":"0 0 0 1px rgba(0,0,0,0.12)",transform:e.globalPageColour===b.id?"scale(1.12)":"scale(1)"}},b.id))}),i.jsx("div",{className:"bd-label",children:"Default texture"}),i.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:20},children:Qc.map(b=>i.jsxs("button",{onClick:()=>l("globalPagePattern",b.id),style:{padding:"6px 12px",fontSize:11,fontWeight:700,fontFamily:"var(--font-header)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",gap:5,alignItems:"center",background:e.globalPagePattern===b.id?"var(--acid)":"var(--surface2)",color:e.globalPagePattern===b.id?"var(--on-accent)":"var(--muted)"},children:[i.jsx("span",{style:{fontSize:13},children:b.icon})," ",b.name]},b.id))}),i.jsx("div",{className:"bd-label",style:{marginTop:4},children:"Typography"}),i.jsx("p",{style:{fontSize:10,color:"var(--muted)",marginBottom:16,lineHeight:1.6},children:"All 16 fonts are available for each role. Fonts load from Google Fonts  changes apply immediately."}),Lm.map(b=>{const c={};fn.forEach(f=>{c[f.group]||(c[f.group]=[]),c[f.group].push(f)});const d=fn.find(f=>f.id===e[b.settingKey]);return i.jsxs("div",{style:{marginBottom:20},children:[i.jsx("div",{style:{fontSize:11,fontWeight:700,color:"var(--text)",marginBottom:2},children:b.label}),i.jsx("div",{style:{fontSize:10,color:"var(--muted)",marginBottom:8,lineHeight:1.5},children:b.description}),i.jsx("select",{value:e[b.settingKey]||"",onChange:f=>l(b.settingKey,f.target.value),style:{width:"100%",padding:"8px 10px",background:"var(--surface2)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",color:"var(--text)",fontSize:13,fontFamily:(d==null?void 0:d.family)||"inherit",cursor:"pointer",outline:"none",appearance:"auto"},children:Object.entries(c).map(([f,h])=>i.jsx("optgroup",{label:f,children:h.map(v=>i.jsx("option",{value:v.id,style:{fontFamily:v.family},children:v.name},v.id))},f))}),d&&i.jsxs("div",{style:{marginTop:8,padding:"10px 14px",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",fontFamily:d.family},children:[i.jsx("div",{style:{fontSize:b.id==="label"?9:14,color:"var(--text)",letterSpacing:b.id==="label"?"2px":"normal",textTransform:b.id==="label"?"uppercase":"none",lineHeight:1.5,marginBottom:b.previewSub?4:0},children:b.preview}),b.previewSub&&i.jsx("div",{style:{fontSize:b.id==="label"?8:11,color:"var(--muted)",letterSpacing:b.id==="label"?"1.5px":"0.2px",textTransform:b.id==="label"?"uppercase":"none",lineHeight:1.4},children:b.previewSub})]})]},b.id)})]}),n==="background"&&i.jsxs("div",{children:[i.jsx("div",{className:"bd-label",children:"Surface texture"}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,marginBottom:16},children:Ha.map(b=>i.jsxs("button",{onClick:()=>l("bgTexture",b.id),style:{display:"flex",alignItems:"center",gap:12,padding:"10px 14px",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",background:e.bgTexture===b.id?"rgba(212,240,58,0.06)":"var(--surface2)",borderColor:e.bgTexture===b.id?"var(--acid)":"var(--border)"},children:[b.preview&&i.jsx("div",{style:{width:28,height:28,borderRadius:4,flexShrink:0,background:b.preview}}),i.jsx("div",{style:{textAlign:"left"},children:i.jsx("div",{style:{fontSize:12,fontWeight:700,color:"var(--text)"},children:b.name})}),e.bgTexture===b.id&&i.jsx("div",{style:{marginLeft:"auto",fontSize:10,color:"var(--acid)"},children:""})]},b.id))}),i.jsx("div",{className:"bd-label",children:"Background colour"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[i.jsx("input",{type:"color",value:e.bgColour||"#c8b89a",onChange:b=>l("bgColour",b.target.value),style:{width:44,height:36,border:"1px solid var(--border)",borderRadius:4,cursor:"pointer",background:"none",padding:2}}),i.jsx("input",{type:"text",value:e.bgColour||"#c8b89a",onChange:b=>{/^#[0-9a-fA-F]{0,6}$/.test(b.target.value)&&l("bgColour",b.target.value)},style:{width:90,background:"var(--surface2)",border:"1px solid var(--border)",color:"var(--text)",padding:"6px 10px",borderRadius:"var(--radius-sm)",fontFamily:"JetBrains Mono, monospace",fontSize:12,outline:"none"}})]}),i.jsx("div",{style:{marginTop:16,height:60,borderRadius:6,...Object.fromEntries(Ic(e.bgTexture,e.bgColour).split(";").filter(b=>b.trim()).map(b=>{const c=b.indexOf(":");return[b.slice(0,c).trim().replace(/-([a-z])/g,(f,h)=>h.toUpperCase()),b.slice(c+1).trim()]})),display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsxs("div",{style:{width:80,height:44,background:((j=Kt.find(b=>b.id==="ivory"))==null?void 0:j.hex)||"#faf8f2",borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.25), -3px 0 8px rgba(0,0,0,0.2)",display:"flex"},children:[i.jsx("div",{style:{width:10,background:s,borderRadius:"2px 0 0 2px",backgroundImage:"repeating-linear-gradient(135deg,transparent,transparent 1px,rgba(255,255,255,0.05) 1px,rgba(255,255,255,0.05) 2px)"}}),i.jsx("div",{style:{flex:1}})]})})]}),n==="sections"&&i.jsx("div",{children:o?i.jsx(Am,{section:o,values:{pageColour:u(o,"pageColour"),pagePattern:u(o,"pagePattern"),icon:u(o,"icon"),title:u(o,"title"),allowFillers:u(o,"allowFillers")},onChange:(b,c)=>p(o,b,c),onBack:()=>a(null),onReset:()=>{const b={...e,sections:{...e.sections}};delete b.sections[o],t(b),a(null)}}):i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:Im.map(b=>{var C,N;const c=u(b.id,"pageColour"),d=u(b.id,"pagePattern"),f=u(b.id,"icon"),h=((C=Kt.find(P=>P.id===c))==null?void 0:C.hex)||"#faf8f2",v=!!((N=e.sections)!=null&&N[b.id]);return i.jsxs("button",{onClick:()=>a(b.id),style:{display:"flex",alignItems:"center",gap:12,padding:"10px 14px",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",background:"var(--surface)",textAlign:"left",transition:"border-color .15s"},onMouseEnter:P=>P.currentTarget.style.borderColor="var(--acid)",onMouseLeave:P=>P.currentTarget.style.borderColor="var(--border)",children:[i.jsx("div",{style:{width:24,height:24,borderRadius:3,background:h,flexShrink:0,boxShadow:"0 0 0 1px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:11},children:f}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:12,fontWeight:700,color:"var(--text)"},children:b.name}),i.jsxs("div",{style:{fontSize:10,color:"var(--muted)",marginTop:1},children:[c,"  ",d]})]}),v&&i.jsx("div",{style:{fontSize:9,color:"var(--teal)",border:"1px solid rgba(61,232,190,.3)",borderRadius:3,padding:"2px 6px"},children:"custom"}),i.jsx("div",{style:{fontSize:10,color:"var(--muted)"},children:""})]},b.id)})})}),i.jsx("style",{children:`
        .bd-label { font-size: 10px; font-weight: 800; letter-spacing: 1.2px; text-transform: uppercase; color: var(--muted); margin: 0 0 8px; }
        .bd-swatches { display: flex; gap: 8px; flex-wrap: wrap; }
      `})]})}function Am({section:e,values:t,onChange:n,onBack:r,onReset:o}){return i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:16},children:[i.jsx("button",{onClick:r,style:{background:"none",border:"1px solid var(--border)",borderRadius:"var(--radius-sm)",padding:"5px 10px",fontSize:11,color:"var(--muted)",cursor:"pointer",fontFamily:"var(--font-header)",fontWeight:700},children:" Back"}),i.jsx("div",{style:{fontSize:13,fontWeight:700,color:"var(--text)",flex:1,textTransform:"capitalize"},children:e}),i.jsx("button",{onClick:o,style:{background:"none",border:"1px solid rgba(255,86,86,.3)",borderRadius:"var(--radius-sm)",padding:"5px 10px",fontSize:10,color:"var(--red)",cursor:"pointer",fontFamily:"var(--font-header)",fontWeight:700},children:"Reset to default"})]}),i.jsx("div",{className:"bd-label",children:"Section title"}),i.jsx("input",{value:t.title||"",onChange:a=>n("title",a.target.value),style:{width:"100%",background:"var(--surface2)",border:"1px solid var(--border)",color:"var(--text)",padding:"8px 12px",borderRadius:"var(--radius-md)",fontFamily:"var(--font-header)",fontSize:13,outline:"none",marginBottom:14}}),i.jsx("div",{className:"bd-label",children:"Section icon"}),i.jsx("input",{value:t.icon||"",onChange:a=>n("icon",a.target.value),style:{width:60,background:"var(--surface2)",border:"1px solid var(--border)",color:"var(--text)",padding:"8px 12px",borderRadius:"var(--radius-md)",fontFamily:"var(--font-header)",fontSize:18,outline:"none",marginBottom:14,textAlign:"center"}}),i.jsx("div",{className:"bd-label",children:"Page colour"}),i.jsx("div",{className:"bd-swatches",style:{marginBottom:14},children:Kt.map(a=>i.jsx("button",{title:a.name,onClick:()=>n("pageColour",a.id),style:{width:28,height:28,borderRadius:4,background:a.hex,border:"none",cursor:"pointer",boxShadow:t.pageColour===a.id?"0 0 0 3px var(--acid)":"0 0 0 1px rgba(0,0,0,0.12)",transform:t.pageColour===a.id?"scale(1.12)":"scale(1)",transition:"all .15s"}},a.id))}),i.jsx("div",{className:"bd-label",children:"Page texture"}),i.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:Qc.map(a=>i.jsxs("button",{onClick:()=>n("pagePattern",a.id),style:{padding:"5px 10px",fontSize:11,fontWeight:700,fontFamily:"var(--font-header)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",background:t.pagePattern===a.id?"var(--acid)":"var(--surface2)",color:t.pagePattern===a.id?"var(--on-accent)":"var(--muted)"},children:[a.icon," ",a.name]},a.id))}),i.jsx("div",{className:"bd-label",children:"Filler images"}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:12,color:"var(--text2)"},children:[i.jsx("input",{type:"checkbox",checked:!!t.allowFillers,onChange:a=>n("allowFillers",a.target.checked),style:{width:14,height:14,accentColor:"var(--acid)",cursor:"pointer"}}),"Allow filler images in this section"]})]})}const H={size:20,color:"currentColor",strokeWidth:1.5};function rt({size:e,color:t,strokeWidth:n,children:r,viewBox:o="0 0 24 24"}){return i.jsx("svg",{width:e,height:e,viewBox:o,fill:"none",stroke:t,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",style:{display:"inline-block",verticalAlign:"middle",flexShrink:0},children:r})}function $m({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("circle",{cx:"12",cy:"12",r:"4"}),i.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"5"}),i.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"}),i.jsx("line",{x1:"4.22",y1:"4.22",x2:"6.34",y2:"6.34"}),i.jsx("line",{x1:"17.66",y1:"17.66",x2:"19.78",y2:"19.78"}),i.jsx("line",{x1:"2",y1:"12",x2:"5",y2:"12"}),i.jsx("line",{x1:"19",y1:"12",x2:"22",y2:"12"}),i.jsx("line",{x1:"4.22",y1:"19.78",x2:"6.34",y2:"17.66"}),i.jsx("line",{x1:"17.66",y1:"6.34",x2:"19.78",y2:"4.22"})]})}function Wm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsx(rt,{size:e,color:t,strokeWidth:n,children:i.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function Hm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("path",{d:"M12 2v4M4.93 7.93l2.83 2.83M2 15h4M18 10.76l2.83-2.83M22 15h-4"}),i.jsx("path",{d:"M5 19a7 7 0 0 1 14 0"}),i.jsx("line",{x1:"3",y1:"19",x2:"21",y2:"19"})]})}function Um({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),i.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),i.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),i.jsx("line",{x1:"9",y1:"16",x2:"13",y2:"16"}),i.jsx("polyline",{points:"9 8 10.5 9.5 13 7"})]})}function Vm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("rect",{x:"3",y:"5",width:"4",height:"4",rx:"0.5"}),i.jsx("polyline",{points:"4 7 5 8 7 6"}),i.jsx("line",{x1:"9",y1:"7",x2:"21",y2:"7"}),i.jsx("rect",{x:"3",y:"13",width:"4",height:"4",rx:"0.5"}),i.jsx("line",{x1:"9",y1:"15",x2:"21",y2:"15"}),i.jsx("rect",{x:"3",y:"19",width:"4",height:"4",rx:"0.5"}),i.jsx("line",{x1:"9",y1:"21",x2:"15",y2:"21"})]})}function Km({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("circle",{cx:"12",cy:"12",r:"9"}),i.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),i.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}function Qm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsx(rt,{size:e,color:t,strokeWidth:n,children:i.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}function Gm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),i.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),i.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),i.jsx("rect",{x:"8",y:"14",width:"2",height:"2",fill:t,stroke:"none"}),i.jsx("rect",{x:"13",y:"14",width:"2",height:"2",fill:t,stroke:"none"})]})}function Ym({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"}),i.jsx("line",{x1:"16",y1:"8",x2:"2",y2:"22"}),i.jsx("line",{x1:"17.5",y1:"15",x2:"9",y2:"15"})]})}function qm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),i.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}function Jm({size:e=H.size,color:t=H.color,strokeWidth:n=H.strokeWidth}){return i.jsxs(rt,{size:e,color:t,strokeWidth:n,children:[i.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),i.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}),i.jsx("line",{x1:"12",y1:"7",x2:"16",y2:"7"}),i.jsx("line",{x1:"12",y1:"11",x2:"16",y2:"11"}),i.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:t,stroke:"none"})]})}function Xm({size:e=48}){return i.jsxs("svg",{width:e,height:e*2.2,viewBox:"0 0 24 52",fill:"none",style:{display:"block",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.2))"},children:[i.jsxs("g",{transform:"translate(12, 7)",children:[[0,60,120,180,240,300].map(t=>i.jsx("ellipse",{cx:Math.cos((t-90)*Math.PI/180)*3.5,cy:Math.sin((t-90)*Math.PI/180)*3.5,rx:"1.8",ry:"2.8",transform:`rotate(${t}, ${Math.cos((t-90)*Math.PI/180)*3.5}, ${Math.sin((t-90)*Math.PI/180)*3.5})`,fill:"white",stroke:"rgba(200,180,120,0.6)",strokeWidth:"0.3"},t)),i.jsx("circle",{cx:"0",cy:"0",r:"2.2",fill:"#e8c840"}),i.jsx("circle",{cx:"0",cy:"0",r:"1.4",fill:"#d4a820"}),i.jsx("circle",{cx:"-0.5",cy:"-0.5",r:"0.3",fill:"#b89018"}),i.jsx("circle",{cx:"0.5",cy:"0.3",r:"0.3",fill:"#b89018"}),i.jsx("circle",{cx:"0",cy:"0.7",r:"0.25",fill:"#b89018"})]}),i.jsx("path",{d:"M 10 15 L 10 38 Q 10 42 14 42 Q 18 42 18 38 L 18 18 Q 18 14 14 14 Q 10 14 10 18 L 10 36 Q 10 39 13 39 Q 16 39 16 36 L 16 20",stroke:"#8a8a9a",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"})]})}const Ka=[{id:"morning",label:"Morning",Icon:Hm,stub:!1},{id:"plan",label:"Plan",Icon:Um,stub:!1},{id:"tasks",label:"Tasks",Icon:Vm,stub:!1},{id:"add",label:"Add",Icon:Km,stub:!1},{id:"rewards",label:"Rewards",Icon:Qm,stub:!1},{id:"calendar",label:"Calendar",Icon:Gm,stub:!0},{id:"daybook",label:"Daybook",Icon:qm,stub:!0},{id:"poetry",label:"Poetry",Icon:Ym,stub:!1},{id:"bindery",label:"Bindery",Icon:Jm,stub:!1}],Ki=100,Qi=200,vu=28;function Zm(){const e=()=>window.innerWidth>=window.innerHeight?"landscape":"portrait",[t,n]=S.useState(e);return S.useEffect(()=>{const r=()=>n(e());return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function eh({containerRef:e,allowFillers:t,children:n}){const r=S.useRef(null),[o,a]=S.useState(0);return S.useEffect(()=>{if(!t||!(e!=null&&e.current)||!(r!=null&&r.current))return;const l=()=>{var g,m;const u=((g=e.current)==null?void 0:g.clientHeight)??0,p=((m=r.current)==null?void 0:m.clientHeight)??0;a(Math.max(0,u-p-40))},s=new ResizeObserver(l);return s.observe(r.current),s.observe(e.current),l(),()=>s.disconnect()},[t,e]),i.jsxs("div",{children:[i.jsx("div",{ref:r,children:n}),o>=120&&i.jsx("div",{style:{marginTop:20,height:o-20,border:"1px dashed rgba(100,80,60,0.16)",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontSize:9,color:"rgba(100,80,60,0.28)",fontFamily:"var(--font-body)",letterSpacing:"0.5px",userSelect:"none"},children:"filler image"})]})}function th({gutterPx:e=40}){return i.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:"50%",width:e*2,transform:"translateX(-50%)",background:"linear-gradient(to right, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0.07) 35%, transparent 52%, rgba(0,0,0,0.03) 78%, transparent 100%)",pointerEvents:"none",zIndex:10}})}function nh({clothHex:e,width:t=8}){return i.jsx("div",{style:{width:t,flexShrink:0,background:`linear-gradient(to left, ${e}cc, ${e}88)`,backgroundImage:"repeating-linear-gradient(135deg,transparent 0,transparent 2px,rgba(255,255,255,0.04) 2px,rgba(255,255,255,0.04) 4px),repeating-linear-gradient(45deg,transparent 0,transparent 2px,rgba(0,0,0,0.04) 2px,rgba(0,0,0,0.04) 4px)",boxShadow:"inset 4px 0 8px rgba(0,0,0,0.12)",borderRadius:"0 3px 3px 0",position:"relative",zIndex:2}})}function rh({title:e,orientation:t}){return i.jsx("div",{style:{width:24,flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"10px 0",borderRight:"1px solid rgba(100,120,160,0.1)"},children:i.jsxs("div",{style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)",display:"flex",flexDirection:"column",alignItems:"center",gap:10,userSelect:"none"},children:[i.jsx("span",{style:{fontSize:7,fontWeight:700,letterSpacing:"2.5px",textTransform:"uppercase",color:"rgba(100,80,60,0.3)",fontFamily:"var(--font-header)",whiteSpace:"nowrap"},children:e}),t==="landscape"&&i.jsx(mm,{faded:!0,vertical:!0})]})})}function oh({icon:e}){return i.jsx("div",{style:{width:22,flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",padding:"10px 0 12px",borderLeft:"1px solid rgba(100,120,160,0.1)"},children:i.jsx("span",{style:{fontSize:12,opacity:.32,userSelect:"none",lineHeight:1},children:e})})}function ih({leftText:e,rightContent:t}){const n="rgba(100,80,60,0.34)";return i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"3px 10px",borderBottom:"1px solid rgba(100,120,160,0.1)",minHeight:24,flexShrink:0},children:[i.jsx("span",{style:{fontSize:8,fontFamily:"var(--font-body)",color:n,letterSpacing:"0.3px"},children:e}),i.jsx("span",{style:{fontSize:8,fontFamily:"var(--font-body)",color:n},children:t})]})}function ah({activeChapter:e,onNavigate:t}){const n="rgba(80,60,40,0.54)",r="rgba(80,50,10,0.72)";return i.jsx("div",{style:{borderTop:"1px solid rgba(100,120,160,0.1)",display:"flex",justifyContent:"space-around",alignItems:"center",padding:"3px 2px 5px",flexShrink:0},children:Ka.map(({id:o,label:a,Icon:l,stub:s})=>{const u=e===o,p=u?r:n;return i.jsxs("button",{onClick:()=>!s&&t(o),title:a,style:{background:"none",border:"none",cursor:s?"default":"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:2,padding:"2px 3px",opacity:s?.25:u?1:.72,transform:u?"translateY(-1px)":"none",transition:"opacity .15s, transform .15s"},children:[i.jsx(l,{size:14,color:p,strokeWidth:u?2:1.5}),i.jsx("span",{style:{fontSize:6,fontFamily:"var(--font-body)",letterSpacing:"0.4px",textTransform:"uppercase",color:p,fontWeight:u?700:400},children:a})]},o)})})}function Gc({onClick:e}){const[t,n]=S.useState(!1);return i.jsx("div",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Sticker library",style:{position:"absolute",right:-24,top:"8%",zIndex:1,cursor:"pointer",transform:`rotate(${t?42:37}deg) translateX(${t?-6:0}px)`,transition:"transform .2s ease",filter:"drop-shadow(-1px 3px 4px rgba(0,0,0,0.22))"},children:i.jsx(Xm,{size:34})})}function Yc({onOpen:e}){const[t,n]=S.useState(!1);return i.jsx("div",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Quick note",style:{position:"absolute",right:-22,top:"26%",width:36,height:60,zIndex:1,transform:`rotate(6deg) translateX(${t?-8:0}px)`,transition:"transform .2s ease",cursor:"pointer",filter:"drop-shadow(-2px 3px 6px rgba(0,0,0,0.22))"},children:i.jsxs("div",{style:{width:"100%",height:"100%",background:"#fefce8",border:"1px solid #d4c870",borderRadius:"2px 3px 3px 2px",position:"relative",overflow:"hidden"},children:[[16,25,34,43,52].map(r=>i.jsx("div",{style:{position:"absolute",left:4,right:4,top:r,height:1,background:"rgba(100,120,160,0.2)"}},r)),i.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:8,width:1,background:"rgba(200,80,80,0.18)"}})]})})}function qc({onOpen:e}){const[t,n]=S.useState(!1);return i.jsx("div",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),title:"Diary / photo",style:{position:"absolute",right:-24,top:"48%",width:44,height:52,zIndex:1,transform:`rotate(-5deg) translateX(${t?-8:0}px)`,transition:"transform .2s ease",cursor:"pointer",filter:"drop-shadow(-2px 4px 7px rgba(0,0,0,0.24))"},children:i.jsx("div",{style:{width:"100%",height:"100%",background:"#fff",border:"1px solid #d4d0ca",borderRadius:2,padding:"4px 4px 11px",display:"flex",flexDirection:"column"},children:i.jsx("div",{style:{flex:1,background:"#ddd",borderRadius:1}})})})}function Hl({onClose:e,children:t}){return i.jsx("div",{onClick:e,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("div",{onClick:n=>n.stopPropagation(),children:t})})}function lh({onClose:e}){return i.jsx(Hl,{onClose:e,children:i.jsxs("div",{style:{background:"#fefce8",borderRadius:5,padding:20,width:300,maxWidth:"90vw",boxShadow:"0 12px 40px rgba(0,0,0,0.3)",fontFamily:"var(--font-body)",backgroundImage:"repeating-linear-gradient(transparent,transparent 23px,rgba(100,120,160,0.12) 23px,rgba(100,120,160,0.12) 24px)",backgroundPositionY:"38px"},children:[i.jsx("div",{style:{fontSize:9,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"#8a7a50",marginBottom:12},children:"Quick Note"}),i.jsx("textarea",{placeholder:"Jot something down...",style:{width:"100%",minHeight:90,background:"transparent",border:"none",outline:"none",resize:"none",fontFamily:"var(--font-body)",fontSize:13,color:"#2c2416",lineHeight:"24px"}}),i.jsx("div",{style:{fontSize:10,color:"#b0a070",marginTop:8,borderTop:"1px solid #d4c870",paddingTop:8},children:"Inbox coming soon  notes will save here."}),i.jsx("button",{onClick:e,style:{marginTop:12,padding:"6px 14px",background:"#d4c870",border:"none",borderRadius:4,cursor:"pointer",fontFamily:"var(--font-header)",fontWeight:700,fontSize:11,color:"#2c2416"},children:"Close"})]})})}function sh({onClose:e}){return i.jsx(Hl,{onClose:e,children:i.jsxs("div",{style:{background:"#fff",borderRadius:3,padding:"14px 14px 28px",width:280,maxWidth:"90vw",boxShadow:"0 14px 44px rgba(0,0,0,0.3)"},children:[i.jsx("div",{style:{width:"100%",height:180,background:"#e8e8e8",marginBottom:10,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,color:"#aaa"},children:" Photo upload coming soon"}),i.jsx("textarea",{placeholder:"Diary entry...",style:{width:"100%",height:50,border:"none",borderBottom:"1px solid #eee",outline:"none",resize:"none",fontSize:12,color:"#333",fontFamily:"var(--font-body)",lineHeight:1.6,padding:"4px 0"}}),i.jsx("div",{style:{fontSize:10,color:"#aaa",marginTop:8},children:"Diary feature coming soon."}),i.jsx("button",{onClick:e,style:{marginTop:12,padding:"6px 14px",background:"#333",border:"none",borderRadius:3,cursor:"pointer",fontSize:11,color:"#fff",fontFamily:"var(--font-header)",fontWeight:700},children:"Close"})]})})}function uh({onClose:e}){return i.jsx(Hl,{onClose:e,children:i.jsxs("div",{style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:10,padding:24,width:340,maxWidth:"90vw",boxShadow:"0 12px 40px rgba(0,0,0,0.3)"},children:[i.jsx("div",{style:{fontSize:10,fontWeight:800,letterSpacing:"1.2px",textTransform:"uppercase",color:"var(--muted)",marginBottom:14},children:"Sticker Library"}),i.jsxs("div",{style:{padding:40,border:"1px dashed var(--border)",borderRadius:6,textAlign:"center",color:"var(--muted)",fontSize:11,lineHeight:1.7},children:["Sticker library coming soon.",i.jsx("br",{}),i.jsx("span",{style:{fontSize:10,opacity:.6},children:"Upload and tag images in Bindery  Fillers."})]}),i.jsx("button",{onClick:e,style:{marginTop:14,padding:"7px 16px",background:"var(--surface2)",border:"1px solid var(--border)",borderRadius:"var(--radius-md)",cursor:"pointer",fontFamily:"var(--font-header)",fontWeight:700,fontSize:11,color:"var(--muted)"},children:"Close"})]})})}function bu({slot:e,orientation:t,sectionConfig:n,pageColourHex:r,pageStyle:o,margins:a,topBarLeft:l,topBarRight:s,showFooterNav:u,showEdgeStubs:p,activeChapter:g,onNavigate:m,onIndexCard:x,onPolaroid:w,onStickerPicker:k,pageNumber:j,allowFillers:b,containerRef:c,children:d}){const f=e==="left"||e==="top",h=e==="right"||e==="bottom";return i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",backgroundColor:r,minWidth:0},children:[i.jsx("div",{style:o}),i.jsxs("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",height:"100%"},children:[i.jsx(ih,{leftText:l,rightContent:s}),i.jsxs("div",{ref:c,style:{flex:1,display:"flex",overflow:"hidden",position:"relative"},children:[f&&i.jsx(rh,{title:n.title,orientation:t}),i.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:f?`${a.top}px ${a.side+32}px ${a.bottom+20}px ${a.side}px`:`${a.top}px ${a.side}px ${a.bottom+20}px ${a.side+32}px`,scrollbarWidth:"thin",scrollbarColor:"rgba(100,80,60,0.1) transparent"},children:h?i.jsx(eh,{containerRef:c,allowFillers:b,children:d}):d}),h&&i.jsx(oh,{icon:n.icon})]}),u&&i.jsx(ah,{activeChapter:g,onNavigate:m})]}),i.jsx("div",{style:{position:"absolute",bottom:u?30:7,[h?"right":"left"]:10,fontSize:7.5,fontFamily:"var(--font-body)",color:"rgba(100,80,60,0.2)",pointerEvents:"none",zIndex:5,userSelect:"none"},children:j}),h&&i.jsx("div",{style:{position:"absolute",bottom:0,right:0,width:12,height:12,background:"linear-gradient(135deg, transparent 50%, rgba(0,0,0,0.04) 50%)",pointerEvents:"none",zIndex:5}}),p&&i.jsxs(i.Fragment,{children:[i.jsx(Gc,{onClick:k}),i.jsx(Yc,{onOpen:x}),i.jsx(qc,{onOpen:w})]})]})}function dh({chapters:e,pointsBank:t,navigateRef:n}){var Ye,je;const[r,o]=S.useState("morning"),[a,l]=S.useState("morning"),[s,u]=S.useState(!0),[p,g]=S.useState(()=>localStorage.getItem("book_darkmode")==="true"),[m,x]=S.useState(Mm),[w,k]=S.useState(!1),[j,b]=S.useState(!1),[c,d]=S.useState(!1),f=Zm(),h=S.useRef(!1),v=S.useRef(null),C=S.useRef(null),N=S.useCallback(G=>{G===r||h.current||(h.current=!0,u(!1),setTimeout(()=>{o(G),l(G),u(!0),setTimeout(()=>{h.current=!1},Qi)},Ki))},[r]);S.useEffect(()=>{n&&(n.current=N)},[N,n]),S.useEffect(()=>{localStorage.setItem("book_darkmode",String(p)),document.documentElement.setAttribute("data-book-dark",p?"true":"false")},[p]);const P=G=>{x(G),Fm(G)},F=Bm(a,m.sections,m),I=((Ye=Kt.find(G=>G.id===F.pageColour))==null?void 0:Ye.hex)??"#faf8f2",O=Dm(F.pagePattern,I),J=((je=bo.find(G=>G.id===m.clothColour))==null?void 0:je.hex)??"#1a2744",V=Va[m.spineWidth]??38,Ge=xu[m.marginSize]??xu.normal,ot=Ic(m.bgTexture,m.bgColour),$e=20,D=8,z=G=>{if(a==="bindery")return G==="left"||G==="top"?i.jsx(Om,{settings:m,onChange:P}):i.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:12,opacity:.35},children:[i.jsxs("div",{style:{display:"flex",height:80,width:160,borderRadius:3,overflow:"hidden",boxShadow:"0 4px 16px rgba(0,0,0,0.25)"},children:[i.jsx("div",{style:{width:Va[m.spineWidth],background:`linear-gradient(to right,${J}cc,${J})`,backgroundImage:"repeating-linear-gradient(135deg,transparent,transparent 2px,rgba(255,255,255,0.05) 2px,rgba(255,255,255,0.05) 4px)",borderRight:"1px solid rgba(0,0,0,0.2)",flexShrink:0}}),i.jsx("div",{style:{flex:1,backgroundColor:I}}),i.jsx("div",{style:{flex:1,backgroundColor:I,borderLeft:"1px solid rgba(0,0,0,0.06)"}})]}),i.jsxs("div",{style:{fontSize:10,fontFamily:"var(--font-body)",color:"rgba(100,80,60,0.5)",textAlign:"center",lineHeight:1.6},children:["Configure your book",i.jsx("br",{}),"on the left page"]})]});if(a==="poetry")return G==="right"||G==="bottom"?i.jsx(Rm,{bindery:m}):null;const de=Ka.find(an=>an.id===a);if(de!=null&&de.stub){const Wn={calendar:{emoji:"",desc:"Google Calendar integration  view upcoming events and block time for tasks."},daybook:{emoji:"",desc:"Daily diary entries with photos, mood tracking, and reflections."}}[a]??{emoji:"",desc:"Coming soon."};return Lc(de.label,Wn.desc,Wn.emoji)(G,f)}const ye=e[a];return ye?typeof ye=="function"?ye(G,f):ye:null},M=new Date().toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),L=Ka.findIndex(G=>G.id===a),Y=i.jsx("button",{onClick:()=>g(G=>!G),style:{background:"none",border:"none",cursor:"pointer",padding:2,display:"flex",alignItems:"center"},children:p?i.jsx($m,{size:10,color:"rgba(100,80,60,0.36)",strokeWidth:1.5}):i.jsx(Wm,{size:10,color:"rgba(100,80,60,0.36)",strokeWidth:1.5})}),K={orientation:f,sectionConfig:F,pageColourHex:I,pageStyle:O,margins:Ge,activeChapter:r,onNavigate:N,allowFillers:F.allowFillers,onIndexCard:()=>k(!0),onPolaroid:()=>b(!0),onStickerPicker:()=>d(!0)};return i.jsxs(i.Fragment,{children:[i.jsx("style",{children:`
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        /* Full viewport, no scrollbars on body  the book fills everything */
        html, body {
          width: 100%; height: 100%;
          overflow: hidden;
          font-family: var(--font-body, Georgia, serif);
        }

        body {
          ${ot}
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color .4s;
        }

        /*
         * .book-wrap: the entire book (spine + pages).
         * Fills the viewport minus MARGIN_PX on each side.
         * overflow:visible allows stubs to extend into the margin zone.
         */
        .book-wrap {
          width:  calc(100vw  - ${vu*2}px);
          height: calc(100vh  - ${vu*2}px);
          display: flex;
          align-items: stretch;
          /* Hardcover shadow  deeper on spine side, lighter on page side */
          box-shadow:
            -10px 0  30px rgba(0,0,0,0.38),
             0    12px 50px rgba(0,0,0,0.30),
             0    2px  8px  rgba(0,0,0,0.16),
             6px  0   20px  rgba(0,0,0,0.12);
          border-radius: 2px 5px 5px 2px;
          /* Critical: lets stubs overflow the page boundary */
          overflow: visible;
          position: relative;
        }

        /* Spine  cloth-textured left edge */
        .book-spine {
          flex-shrink: 0;
          border-radius: 2px 0 0 2px;
          position: relative;
          overflow: hidden;
          z-index: 2;
        }
        /* Cloth weave  two overlapping diagonal gradients */
        .book-spine::before {
          content: '';
          position: absolute; inset: 0;
          background-image:
            repeating-linear-gradient(135deg, transparent 0, transparent 2px, rgba(255,255,255,0.04) 2px, rgba(255,255,255,0.04) 4px),
            repeating-linear-gradient(45deg,  transparent 0, transparent 2px, rgba(0,0,0,0.05)       2px, rgba(0,0,0,0.05)       4px);
        }
        /* Inner shadow on right edge of spine  makes it look rounded */
        .book-spine::after {
          content: '';
          position: absolute; top: 0; bottom: 0; right: 0; width: 10px;
          background: linear-gradient(to right, transparent, rgba(0,0,0,0.22));
          pointer-events: none;
        }

        /*
         * .book-pages: contains both page divs.
         * In landscape: flex-direction row (side by side).
         * In portrait: flex-direction column (stacked).
         * overflow:visible so stubs aren't clipped.
         */
        .book-pages {
          flex: 1;
          display: flex;
          position: relative;
          /* Clip the pages themselves to the book boundary */
          border-radius: 0 5px 5px 0;
          /* Inner left shadow  suggests gutter depth */
          box-shadow: inset 5px 0 12px rgba(0,0,0,0.07);
          overflow: visible;
        }
        .book-pages.landscape { flex-direction: row; }
        .book-pages.portrait  { flex-direction: column; }

        /* Clip pages but not stubs  achieved by clipping the inner wrapper */
        .pages-clip {
          position: absolute; inset: 0;
          border-radius: 0 5px 5px 0;
          overflow: hidden;
          display: flex;
          flex: 1;
        }
        .pages-clip.portrait { flex-direction: column; }

        /* Dissolve transition  applied to the inner flex wrapper */
        .fade-wrap {
          display: flex; flex: 1;
          transition: opacity ${Ki}ms ease, filter ${Ki}ms ease;
        }
        .fade-wrap.portrait { flex-direction: column; }
        .fade-wrap.out { opacity: 0; filter: blur(3px); }
        .fade-wrap.in {
          opacity: 1; filter: blur(0);
          transition: opacity ${Qi}ms ease, filter ${Qi}ms ease;
        }

        /* Slim custom scrollbar on page content */
        .book-pages ::-webkit-scrollbar { width: 3px; }
        .book-pages ::-webkit-scrollbar-track { background: transparent; }
        .book-pages ::-webkit-scrollbar-thumb { background: rgba(100,80,60,0.12); border-radius: 2px; }

        /* Mobile: book fills full screen, spine hides */
        @media (max-width: 480px) {
          .book-wrap { width: 100vw; height: 100vh; border-radius: 0; box-shadow: none; }
          .book-spine { display: none; }
          .pages-clip { border-radius: 0; }
        }
      `}),i.jsxs("div",{className:"book-wrap",children:[i.jsx("div",{className:"book-spine",style:{width:V,background:`linear-gradient(to right, ${J}dd, ${J})`},children:i.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx("span",{style:{writingMode:"vertical-rl",transform:"rotate(180deg)",fontSize:7,fontWeight:700,letterSpacing:"2.5px",textTransform:"uppercase",color:"rgba(255,255,255,0.16)",fontFamily:"var(--font-header)",userSelect:"none",whiteSpace:"nowrap"},children:"Commonplace"})})}),i.jsxs("div",{className:`book-pages ${f}`,children:[i.jsx("div",{className:`pages-clip ${f==="portrait"?"portrait":""}`,style:{zIndex:2},children:i.jsxs("div",{className:`fade-wrap ${f==="portrait"?"portrait":""} ${s?"in":"out"}`,children:[i.jsx(bu,{slot:f==="landscape"?"left":"top",topBarLeft:M,topBarRight:t>0?` ${t.toLocaleString()}`:"",showFooterNav:!1,showEdgeStubs:!1,pageNumber:L*2,containerRef:v,...K,children:z(f==="landscape"?"left":"top")}),i.jsx(bu,{slot:f==="landscape"?"right":"bottom",topBarLeft:F.title,topBarRight:Y,showFooterNav:!0,showEdgeStubs:!1,pageNumber:L*2+1,containerRef:C,...K,children:z(f==="landscape"?"right":"bottom")})]})}),f==="landscape"&&i.jsx(th,{gutterPx:$e})]}),i.jsx(nh,{clothHex:J,width:D}),i.jsx(Gc,{onClick:()=>d(!0)}),i.jsx(Yc,{onOpen:()=>k(!0)}),i.jsx(qc,{onOpen:()=>b(!0)})]}),w&&i.jsx(lh,{onClose:()=>k(!1)}),j&&i.jsx(sh,{onClose:()=>b(!1)}),c&&i.jsx(uh,{onClose:()=>d(!1)})]})}const A={overlay:{position:"fixed",inset:0,zIndex:9e3,background:"radial-gradient(ellipse at 30% 40%, #1a2744 0%, #0d0f14 70%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Syne', sans-serif"},card:{width:"100%",maxWidth:380,background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:16,padding:"36px 32px",boxShadow:"0 24px 64px rgba(0,0,0,0.5)"},logo:{fontSize:22,fontWeight:800,letterSpacing:-1,color:"#dde1ee",marginBottom:6},logoAccent:{color:"#d4f03a"},subtitle:{fontSize:11,color:"rgba(221,225,238,0.45)",letterSpacing:"1.5px",textTransform:"uppercase",marginBottom:28},label:{display:"block",fontSize:11,fontWeight:700,color:"rgba(221,225,238,0.5)",letterSpacing:"1px",textTransform:"uppercase",marginBottom:6},input:{width:"100%",padding:"11px 14px",background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,color:"#dde1ee",fontSize:15,fontFamily:"'Syne', sans-serif",outline:"none",marginBottom:4,transition:"border-color .15s"},inputFocus:{borderColor:"#d4f03a"},btn:{width:"100%",padding:"12px",background:"#d4f03a",color:"#0a0b0e",border:"none",borderRadius:8,fontSize:13,fontWeight:800,fontFamily:"'Syne', sans-serif",cursor:"pointer",letterSpacing:".5px",transition:"opacity .15s",marginTop:16},btnDisabled:{opacity:.35,cursor:"not-allowed"},btnSecondary:{background:"none",border:"1px solid rgba(255,255,255,0.12)",color:"rgba(221,225,238,0.55)"},rule:{display:"flex",alignItems:"center",gap:8,fontSize:11,marginBottom:5},ruleOk:{color:"#3de8be"},ruleFail:{color:"rgba(221,225,238,0.3)"},err:{fontSize:11,color:"#ff8080",background:"rgba(255,86,86,0.08)",border:"1px solid rgba(255,86,86,0.2)",borderRadius:6,padding:"8px 12px",marginTop:10},info:{fontSize:11,color:"#7fffd4",background:"rgba(61,232,190,0.07)",border:"1px solid rgba(61,232,190,0.2)",borderRadius:6,padding:"8px 12px",marginTop:10,lineHeight:1.6},link:{background:"none",border:"none",color:"rgba(212,240,58,0.7)",fontSize:11,cursor:"pointer",padding:0,textDecoration:"underline",marginTop:12,display:"block",textAlign:"center"},spinner:{width:20,height:20,border:"2px solid rgba(255,255,255,0.1)",borderTop:"2px solid #d4f03a",borderRadius:"50%",animation:"spin 0.7s linear infinite",margin:"0 auto"}};function ch({password:e}){if(!e)return null;const t=$c(e);return i.jsx("div",{style:{marginBottom:12},children:t.map(n=>i.jsxs("div",{style:{...A.rule,...n.ok?A.ruleOk:A.ruleFail},children:[i.jsx("span",{children:n.ok?"":""}),i.jsx("span",{children:n.label})]},n.label))})}function fh({onChangePassword:e}){const t=bm();return t===null||t>14?null:i.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:8e3,background:t<=3?"linear-gradient(90deg, rgba(255,86,86,0.15), rgba(255,86,86,0.08))":"linear-gradient(90deg, rgba(255,159,67,0.12), rgba(255,159,67,0.06))",borderBottom:`1px solid ${t<=3?"rgba(255,86,86,0.3)":"rgba(255,159,67,0.25)"}`,padding:"6px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:12,fontSize:11,fontFamily:"'Syne', sans-serif",color:t<=3?"#ffaaaa":"#ffd090"},children:[i.jsx("span",{children:t<=0?" Passphrase expired  please change it":` Passphrase expires in ${t} day${t===1?"":"s"}`}),i.jsx("button",{onClick:e,style:{background:"none",border:"1px solid currentColor",borderRadius:4,padding:"2px 8px",fontSize:10,fontWeight:700,cursor:"pointer",color:"inherit",fontFamily:"'Syne', sans-serif"},children:"Update now"})]})}function ph({children:e}){const[t,n]=S.useState("checking"),[r,o]=S.useState(""),[a,l]=S.useState(""),[s,u]=S.useState(""),[p,g]=S.useState(!1),[m,x]=S.useState(""),[w,k]=S.useState(""),[j,b]=S.useState(""),[c,d]=S.useState(!1),[f,h]=S.useState(""),[v,C]=S.useState(!1);S.useEffect(()=>{const z=new URLSearchParams(window.location.search).get("reset");if(z){h(z),n("reset-form"),window.history.replaceState({},"",window.location.pathname);return}if(ym()){n("unlocked");return}N()},[]);const N=async()=>{n("checking");try{const{setupComplete:D}=await me.setupStatus();n(D?"locked":"first-run")}catch{x("Cannot reach the API. Check your internet connection."),n("locked")}},P=async()=>{if(!dn(r)){x("Please satisfy all password requirements.");return}if(r!==a){x("Passphrases do not match.");return}if(!s.includes("@")){x("Please enter a valid email address.");return}g(!0),x("");try{const D=Wi(),z=await ro(r,D);await me.setup({verifier:z,salt:D,email:s}),oo(z),n("unlocked")}catch(D){x(D.message??"Setup failed. Check the API is reachable.")}g(!1)},F=async()=>{if(!r){x("Please enter your passphrase.");return}g(!0),x("");try{const{salt:D}=await me.getSalt(),z=await ro(r,D);oo(z),await me.ping(),await me.tags("_auth_check"),n("unlocked")}catch(D){Hc(),D instanceof Ua||D.status===401?x("Incorrect passphrase."):x(D.message??"Login failed.")}g(!1),o("")},I=async()=>{g(!0),x(""),k("");try{await me.requestReset(),k("Reset link sent  check your email. The link expires in 1 hour."),n("reset-sent")}catch{x("Could not send reset email. Try again.")}g(!1)},O=async()=>{if(!dn(r)){x("Please satisfy all password requirements.");return}if(r!==a){x("Passphrases do not match.");return}g(!0),x("");try{const D=Wi(),z=await ro(r,D);await me.verifyReset({token:f,verifier:z,salt:D}),oo(z),k("Passphrase updated."),n("unlocked")}catch(D){x(D.message??"Reset failed. The link may have expired.")}g(!1)},J=async()=>{if(!dn(r)){x("Please satisfy all password requirements.");return}if(r!==a){x("Passphrases do not match.");return}g(!0),x("");try{const D=Wi(),z=await ro(r,D);await me.changePassword({verifier:z,salt:D}),oo(z),C(!1),o(""),l(""),k("Passphrase changed successfully.")}catch(D){x(D.message??"Change failed.")}g(!1)},V=D=>z=>{z.key==="Enter"&&D()};if(t==="unlocked"&&!v)return i.jsxs(i.Fragment,{children:[i.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"}),i.jsx(fh,{onChangePassword:()=>C(!0)}),e,v&&i.jsx("div",{style:A.overlay,children:i.jsxs("div",{style:A.card,children:[i.jsx("div",{style:A.logo,children:"Change passphrase"}),i.jsx("div",{style:A.subtitle,children:"Choose a new secure passphrase"}),i.jsx(Gi,{pw:r,setPw:o,pw2:a,setPw2:l,showPw:c,setShowPw:d,focused:j,setFocused:b}),m&&i.jsx("div",{style:A.err,children:m}),i.jsx(ao,{onClick:J,busy:p,disabled:!dn(r)||r!==a,children:"Update passphrase"}),i.jsx("button",{style:A.link,onClick:()=>{C(!1),x("")},children:"Cancel"})]})})]});const Ge={checking:["Connecting","Reaching your API"],"first-run":["Welcome","Set up your passphrase"],locked:["Commonplace Book","Enter your passphrase to continue"],"reset-sent":["Check your email","Reset link sent"],"reset-form":["Reset passphrase","Choose a new passphrase"]},[ot,$e]=Ge[t]??["Commonplace Book",""];return i.jsxs("div",{style:A.overlay,children:[i.jsx("style",{children:`
        @keyframes spin { to { transform: rotate(360deg); } }
        @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&display=swap');
      `}),i.jsxs("div",{style:A.card,children:[i.jsxs("div",{style:A.logo,children:["day",i.jsx("span",{style:A.logoAccent,children:"."}),"plan",i.jsx("span",{style:{fontSize:11,color:"rgba(221,225,238,0.3)",fontWeight:400,marginLeft:8},children:"commonplace"})]}),i.jsx("div",{style:A.subtitle,children:$e}),t==="checking"&&i.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:i.jsx("div",{style:A.spinner})}),t==="first-run"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{style:{fontSize:11,color:"rgba(221,225,238,0.5)",marginBottom:20,lineHeight:1.7},children:"This is your first time here. Choose a passphrase to encrypt your API access. It will never be stored or sent to the server  only a derived key is used."}),i.jsx(Gi,{pw:r,setPw:o,pw2:a,setPw2:l,showPw:c,setShowPw:d,focused:j,setFocused:b}),i.jsx("label",{style:A.label,children:"Your email (for password resets)"}),i.jsx("input",{style:{...A.input,...j==="email"?A.inputFocus:{}},type:"email",value:s,onChange:D=>u(D.target.value),onFocus:()=>b("email"),onBlur:()=>b(""),placeholder:"you@example.com",onKeyDown:V(P)}),m&&i.jsx("div",{style:A.err,children:m}),i.jsx(ao,{onClick:P,busy:p,disabled:!dn(r)||r!==a||!s.includes("@"),children:"Set passphrase & unlock"})]}),t==="locked"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{style:A.label,children:"Passphrase"}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx("input",{style:{...A.input,...j==="pw"?A.inputFocus:{},paddingRight:44},type:c?"text":"password",value:r,onChange:D=>o(D.target.value),onFocus:()=>b("pw"),onBlur:()=>b(""),placeholder:"Enter your passphrase",autoFocus:!0,onKeyDown:V(F)}),i.jsx("button",{onClick:()=>d(D=>!D),style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"rgba(221,225,238,0.4)",fontSize:12,padding:0},children:c?"hide":"show"})]}),m&&i.jsx("div",{style:A.err,children:m}),i.jsx(ao,{onClick:F,busy:p,disabled:!r,children:"Unlock"}),i.jsx("button",{style:A.link,onClick:I,disabled:p,children:"Forgot passphrase? Send reset email"})]}),t==="reset-sent"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:A.info,children:"A reset link has been sent to your registered address. Click it within 1 hour. The link will open this app with a password reset form."}),i.jsx("button",{style:{...A.btn,...A.btnSecondary,marginTop:20},onClick:()=>n("locked"),children:"Back to login"})]}),t==="reset-form"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{style:{fontSize:11,color:"rgba(221,225,238,0.5)",marginBottom:20,lineHeight:1.7},children:"Choose a new passphrase. This will replace your existing one and log you in."}),i.jsx(Gi,{pw:r,setPw:o,pw2:a,setPw2:l,showPw:c,setShowPw:d,focused:j,setFocused:b}),m&&i.jsx("div",{style:A.err,children:m}),i.jsx(ao,{onClick:O,busy:p,disabled:!dn(r)||r!==a,children:"Set new passphrase"})]})]})]})}function Gi({pw:e,setPw:t,pw2:n,setPw2:r,showPw:o,setShowPw:a,focused:l,setFocused:s}){return i.jsxs(i.Fragment,{children:[i.jsx("label",{style:A.label,children:"Passphrase"}),i.jsxs("div",{style:{position:"relative",marginBottom:4},children:[i.jsx("input",{style:{...A.input,...l==="pw"?A.inputFocus:{},paddingRight:44},type:o?"text":"password",value:e,onChange:u=>t(u.target.value),onFocus:()=>s("pw"),onBlur:()=>s(""),placeholder:"e.g. Sunrise&River7!",autoFocus:!0}),i.jsx("button",{onClick:()=>a(u=>!u),style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"rgba(221,225,238,0.4)",fontSize:12,padding:0},children:o?"hide":"show"})]}),i.jsx(ch,{password:e}),i.jsx("label",{style:A.label,children:"Confirm passphrase"}),i.jsx("input",{style:{...A.input,...l==="pw2"?A.inputFocus:{},...n&&e!==n?{borderColor:"rgba(255,86,86,0.6)"}:{},...n&&e===n?{borderColor:"rgba(61,232,190,0.5)"}:{},marginBottom:16},type:o?"text":"password",value:n,onChange:u=>r(u.target.value),onFocus:()=>s("pw2"),onBlur:()=>s(""),placeholder:"Repeat passphrase"}),n&&e!==n&&i.jsx("div",{style:{fontSize:11,color:"#ff8080",marginTop:-12,marginBottom:8},children:"Passphrases do not match"})]})}function ao({onClick:e,busy:t,disabled:n,children:r}){return i.jsx("button",{onClick:e,disabled:t||n,style:{...A.btn,...t||n?A.btnDisabled:{}},children:t?i.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[i.jsx("span",{style:{...A.spinner,width:14,height:14,borderWidth:2,display:"inline-block"}}),"Working"]}):r})}const Jc={async get(e){try{const t=localStorage.getItem(e);return t?{key:e,value:t}:null}catch{return null}},async set(e,t){try{return localStorage.setItem(e,t),{key:e,value:t}}catch{return null}},async delete(e){try{return localStorage.removeItem(e),{key:e,deleted:!0}}catch{return null}},async list(e=""){try{const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);(!e||r.startsWith(e))&&t.push(r)}return{keys:t,prefix:e}}catch{return{keys:[]}}}};typeof window<"u"&&(window.storage=Jc);const gh=S.createContext(null);function mh({children:e}){return i.jsx(gh.Provider,{value:Jc,children:e})}function hh(){const e=S.useRef(null);return i.jsx(mh,{children:i.jsx(ph,{children:i.jsx(cm,{onNavigate:t=>{e.current&&e.current(t)},children:({chapters:t,pointsBank:n})=>i.jsx(dh,{chapters:t,pointsBank:n,navigateRef:e,onNavigateToRewards:()=>{e.current&&e.current("rewards")}})})})})}Yi.createRoot(document.getElementById("root")).render(i.jsx(Tf.StrictMode,{children:i.jsx(hh,{})}));
